(window.webpackJsonpunifiNetworkUi=window.webpackJsonpunifiNetworkUi||[]).push([[25],{1182:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(6),c=a(767);const r=(e={},t={})=>Object(n.t)(c.a,c.b,c.a,e,t)},1750:function(e,t,a){"use strict";var n=a(1751);a.o(n,"fetchControllerWarnings")&&a.d(t,"fetchControllerWarnings",(function(){return n.fetchControllerWarnings})),a.o(n,"selectHasWlanOverrides")&&a.d(t,"selectHasWlanOverrides",(function(){return n.selectHasWlanOverrides})),a.o(n,"selectLastControllerUpdateQuery")&&a.d(t,"selectLastControllerUpdateQuery",(function(){return n.selectLastControllerUpdateQuery})),a.o(n,"selectLastFirmwareUpdateQuery")&&a.d(t,"selectLastFirmwareUpdateQuery",(function(){return n.selectLastFirmwareUpdateQuery})),a.o(n,"selectLtePaymentExpired")&&a.d(t,"selectLtePaymentExpired",(function(){return n.selectLtePaymentExpired})),a.o(n,"selectLteSubscriptionCancelled")&&a.d(t,"selectLteSubscriptionCancelled",(function(){return n.selectLteSubscriptionCancelled})),a.o(n,"selectLteSubscriptionCheckRequired")&&a.d(t,"selectLteSubscriptionCheckRequired",(function(){return n.selectLteSubscriptionCheckRequired})),a.o(n,"selectUnifiCareEligibleDevices")&&a.d(t,"selectUnifiCareEligibleDevices",(function(){return n.selectUnifiCareEligibleDevices}));var c=a(1182);a.d(t,"fetchControllerWarnings",(function(){return c.a}));a(767);var r=a(1752);a.d(t,"selectHasWlanOverrides",(function(){return r.a})),a.d(t,"selectLastControllerUpdateQuery",(function(){return r.b})),a.d(t,"selectLastFirmwareUpdateQuery",(function(){return r.c})),a.d(t,"selectLtePaymentExpired",(function(){return r.d})),a.d(t,"selectLteSubscriptionCancelled",(function(){return r.e})),a.d(t,"selectLteSubscriptionCheckRequired",(function(){return r.f})),a.d(t,"selectUnifiCareEligibleDevices",(function(){return r.g}))},1751:function(e,t){},1752:function(e,t,a){"use strict";a.d(t,"b",(function(){return E})),a.d(t,"c",(function(){return s})),a.d(t,"d",(function(){return m})),a.d(t,"e",(function(){return d})),a.d(t,"f",(function(){return _})),a.d(t,"g",(function(){return T})),a.d(t,"a",(function(){return b}));var n=a(4),c=a(63),r=a(28),l=a(6),i=a(1182);const o=Object(n.a)(e=>Object(l.w)(Object(i.a)(),e.models),r.c),E=Object(n.a)(o,e=>null==e?void 0:e.last_controller_update_query),s=(Object(n.a)(o,e=>null==e?void 0:e.last_controller_update_query_status),Object(n.a)(o,e=>null==e?void 0:e.last_firmware_update_query)),m=(Object(n.a)(o,e=>null==e?void 0:e.last_firmware_update_query_status),Object(n.a)(o,e=>{var t;return null!==(t=null==e?void 0:e.lte_subscription_past_due_for)&&void 0!==t?t:[]})),d=Object(n.a)(o,e=>{var t;return null!==(t=null==e?void 0:e.lte_subscription_canceled_for)&&void 0!==t?t:[]}),u=Object(n.a)(o,e=>{var t;return null!==(t=null==e?void 0:e.lte_subscription_check_required_for)&&void 0!==t?t:[]}),_=Object(c.a)(e=>Object(n.a)(u,t=>t.reduce((t,{user_uuid:a,mac:n})=>a===e?[...t,n]:t,[]))),T=Object(n.a)(o,e=>{var t;return null!==(t=null==e?void 0:e.unifi_care_eligible_devices)&&void 0!==t?t:[]}),b=Object(n.a)(o,e=>null==e?void 0:e.has_wlan_overrides)},1798:function(e,t,a){"use strict";a.r(t);var n,c=a(0),r=a.n(c),l=a(70),i=a(2),o=a(8),E=a(529),s=a(1750),m=a(18),d=a(50),u=a(145),_=a(1938),T=a(27),b=a(16),S=a(6),p=a(44),O=a(292),N=a(230),A=a(2478),h=a(77),g=a(83),C=a(2118),f=a(322),I=a(1739),M=a(1736),D=a(1737),R=a(1846),L=a(5),v=a(15),j=a(226),y=a(2480),w=a(377),U=a.n(w),P=a(805),x=a.n(P),G=a(37),F="/api/s/{site}/cmd/productinfo",H=function(){return Object(S.p)(G.a.CHECK_FIRMWARE_UPDATE,F,{})},k=function(e){var t=e.username,a=e.password,n=e.token;return function(){var e=x()(U.a.mark((function e(c){return U.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,c(Object(S.p)(G.a.REFRESH_SSO,"".concat(F,"/refresh-sso"),{sso_username:t,sso_password:a,sso_2fa_token:n}));case 2:return e.next=4,c(Object(d.fetchSettings)());case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()},Y="".concat("/api/s/{site}/stat","/fwupdate/latest-version"),B=function(){return Object(S.t)("stat/firmware",Y)},W=a(20),$=a(28),V=a(1937);!function(e){e[e.GRID_TABLE=7]="GRID_TABLE"}(n||(n={}));var z=a(71),K=a(189),q=a(137),Q=a(131),X=a(43);const J=(e,t)=>e.replace(/\/network\/?/,t);var Z=a(228),ee=a.n(Z),te=a(36),ae=a(1851),ne=a(663),ce=a(2732),re=a.n(ce);var le=a(2104),ie=a(2080),oe=a(1850),Ee=a(1136),se=a(215),me=a(32),de=a(1914),ue=a(2846),_e=a(821),Te=a(62),be=a(65),Se=a(1934),pe=a(46);const Oe=Object(L.c)(be.a,{shouldForwardProp:e=>"showBorder"!==e})`
  width: 385px !important;

  ${({showBorder:e,theme:t})=>e&&`\n    > div {\n      border-bottom: 1px solid ${t.motifPalette.ui04};\n      padding-bottom: 32px !important;\n    }\n  `}
`,Ne=Object(L.c)(M.a,{shouldForwardProp:e=>"itemCount"!==e})`
  margin-top: ${({theme:e})=>e.spacing["spacing-l"]};
  height: ${({itemCount:e})=>Se.a.getHeight(e,6)}px;

  > div {
    height: inherit;
  }

  table {
    background: none !important;

    tr {
      border-bottom: 1px solid ${({theme:e})=>e.motifPalette.ui04} !important;
    }
  }
`,Ae=Object(L.c)(oe.a)`
  width: 100%;
  margin-top: ${({theme:e})=>e.spacing["spacing-m"]};

  > div {
    margin-right: 0 !important;
    > div {
      /* removed top margin for serach icon */
      margin-top: 0 !important;

      button {
        padding: 0 !important;
      }
    }
  }
`,he=Object(L.c)(z.g,{shouldForwardProp:e=>"width"!==e})`
  ${({width:e})=>e>0&&`\n    width: ${e}px;\n    max-width: ${e}px;\n    min-width: ${e}px;\n  `}
`,ge=Object(L.c)(Ee.a,{shouldForwardProp:e=>"narrow"!==e})`
  > div:not(:first-child) {
    margin-left: ${({narrow:e,theme:t})=>t.spacing[e?"spacing-xxs":"spacing-s"]};
  }
`,Ce=Object(L.c)(se.a,{shouldForwardProp:e=>"isActive"!==e})`
  width: 28px !important;
  height: 28px !important;
  margin-top: ${({theme:e})=>e.spacing["spacing-xs"]} !important;
  padding: 0 !important;
  ${({isActive:e,theme:t})=>!e&&`background: ${t.motifPalette.ui12} !important;`}
`,fe=Object(L.c)(D.a,{shouldForwardProp:e=>"prop"!==e})`
  flex: 2 1 ${({width:e})=>e}px;
`;var Ie=Object(i.f)(({closeModal:e,intl:t})=>{const a=Object(o.useSelector)(N.selectDevicesBasicAdopted),n=Object(o.useSelector)(m.x),l=Object(o.useSelector)(m.O),{errors:E,handleSubmit:s,initialValues:d,isSubmitting:u,isValid:_,touched:T,values:b,setFieldValue:S,setTouched:O}=Object(p.e)(),{weekDays:A=[],repeat:h,repeatEveryCount:g,repeatEveryPeriod:C}=b,[f,R]=Object(c.useState)(!1),[L,j]=Object(c.useState)(""),y=!!(null==d?void 0:d._id),w=(T||y)&&(_||!Object.keys(null!=E?E:{}).filter(e=>"upgrade_targets"!==e).length),U=Object(c.useMemo)(()=>Object(le.b)(l),[l]),P=Object(c.useCallback)(()=>{b.name?R(!0):O({name:!0})},[R,O,b.name]),x=Object(c.useCallback)(()=>R(!1),[R]),G=Object(c.useCallback)(e=>S("upgrade_targets",e),[S]),F=Object(c.useCallback)(e=>{(null==A?void 0:A.includes(e))?S("weekDays",null==A?void 0:A.filter(t=>t!==e)):S("weekDays",[...A,e])},[A,S]),H=Object(c.useMemo)(()=>{const e=L.toLowerCase();return a.filter(({name:t,model:a,mac:n})=>[t,a,n,Object(pe.a)({model:a})].some((t="")=>t.toLowerCase().indexOf(e)>=0))},[a,L]),k=Object(c.useMemo)(()=>{switch(h){case ie.c.WEEKLY:return r.a.createElement(M.a,{disabled:n},r.a.createElement(D.a,{column:!0},r.a.createElement(me.a,{size:"label",color:"tertiary"},r.a.createElement(i.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_FORM_SCHEDULED_LABEL_REPEAT_ON_EVERY"})),r.a.createElement(ge,null,_e.a.map(({label:e,value:a})=>{const n=t.formatMessage({id:e})[0],c=null==A?void 0:A.includes(a);return r.a.createElement(Ce,{isActive:c,variant:c?"primary":"default",onClick:()=>F(a),key:e},r.a.createElement(me.a,{size:"caption"},n))})),!!E.weekDays&&r.a.createElement(Te.ValidationMessage,{visible:!0,translation:E.weekDays})));case ie.c.MONTHLY:return r.a.createElement(M.a,{disabled:n},r.a.createElement(de.a,{alignWith:"dropdown",label:r.a.createElement(i.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_FORM_SCHEDULED_LABEL_REPEAT_ON_DAY_OF_MONTH"}),htmlFor:"dayInMonth"}),r.a.createElement(fe,{width:180,column:!0},r.a.createElement(Te.Field,{full:!0,max:"31",min:"1",name:"dayInMonth",type:"number"})));case ie.c.ADVANCED:{const e=le.d.map(({label:e,value:a})=>({label:t.formatMessage({id:e},{count:g}),value:a})),a=ie.a.YEAR!==C;return r.a.createElement(r.a.Fragment,null,r.a.createElement(M.a,{disabled:n},r.a.createElement(de.a,{alignWith:"dropdown",label:r.a.createElement(i.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_FORM_SCHEDULED_LABEL_REPEAT_EVERY"})}),r.a.createElement(fe,{width:180,column:!0},r.a.createElement(z.g,{justifyContent:a?"space-between":"flex-end",width:"180px"},a&&r.a.createElement(he,{width:56,flexDirection:"column"},r.a.createElement(Te.Field,{full:!0,min:"1",name:"repeatEveryCount",type:"number"})),r.a.createElement(he,{width:a?108:void 0},r.a.createElement(Te.Field,{full:!0,name:"repeatEveryPeriod",options:e,type:"dropdown"}))))),ie.a.WEEK===C&&r.a.createElement(M.a,{disabled:n},r.a.createElement(de.a,{alignWith:"dropdown",label:r.a.createElement(i.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_FORM_SCHEDULED_LABEL_REPEAT_ON_EVERY"})}),r.a.createElement(fe,{width:208,column:!0},r.a.createElement(ge,{narrow:!0},_e.a.map(({label:e,value:a})=>{const n=t.formatMessage({id:e})[0],c=null==A?void 0:A.includes(a);return r.a.createElement(Ce,{isActive:c,variant:c?"primary":"default",onClick:()=>F(a),key:e},r.a.createElement(me.a,{size:"caption"},n))})),!!E.weekDays&&r.a.createElement(Te.ValidationMessage,{visible:!0,translation:E.weekDays}))),ie.a.MONTH===C&&r.a.createElement(M.a,{disabled:n},r.a.createElement(de.a,{alignWith:"dropdown",label:r.a.createElement(i.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_FORM_SCHEDULED_LABEL_REPEAT_ON_DAY_OF_MONTH"}),htmlFor:"dayInMonth"}),r.a.createElement(fe,{width:180,column:!0},r.a.createElement(Te.Field,{full:!0,max:"31",min:"1",name:"dayInMonth",type:"number"}))))}default:return null}},[n,F,t,h,g,C,A,E.weekDays]);return r.a.createElement(Oe,{size:"small",isOpen:!0,title:r.a.createElement(i.c,{id:y?"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_FORM_SCHEDULED_UPGRADE_EDIT_HEADER":"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_FORM_SCHEDULED_UPGRADE_NEW_HEADER",values:{name:null==d?void 0:d.name}}),actions:f?[{type:"button",text:r.a.createElement(i.c,{id:"COMMON_ACTION_BACK"}),onClick:x,disabled:u},{type:"button",text:r.a.createElement(i.c,{id:y?"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_FORM_SCHEDULED_LABEL_SAVE_SCHEDULE":"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_FORM_SCHEDULED_LABEL_CREATE_SCHEDULE"}),onClick:()=>s(),disabled:u||!_}]:[{type:"button",text:r.a.createElement(i.c,{id:"COMMON_ACTION_CANCEL"}),onClick:e},{type:"button",disabled:!w,text:r.a.createElement(i.c,{id:"COMMON_ACTION_NEXT"}),onClick:P,variant:"primary"}],onRequestClose:e,showBorder:!f&&[ie.c.WEEKLY,ie.c.MONTHLY,ie.c.ADVANCED].includes(h)},f?r.a.createElement(I.a,{padding:"none"},r.a.createElement(i.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_FORM_SCHEDULED_LABEL_TARGET_DEVICES_LABEL"}),r.a.createElement(Ae,{iconBefore:r.a.createElement(v.Jb,{size:"small"}),onChange:(e,t)=>j(t),onClear:e=>j(""),placeholder:"",value:L,full:!0}),r.a.createElement(Ne,{itemCount:a.length},r.a.createElement(ue.a,{columns:le.f,items:H,idField:"mac",disableColumnFilters:!0,multiSelectMode:!0,disableSelection:n,initialSelectedIds:b.upgrade_targets,onChangeSelection:G}))):r.a.createElement(I.a,{padding:"none"},r.a.createElement(M.a,{disabled:n},r.a.createElement(D.a,{column:!0},r.a.createElement(Te.Field,{name:"name",full:!0,disabled:n,label:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_FORM_SCHEDULED_LABEL_NAME"}))),r.a.createElement(M.a,{disabled:n},r.a.createElement(D.a,{column:!0},r.a.createElement(Te.Field,{disabled:n,full:!0,label:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_FORM_SCHEDULED_LABEL_START_TIME",name:"startTime",options:U,translateLabel:!0,type:"dropdown"}))),r.a.createElement(M.a,{disabled:n},r.a.createElement(D.a,{column:!0},r.a.createElement(Te.Field,{disabled:n,full:!0,label:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_FORM_SCHEDULED_LABEL_REPEATS",name:"repeat",options:le.c,translateLabel:!0,translateOptions:!0,type:"dropdown"}))),k))}),Me=a(2166);var De=({closeModal:e})=>{const{formName:t,formId:a}=Object(te.m)(),n=Object(o.useDispatch)(),l=Object(o.useSelector)(A.selectScheduledUpgrades),i=t===le.e,E=Object(c.useMemo)(()=>i&&a&&l.find(({_id:e})=>e===a),[i,a,l]),s=Object(c.useMemo)(()=>{var e,t;return(null==E?void 0:E._id)?{...le.a,...E,...Object(Me.a)(E.cron_expr,E.execute_only_once),upgrade_targets:null!==(t=null===(e=E.upgrade_targets)||void 0===e?void 0:e.map(({mac:e})=>e))&&void 0!==t?t:[]}:le.a},[E]),m=Object(c.useCallback)((t,{setSubmitting:a})=>{var c;const{dayInMonth:r,weekDays:l,repeat:i,repeatEveryCount:o,repeatEveryPeriod:E,startTime:s,upgrade_targets:m,...d}=t,u={...d,upgrade_targets:null!==(c=null==m?void 0:m.map(e=>({mac:e})))&&void 0!==c?c:[],cron_expr:Object(Me.b)(t),execute_only_once:i===ie.c.NEVER};n(Object(A.saveScheduledUpgrade)(u)).then(()=>{n(Object(T.c)({icon:b.a.success,message:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_SCHEDULED_UPGRADES_SAVE_SUCCESS"})),e()}).catch(e=>{n(Object(T.c)({errorMessage:e.msg,errorValues:e,icon:b.a.danger,message:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_SCHEDULED_UPGRADES_SAVE_ERROR"})),a(!1)})},[n,e]);return r.a.createElement(p.c,{enableReinitialize:!0,initialValues:s,validationSchema:le.g,onSubmit:m},r.a.createElement(Ie,{closeModal:e}))};const Re=Object(L.c)("div")`
  width: 100%;
`,Le=Object(L.c)("div")`
  margin-bottom: ${({theme:e})=>e.spacing["spacing-s"]};

  table {
    th {
      height: 30px !important;
      font-weight: 400 !important;
    }
  }
`,ve=Object(L.c)(K.c)`
  border-radius: 0;
`,je=Object(L.c)("div")`
  margin-left: ${({theme:e})=>e.spacing["spacing-s"]};
  padding-top: ${({theme:e})=>e.spacing["spacing-xxs"]};
`;var ye=()=>{const{formName:e}=Object(te.m)(),t=Object(te.k)(),a=Object(o.useDispatch)(),n=Object(o.useSelector)(A.selectScheduledUpgrades),E=Object(o.useSelector)(m.x),s=Object(o.useSelector)(N.selectAdoptedDevicesBasic),d=Object(o.useSelector)(m.O),u=e===le.e,_=Object(l.i)("system/maintenance"),b=`${_}/${le.e}`,S=Object(c.useCallback)((e=ee()())=>t.push(`${b}/${e}`),[b,t]),p=Object(c.useCallback)(()=>t.push(_),[t,_]),O=Object(c.useCallback)(({_id:e,name:t})=>{const{successToast:n,failureToast:c}=Object($.a)("SETTINGS_SYSTEM_MAINTENANCE_UPDATE_SCHEDULED_UPGRADES_REMOVE_ERROR","SETTINGS_SYSTEM_MAINTENANCE_UPDATE_SCHEDULED_UPGRADES_REMOVE_SUCCESS",{upgrade:t});a(Object(A.removeScheduledUpgrade)(e)).then(()=>a(Object(T.c)(n))).catch(e=>a(Object(T.c)(c(void 0,e))))},[a]),h=Object(c.useCallback)(e=>{a(Object(ne.b)({name:e.name,onConfirm:()=>O(e)}))},[a,O]),g=Object(c.useMemo)(()=>[{id:"name",renderLabel:()=>r.a.createElement(i.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_SCHEDULED_UPGRADES_HEADER_NAME"}),minWidth:110},{id:"repeats",renderLabel:()=>r.a.createElement(i.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_SCHEDULED_UPGRADES_HEADER_REPEATS"}),renderCell:({cron_expr:e,execute_only_once:t})=>{const{repeat:a,repeatEveryPeriod:n}=Object(Me.a)(e,t),c=a===ie.c.ADVANCED?ie.b[n]:a;return t?"-":r.a.createElement(i.c,{id:"COMMON_INTERVAL_"+c.toUpperCase()})},minWidth:80},{id:"nextUpdate",renderLabel:()=>r.a.createElement(i.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_SCHEDULED_UPGRADES_HEADER_NEXT_UPDATE"}),renderCell:({cron_expr:e,execute_only_once:t})=>{const a=(e=>{var t;if(!e||e.split(" ").length<5)return null;try{const a=re.a.parseExpression(e),n=null===(t=null==a?void 0:a.next())||void 0===t?void 0:t.getTime();return n?new Date(n):null}catch(a){return null}})(e),{repeat:n,repeatEveryPeriod:c}=Object(Me.a)(e,t);let l=n===ie.c.ADVANCED?ie.b[c]:n;return l===ie.c.NEVER&&(l=ie.b.Hour),r.a.createElement(i.a,{value:a,format:l.toLowerCase(),hour12:!d})},minWidth:150}],[]);return s.length?r.a.createElement(r.a.Fragment,null,r.a.createElement(Re,null,n.length>0&&r.a.createElement(Le,null,r.a.createElement(ae.a,{columns:g,disableColumnFilters:!0,disableSelection:!0,disableTextPointer:!0,items:n,idField:"_id",renderRowPopoverContent:e=>E?r.a.createElement(V.h,null,r.a.createElement(V.f,{onClick:()=>S(e._id),name:"view"},r.a.createElement(i.c,{id:"COMMON_ACTION_VIEW"}))):r.a.createElement(V.h,null,r.a.createElement(V.f,{onClick:()=>S(e._id),name:"upgrade"},r.a.createElement(i.c,{id:"COMMON_ACTION_EDIT"})),r.a.createElement(V.f,{onClick:()=>h(e),name:"remove"},r.a.createElement(i.c,{id:"COMMON_ACTION_REMOVE"}))),rowHeight:30,width:"100%"})),!E&&r.a.createElement(ve,{name:"check-controller-package-update",type:"button",variant:"inline",onClick:()=>S(),legacy:!1},r.a.createElement(i.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_SCHEDULED_UPGRADES_BUTTON_ADD"}))),!!u&&r.a.createElement(De,{closeModal:p})):r.a.createElement(z.g,null,r.a.createElement(v.W,{isActive:!0}),r.a.createElement(je,null,r.a.createElement(i.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_SCHEDULED_UPGRADES_NO_DEVCICES"})))},we=a(1924),Ue=a(2211),Pe=a(17);var xe=a(255),Ge=a(61);const Fe=L.e`
    from: {
      opacity: 0;
    }
    50% {
      opacity: 1;
    }
    to {
      opacity: 0;
    }
`,He=Object(L.c)(v.E)`
  opacity: 0;
  animation: ${Fe} 2s ease-in-out 0s infinite;
`,ke=[{compare:Object(Ge.a)(e=>Object(pe.a)({model:e.device})),id:"deviceColumn",minWidth:150,label:r.a.createElement(i.c,{id:"SETTINGS_FIRMWARE_CACHE_HEADER_DEVICE"}),renderCell:e=>r.a.createElement(me.a,{truncate:!0,color:"tertiary"},Object(pe.a)({model:e.device})),sortable:!0},{id:"version",minWidth:110,label:r.a.createElement(i.c,{id:"SETTINGS_FIRMWARE_CACHE_HEADER_VERSION"}),renderCell:({version:e})=>r.a.createElement(me.a,{truncate:!0,color:"tertiary"},e),sortable:!0},{id:"sizeColumn",minWidth:60,label:r.a.createElement(i.c,{id:"SETTINGS_FIRMWARE_CACHE_HEADER_SIZE"}),renderCell:e=>r.a.createElement("span",null,Object(xe.c)(e.size)||"-")},{id:"cachedColumn",minWidth:60,label:r.a.createElement(i.c,{id:"SETTINGS_FIRMWARE_CACHE_HEADER_CACHED"}),renderCell:e=>{let t="-";return e.isDownloading?t=r.a.createElement(He,null):e.cached&&(t=r.a.createElement(v.u,null)),r.a.createElement("span",null,t)}}],Ye=Object(L.c)("div")`
  width: 100%;
  margin-bottom: ${({theme:e})=>e.spacing["spacing-s"]};

  table {
    th {
      font-weight: 400 !important;
    }
  }
`,Be=Object(L.c)("div")`
  margin-left: ${({theme:e})=>e.spacing["spacing-s"]};
  padding-top: ${({theme:e})=>e.spacing["spacing-xxs"]};
`,We=Object(L.c)(Ee.a)`
  margin-bottom: ${({theme:e})=>e.spacing["spacing-l"]};
`,$e=Object(L.c)(se.a,{shouldForwardProp:e=>"isActive"!==e})`
  height: 24px !important;
  background: ${({theme:e,isActive:t})=>t?e.motifPalette.ui12:"none"};
  ${({theme:e,isActive:t})=>t&&"color: "+e.motifPalette.text01};

  &:hover {
    background: ${({theme:e})=>e.motifPalette.hoverUi01};
  }
`;var Ve=()=>{const[e,t]=Object(c.useState)({}),[a,n]=Object(c.useState)("all"),E=Object(o.useDispatch)(),s=Object(o.useSelector)(y.selectSiteFirmwares),m=Object(o.useSelector)(y.selectCachedSiteFirmwares),d=Object(c.useCallback)(({base_model:e,device:a,version:n})=>{t({base_model:e,version:n}),E(Object(y.downloadFirmwareAndRefresh)(a,n)).then(()=>t({}))},[E]),u=Object(c.useCallback)(e=>{E((({device:e,version:t})=>a=>{a(Object(ne.a)({title:"SETTINGS_FIRMWARE_DELETE_MODAL_TITLE",message:"SETTINGS_FIRMWARE_DELETE_MODAL_MESSAGE",messageValues:{deviceModel:Object(pe.a)({model:e})},onConfirm:()=>{a(Object(y.removeFirmwareAndRefresh)(e,t)),a(Object(Pe.e)())}}))})(e))},[E]),_=Object(c.useMemo)(()=>Object(we.a)("all"===a?s.map(t=>({...t,isDownloading:e.base_model===t.base_model&&e.version===t.version,isCacheDisabled:!!e.base_model})):m,"device"),[a,s,e,m]),T=Object(c.useCallback)(e=>{e.preventDefault(),n("all")},[n]),b=Object(c.useCallback)(e=>{e.preventDefault(),n("cached")},[n]);return Object(l.f)([Object(y.fetchAvailableFirmware)({type:S.a.CACHE}),Object(y.fetchCachedFirmware)({type:S.a.CACHE})],r.a.createElement(Ye,null,r.a.createElement(We,{variant:"cozy"},r.a.createElement($e,{pill:!0,onClick:T,isActive:"all"===a},r.a.createElement(i.c,{id:"SETTINGS_FIRMWARE_FILTER_AVAILABLE_FIRMWARE"})),r.a.createElement($e,{pill:!0,onClick:b,isActive:"cached"===a},r.a.createElement(i.c,{id:"SETTINGS_FIRMWARE_FILTER_CACHED_FIRMWARE"}))),_.length?r.a.createElement(Ue.a,{columns:ke,disableColumnFilters:!0,disableSelection:!0,disableTextPointer:!0,idField:"device",items:_,renderRowPopoverContent:e=>r.a.createElement(V.h,null,e.cached?r.a.createElement(V.f,{text:"SETTINGS_FIRMWARE_CACHE_ACTION_DELETE",disabled:e.isDownloading,onClick:()=>u(e),name:"delete-cache"},r.a.createElement(i.c,{id:"SETTINGS_FIRMWARE_CACHE_ACTION_DELETE"})):r.a.createElement(V.f,{disabled:e.isCacheDisabled,onClick:()=>d(e),name:"cache"},r.a.createElement(i.c,{id:"SETTINGS_FIRMWARE_CACHE_ACTION_CACHE"}))),rowHeight:30,maxRows:6,headerHeight:32}):r.a.createElement(z.g,null,r.a.createElement("div",null,r.a.createElement(v.W,{isActive:!0})),r.a.createElement(Be,null,r.a.createElement(i.c,{id:"all"===a?"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_HEADER_FIRMWARE_ALL_EMPTY":"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_HEADER_FIRMWARE_CACHE_EMPTY"})))))},ze=a(48),Ke=a(2928),qe=a(363),Qe=a(376),Xe=a(1133),Je=a(3);const Ze=Object(L.c)(be.a,{shouldForwardProp:e=>"extraSmall"!==e})`
  ${({extraSmall:e})=>e?"width: 340px;":""}
`,et=Object(L.c)(me.a)`
  line-height: 1.6em;
`,tt=Object(L.c)(Xe.a)`
  margin-top: ${({theme:e})=>e.spacing["spacing-xl"]};
`,at=Object(L.c)(v.W)`
  margin-right: ${({theme:e})=>e.spacing["spacing-s"]};
  color: ${({theme:e})=>e.motifPalette.warning} !important;
`,nt=Object(L.c)(z.g)`
  margin-top: ${({theme:e})=>e.spacing["spacing-m"]};
`;var ct,rt=({backupInfo:e,closeModal:t,onRestore:a})=>{var n;const l=Object(c.useMemo)(()=>(null==e?void 0:e.sites.length)>1,[]),E=Object(c.useMemo)(()=>null==e?void 0:e.sites.map(({_id:e,name:t})=>({label:t,value:e})),[]),[s,m]=Object(c.useState)(l?"":null===(n=E[0])||void 0===n?void 0:n.value),d=Object(o.useSelector)(g.m),u=Object(o.useSelector)(Je.selectSiteGateway),_=Object(c.useCallback)(({value:e})=>{m(e)},[m]),T=Object(c.useMemo)(()=>l?d?"SETTINGS_CONTROLLER_MAINTENANCE_LABEL_RESTORE_BACKUP_MULTI_SITES_DETECTED":"SETTINGS_CONTROLLER_MAINTENANCE_LABEL_RESTORE_BACKUP_RESTORE_SITES":"SETTINGS_CONTROLLER_MAINTENANCE_LABEL_RESTORE_BACKUP_RESTORE_SITE",[d,l]),b=Object(c.useMemo)(()=>l?d?r.a.createElement(r.a.Fragment,null,r.a.createElement(et,null,r.a.createElement(i.b,{id:"SETTINGS_CONTROLLER_MAINTENANCE_LABEL_RESTORE_BACKUP_SELECT_SITE_DESCRIPTION",values:{name:Object(pe.c)(u)}})),r.a.createElement(tt,{label:"SETTINGS_CONTROLLER_MAINTENANCE_LABEL_RESTORE_BACKUP_SELECT_SITE",onChange:_,options:E,value:s}),r.a.createElement(nt,{alignItems:"center"},r.a.createElement(at,{width:"12px",height:"12px"}),r.a.createElement(me.a,{size:"label",color:"tertiary"},r.a.createElement(i.c,{id:"SETTINGS_CONTROLLER_MAINTENANCE_LABEL_RESTORE_BACKUP_RESTART_INFO"})))):r.a.createElement(et,null,r.a.createElement(i.b,{id:"SETTINGS_CONTROLLER_MAINTENANCE_LABEL_RESTORE_BACKUP_MULTIPLE_SITES"})):r.a.createElement(et,null,r.a.createElement(i.b,{id:"SETTINGS_CONTROLLER_MAINTENANCE_LABEL_RESTORE_BACKUP_SINGLE_SITE",values:{site:E[0].label}})),[l,d,u,_,E,s]);return r.a.createElement(Ze,{size:"small",extraSmall:!d||!l,isOpen:!0,title:r.a.createElement(i.c,{id:T}),actions:[{type:"button",text:r.a.createElement(i.c,{id:"COMMON_ACTION_CANCEL"}),onClick:t},{type:"button",text:r.a.createElement(i.c,{id:"SETTINGS_CONTROLLER_MAINTENANCE_LABEL_RESTORE_BACKUP_RESTART"}),onClick:()=>a(s||void 0),variant:"primary",disabled:d&&l&&!s}],onRequestClose:t},b)},lt=a(559);!function(e){e.FINISHED="finished",e.IDLE="idle",e.RESTARTING="restarting",e.RESTORE="restore",e.SITE_CONFIRM="site-confirm"}(ct||(ct={}));const it={update:qe.a,remove:qe.a};var ot=Object(ze.compose)(i.f,Qe.b)(({createNotification:e,removeNotification:t,intl:a})=>{const n=Object(o.useDispatch)(),l=Object(c.useRef)(null),[E,s]=Object(c.useState)(null),[d,u]=Object(c.useState)(ct.IDLE),_=Object(c.useCallback)(()=>{l.current&&(l.current.value="")},[]),p=Object(c.useCallback)(()=>{n(Object(O.c)(E.backup_id)),s(null),u(ct.IDLE)},[n,O.c,E,s,u]),N=Object(c.useCallback)(e=>{u(ct.RESTORE),n(Object(O.i)({backup_id:E.backup_id,site_id:e})).then(()=>(n(Object(T.c)({type:b.a.info,id:"restarting-after-backup",message:"SETTINGS_CONTROLLER_MAINTENANCE_LABEL_RESTORE_BACKUP_RESTARTING",duration:0},"restarting-after-backup")),u(ct.RESTARTING),n(Object(lt.g)()))).then(()=>{n(Object(S.d)(m.a)),u(ct.FINISHED),n(Object(T.d)("restarting-after-backup")),n(Object(T.c)({type:b.a.success,message:"SETTINGS_CONTROLLER_MAINTENANCE_LABEL_RESTORE_BACKUP_RESTORED",values:{count:(null==E?void 0:E.sites.length)||0}})),n(Object(m.h)()).then(()=>window.location.reload())}).catch(e=>{s(null),u(ct.IDLE),n(Object(T.c)({errorMessage:e.msg,errorValues:e,icon:b.a.danger,message:"SETTINGS_CONTROLLER_MAINTENANCE_BACKUP_RESTORE_ERROR"}))})},[n,T.c,E,s,u]),A=Object(c.useCallback)((c,o)=>{var E;"current"in o&&(l.current=o.current);const m=null===(E=l.current)||void 0===E?void 0:E.files[0],d=null==m?void 0:m.name,S=e(r.a.createElement(Ke.a,{id:"upload-restore-backup-file",renderTitle:e=>r.a.createElement(i.c,{id:"SETTINGS_CONTROLLER_MAINTENANCE_LABEL_RESTORE_BACKUP_UPLOADING_FILES",values:{count:e}}),downloads:[{id:"upload-backup-file",files:[{filename:d,progress:void 0,status:a.formatMessage({id:"SETTINGS_CONTROLLER_MAINTENANCE_LABEL_RESTORE_BACKUP_UPLOADING"})}],onCancel:()=>{t("upload-restore-backup-file"),p()}}],duration:0}))||it;n(Object(O.k)(m)).then(e=>{S.update({downloads:[{id:"upload-backup-file",files:[{filename:d,progress:100,status:a.formatMessage({id:"SETTINGS_CONTROLLER_MAINTENANCE_LABEL_RESTORE_BACKUP_UPLOADED"})}]}],duration:2e3});const t=Object(W.a)(e,"data[0]");s(t),u(ct.SITE_CONFIRM)}).catch(e=>{_(),S.remove(),n(Object(T.c)({errorMessage:e.msg,errorValues:{...e,filename:d},icon:b.a.danger,message:"SETTINGS_CONTROLLER_MAINTENANCE_BACKUP_RESTORE_UPLOAD_ERROR"}))})},[n,T.c,s,_]);return r.a.createElement(r.a.Fragment,null,d===ct.SITE_CONFIRM&&r.a.createElement(rt,{closeModal:p,onRestore:N,backupInfo:E}),r.a.createElement(M.a,null,r.a.createElement(f.SearchableGridLabel,{htmlFor:"backup-restore",label:r.a.createElement(i.c,{id:"SETTINGS_CONTROLLER_MAINTENANCE_LABEL_RESTORE_BACKUP"}),description:r.a.createElement(i.c,{id:"SETTINGS_CONTROLLER_MAINTENANCE_LABEL_RESTORE_BACKUP_DESCRIPTION"}),searchIsApplicable:"isUdm"}),r.a.createElement(D.a,{column:!0},r.a.createElement(K.b,{name:"backup-restore",onChange:A,variant:"inline"},r.a.createElement(i.c,{id:"COMMON_ACTION_CHOOSE_FILE"})))))});const Et=Object(L.c)(K.c)`
  font-weight: normal;
  font-size: ${({theme:e})=>e.fontSize["font-size-m"]};
  margin-top: ${({theme:e})=>e.spacing["spacing-s"]};
`,st=Object(L.c)("div")`
  margin-left: ${({theme:e})=>e.spacing["spacing-s"]};
  padding-top: ${({theme:e})=>e.spacing["spacing-xxs"]};
`;var mt=()=>{const e=Object(o.useSelector)(s.selectLastControllerUpdateQuery),t=Object(o.useSelector)(s.selectLastFirmwareUpdateQuery),a=Object(o.useSelector)(Q.a),c=Object(o.useSelector)(N.selectDevicesBasicData),l=Object(o.useSelector)(g.m),E=Object(o.useSelector)(X.b),m=Object(o.useSelector)(X.c),d=Object(o.useDispatch)(),u=e=>()=>{const t="controller"===e?B:H;if(m&&"controller"===e&&a){a.get("updateController").checkControllerUpdate()}const{successToast:n,failureToast:c}=Object($.a)("SETTINGS_SYSTEM_MAINTENANCE_UPDATE_CHECK_FIRMWARE_UPDATES_ERROR_MESSAGE","SETTINGS_SYSTEM_MAINTENANCE_UPDATE_CHECK_UPDATES_SUCCESS",{type:e});d(t()).then(()=>{d(Object(T.c)(n)),d(Object(s.fetchControllerWarnings)()),"firmware"===e&&d(Object(y.fetchAvailableFirmware)())}).catch(e=>{d(Object(T.c)(c(void 0,e)))})};return r.a.createElement(I.a,null,l?r.a.createElement(M.a,null,r.a.createElement(f.SearchableGridLabel,{htmlFor:"check-controller-package-update",label:r.a.createElement(i.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_CHECK_CONTROLLER_UPDATES_LABEL"})}),r.a.createElement(D.a,{column:!0},r.a.createElement(i.b,{id:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_CHECK_CONTROLLER_UPDATES_UNIFI_OS",values:{link:J(E,j.a.ucoreSettings)}}))):r.a.createElement(M.a,null,r.a.createElement(f.SearchableGridLabel,{htmlFor:"check-controller-package-update",label:r.a.createElement(i.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_CHECK_CONTROLLER_UPDATES_LABEL"}),description:r.a.createElement(i.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_CHECK_CONTROLLER_UPDATES_LABEL_DESCRIPTION"}),searchIgnore:!0}),r.a.createElement(D.a,{column:!0},r.a.createElement(V.i,{lastQuery:e}),r.a.createElement(Et,{name:"check-controller-package-update",type:"button",variant:"inline",onClick:u("controller"),legacy:!1},r.a.createElement(i.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_CHECK_FIRMWARE_UPDATES_BUTTON"})))),r.a.createElement(M.a,null,r.a.createElement(f.SearchableGridLabel,{htmlFor:"check-firmware-update",label:r.a.createElement(i.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_CHECK_FIRMWARE_UPDATES_LABEL"})}),r.a.createElement(D.a,{column:!0},c.length?r.a.createElement(r.a.Fragment,null,r.a.createElement(V.i,{lastQuery:t}),r.a.createElement(Et,{name:"check-firmware-update",type:"button",variant:"inline",onClick:u("firmware"),legacy:!1},r.a.createElement(i.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_CHECK_FIRMWARE_UPDATES_BUTTON"}))):r.a.createElement(z.g,null,r.a.createElement("div",null,r.a.createElement(v.W,{isActive:!0})),r.a.createElement(st,null,r.a.createElement(i.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_CHECK_FIRMWARE_UPDATES_EMPTY"}))))),r.a.createElement(R.a,{marginBottom:"xxxxl"}),r.a.createElement(M.a,null,r.a.createElement(f.SearchableGridLabel,{htmlFor:"mgmt.auto_upgrade",label:r.a.createElement(i.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_AUTO_UPGRADE_LABEL"}),alignWith:"toggleSmall"}),r.a.createElement(D.a,{column:!0},r.a.createElement(q.a,{name:"mgmt.auto_upgrade",type:"checkbox"}))),r.a.createElement(M.a,null,r.a.createElement(f.SearchableGridLabel,{label:r.a.createElement(i.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_SCHEDULED_UPGRADE_LABEL"}),alignWith:(null==c?void 0:c.length)?n.GRID_TABLE:void 0,htmlFor:"schedule-firmware-upgrades"}),r.a.createElement(D.a,{column:!0,unlimitedWidth:!0},(null==c?void 0:c.length)?r.a.createElement(ye,null):r.a.createElement(z.g,null,r.a.createElement("div",null,r.a.createElement(v.W,{isActive:!0})),r.a.createElement(st,null,r.a.createElement(i.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_SCHEDULED_UPGRADE_EMPTY"}))))),l&&r.a.createElement(ot,null),r.a.createElement(R.a,{marginBottom:"xxxxl"}),r.a.createElement(M.a,null,r.a.createElement(f.SearchableGridLabel,{label:r.a.createElement(i.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_HEADER_FIRMWARE_CACHE"}),description:r.a.createElement(i.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_HEADER_FIRMWARE_CACHE_DESCRIPTION"}),alignWith:n.GRID_TABLE,htmlFor:"device-firmware-cache"}),r.a.createElement(D.a,{column:!0,unlimitedWidth:!0},r.a.createElement(Ve,null))))},dt=a(180),ut=a(41);const _t=e=>Object(Pe.g)({modalType:ut.a.SSO_LOGIN,modalProps:{title:"SETTINGS_CONTROLLER_ADVANCED_UPDATES_TITLE_MODAL_ENABLE_SSO",submitButtonText:"COMMON_LOGIN",...e}}),Tt=e=>Object(Pe.g)({modalType:ut.a.SSO_LOGIN_2FA,modalProps:{title:"SETTINGS_CONTROLLER_ADVANCED_UPDATES_TITLE_MODAL_ENABLE_SSO",submitButtonText:"SETTINGS_CONTROLLER_ADVANCED_UPDATES_ACTION_MODAL_ENABLE_SSO",...e}});var bt=a(4),St=a(237);const pt=[{value:St.b.RELEASE,label:"SETTINGS_CONTROLLER_ADVANCED_UPDATES_SELECT_CHANNEL_RELEASE"},{value:St.b.RELEASE_CANDIDATE,label:"SETTINGS_CONTROLLER_ADVANCED_UPDATES_SELECT_CHANNEL_RELEASE_CANDIDATE"},{value:St.b.BETA,label:"SETTINGS_CONTROLLER_ADVANCED_UPDATES_SELECT_CHANNEL_EARLY_ACCESS"},{value:St.b.ALPHA,label:"SETTINGS_CONTROLLER_ADVANCED_UPDATES_SELECT_CHANNEL_ALPHA"},{value:St.b.INTERNAL,label:"SETTINGS_CONTROLLER_ADVANCED_UPDATES_SELECT_CHANNEL_INTERNAL"}],Ot=e=>pt.filter(t=>e.includes(t.value)),Nt=Object(bt.a)(d.selectAvailableControllerChannels,e=>Ot(e)),At=Object(bt.a)(d.selectAvailableFirmwareChannels,e=>Ot(e)),ht=Object(L.c)(I.a)`
  margin-top: ${({theme:e})=>e.spacing["spacing-xxxxl"]};
`;var gt=()=>{const{setFieldValue:e,values:t,resetForm:a,initialValues:n,values:{super_fwupdate:l}}=Object(p.e)(),E=Object(o.useDispatch)(),m=Object(o.useSelector)(Nt),u=Object(o.useSelector)(At),_=Object(o.useSelector)(X.f),O=Object(c.useCallback)(()=>{E(Object(Pe.e)()),E(Object(T.c)({icon:b.a.success,message:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_ENABLE_SSO_TOAST_SUCCESS"}))},[E,Pe.e,T.c]),N=Object(c.useCallback)(()=>{e("super_fwupdate.sso_enabled",!1),E(Object(Pe.e)())},[E,Pe.e,e]),A=Object(c.useCallback)(e=>{N(),E(Object(T.c)({icon:b.a.danger,message:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_ENABLE_SSO_TOAST_ERROR",errorMessage:dt.a[e],errorValues:e}))},[E,T.c,N]),h=Object(c.useCallback)((...e)=>k(...e)(E),[E,k]),g=Object(c.useCallback)(()=>{const e=O,t=N,a=A;E(_t({registerAction:h,onCancel:t,onError:a,onSuccess:e,on2FARequired:n=>{E(Object(Pe.e)()),E(Tt({initialValues:n,registerAction:h,onCancel:t,onError:a,onSuccess:e}))}}))},[E,O,N,A,_t,k,Pe.e,Tt]),C=Object(c.useCallback)(()=>{E(Object(ne.a)({title:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_DISABLE_SSO_MODAL_TITLE",message:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_DISABLE_SSO_MODAL_DESCR",onConfirm:async()=>{E(Object(Pe.e)());const e={...l,sso_enabled:!1,controller_channel:d.FW_UPDATE_CHANNELS.RELEASE,firmware_channel:d.FW_UPDATE_CHANNELS.RELEASE};await E(Object(d.saveSuperFwUpdateSettings)(e)),await E(Object(s.fetchControllerWarnings)(void 0,{crudCacheStrategy:{type:S.a.CACHE}})),a({values:{...t,super_fwupdate:e}})},onCancel:async()=>{E(Object(Pe.e)()),e("super_fwupdate.sso_enabled",!0),a({values:{...n}})}}))},[E,ne.a,Pe.e,d.saveSuperFwUpdateSettings,s.fetchControllerWarnings,e,a,t]),I=Object(c.useCallback)(e=>{e&&!l.sso_enabled?g():!e&&l.sso_enabled&&C()},[E,g,C,l]);return r.a.createElement(ht,{padding:"none"},r.a.createElement(M.a,null,r.a.createElement(f.SearchableGridLabel,{htmlFor:"super_fwupdate.sso_enabled",label:r.a.createElement(i.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_ENABLE_SSO_LABEL"}),description:r.a.createElement(i.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_ENABLE_SSO_DESCRIPTION"}),alignWith:"toggle"}),r.a.createElement(D.a,null,r.a.createElement(Te.Field,{type:"checkbox",name:"super_fwupdate.sso_enabled",afterChange:I}))),_&&r.a.createElement(M.a,{disabled:!l.sso_enabled},r.a.createElement(f.SearchableGridLabel,{htmlFor:"super_fwupdate.controller_channel",label:r.a.createElement(i.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_CONTROLLER_CHANNEL_LABEL"}),alignWith:"select",searchIsApplicable:"isNotUdm"}),r.a.createElement(D.a,null,r.a.createElement(Te.Field,{type:"dropdown",name:"super_fwupdate.controller_channel",options:m,translateOptions:!0,full:!0}))),r.a.createElement(M.a,{disabled:!l.sso_enabled},r.a.createElement(f.SearchableGridLabel,{htmlFor:"super_fwupdate.firmware_channel",label:r.a.createElement(i.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_FIRMWARE_CHANNEL_LABEL"}),alignWith:"dropdown"}),r.a.createElement(D.a,null,r.a.createElement(Te.Field,{type:"dropdown",name:"super_fwupdate.firmware_channel",options:u,translateOptions:!0,full:!0}))))};var Ct=()=>r.a.createElement(r.a.Fragment,null,r.a.createElement(mt,null),r.a.createElement(I.a,null,r.a.createElement(f.SearchableAccordion,{items:[{id:"advanced",label:r.a.createElement(i.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_RESTORE_ADVANCED_SETTINGS"}),renderContent:()=>r.a.createElement(gt,null)}],variant:"secondary",multiOpen:!0}))),ft=a(830),It=a(23);const Mt=[{value:O.b,label:"SETTINGS_CONTROLLER_MAINTENANCE_VALUES_SETTINGS_ONLY"},...(Dt=[7,30,60,90,180,365],Dt.map(e=>({value:e,label:"COMMON_DATETIME_VALUE_LAST_DAYS",values:{days:e}}))),{value:O.a,label:"SETTINGS_CONTROLLER_MAINTENANCE_VALUES_NO_LIMIT"}];var Dt;const Rt=Mt[1].value;var Lt=a(1128);const vt=Object(L.c)(z.g)`
  + div {
    margin-left: ${({theme:e})=>e.spacing["spacing-m"]};
  }
`;var jt=Object(i.f)(({intl:e,amOrPm:t,changeBase:a,disabled:n,parsedCron:{base:l,monthDay:E,month:s,hour:d,minute:u,twelveHourFormat:_,weekDay:T},useTwentyFourHourTime:b,onChangeAmPm:S,onChangeHandler:p,onChangeTwelveHour:O})=>{const N=Object(o.useSelector)(m.x),A=Object(c.useCallback)(t=>t.map(({value:t,label:a})=>({value:t,label:e.formatMessage({id:a})})),[e]),h=Object(c.useMemo)(()=>A(ft.d),[A]),g=Object(c.useMemo)(()=>A(ft.h),[A]),C=Object(c.useMemo)(()=>A(_e.a),[A]),f=Object(c.useMemo)(()=>A(ft.b),[A]),I=d||0===d,M=T||0===T;return r.a.createElement(z.g,{justifyContent:"space-between",alignItems:"flex-end"},r.a.createElement(vt,{flexDirection:"column"},r.a.createElement(me.a,{color:"secondary"},r.a.createElement(i.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_FORM_SCHEDULED_CRON_LABEL_EVERY"})),r.a.createElement(Xe.a,{onChange:({value:e})=>a(e),options:h,value:l,width:"74px",disabled:n||N})),E&&r.a.createElement(vt,{flexDirection:"column"},r.a.createElement(me.a,{color:"secondary"},r.a.createElement(i.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_FORM_SCHEDULED_CRON_LABEL_ON_THE"})),r.a.createElement(Xe.a,{onChange:({value:e})=>p(ft.a.MONTH_DAY)(e),options:ft.g,value:+E,width:"40px",disabled:n||N})),s&&r.a.createElement(vt,{flexDirection:"column"},r.a.createElement(me.a,{color:"secondary"},r.a.createElement(i.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_FORM_SCHEDULED_CRON_LABEL_OF"})),r.a.createElement(Xe.a,{onChange:({value:e})=>p(ft.a.MONTH)(e),options:g,value:+s,width:"80px",disabled:n||N})),M&&r.a.createElement(vt,{flexDirection:"column"},r.a.createElement(me.a,{color:"secondary"},r.a.createElement(i.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_FORM_SCHEDULED_CRON_LABEL_ON"})),r.a.createElement(Xe.a,{onChange:({value:e})=>p(ft.a.WEEK_DAY)(e),options:C,value:+T,width:"90px",disabled:n||N})),I&&(b?r.a.createElement(vt,{flexDirection:"column"},r.a.createElement(me.a,{color:"secondary"},r.a.createElement(i.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_FORM_SCHEDULED_CRON_LABEL_AT"})),r.a.createElement(Xe.a,{onChange:({value:e})=>p(ft.a.HOUR)(e),options:ft.j,value:+d,width:"40px",disabled:n||N})):r.a.createElement(vt,{flexDirection:"column"},r.a.createElement(me.a,{color:"secondary"},r.a.createElement(i.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_FORM_SCHEDULED_CRON_LABEL_AT"})),r.a.createElement(Xe.a,{onChange:({value:e})=>O(e),options:ft.i,value:+_,width:"40px",disabled:n||N}))),l>=0&&r.a.createElement(vt,{flexDirection:"column"},ft.c.HOUR.id===l&&r.a.createElement(me.a,{color:"secondary"},r.a.createElement(i.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_FORM_SCHEDULED_CRON_LABEL_AT"})),r.a.createElement(Xe.a,{onChange:({value:e})=>p(ft.a.MINUTE)(e),options:ft.f,value:+u,width:"40px",disabled:n||N})),!b&&I&&r.a.createElement(vt,{flexDirection:"column"},r.a.createElement(Xe.a,{onChange:({value:e})=>S(e),options:f,value:t,width:"44px",disabled:n||N})))}),yt=a(526);const wt=Object(L.c)("div")`
  width: 100%;

  table th {
    height: 30px !important;
  }
`,Ut=Object(L.c)("div")`
  margin-left: ${({theme:e})=>e.spacing["spacing-s"]};
  padding-top: ${({theme:e})=>e.spacing["spacing-xxs"]};
`;var Pt=()=>{const e=Object(o.useDispatch)(),t=Object(o.useSelector)(O.j),a=Object(o.useSelector)(m.M),n=Object(o.useSelector)(m.O);let l=a;n?l=a.replace(/h{1,2}/,e=>e.toUpperCase()).replace(/ ?a$/,""):(l=a.replace(/H{1,2}/,e=>e.toLowerCase()),/ ?a$/i.test(l)||(l+=" a"));const E=Object(c.useMemo)(()=>(({dateFormat:e,timeFormat:t})=>[{compare:Object(Ge.a)(({datetime:t})=>Object(It.format)(t,e)),id:"date",label:r.a.createElement(i.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_BACKUP_TABLE_HEADER_DATE"}),renderCell:({datetime:t})=>Object(It.format)(t,e),sortable:!0},{compare:Object(Ge.a)(({datetime:e})=>Object(It.format)(e,t)),id:"time",label:r.a.createElement(i.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_BACKUP_TABLE_HEADER_TIME"}),renderCell:({datetime:e})=>Object(It.format)(e,t),sortable:!0}])({dateFormat:yt.a,timeFormat:l}),[l]),s=Object(c.useCallback)(t=>{e(Object(lt.i)(t))},[e,lt.i]),d=Object(c.useCallback)(t=>{e(Object(O.e)(t))},[e,O.e]),u=Object(c.useCallback)(t=>{e(Object(lt.h)(t))},[e,lt.h]);return t.length?r.a.createElement(wt,null,r.a.createElement(ae.a,{columns:E,disableColumnFilters:!0,disableTextPointer:!0,items:t,idField:"filename",renderRowPopoverContent:e=>r.a.createElement(V.h,null,r.a.createElement(V.f,{onClick:()=>s(e),name:"restore"},r.a.createElement(i.c,{id:"COMMON_ACTION_RESTORE"})),r.a.createElement(V.f,{onClick:()=>d(e),name:"download"},r.a.createElement(i.c,{id:"COMMON_ACTION_DOWNLOAD"})),r.a.createElement(V.f,{onClick:()=>u(e),name:"remove"},r.a.createElement(i.c,{id:"COMMON_ACTION_REMOVE"}))),rowHeight:32})):r.a.createElement(z.g,null,r.a.createElement("div",null,r.a.createElement(v.W,{isActive:!0})),r.a.createElement(Ut,null,r.a.createElement(i.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_BACKUP_AVAILABLE_EMPTY"})))};const xt=Object(L.c)(se.a)`
  margin-top: ${({theme:e})=>e.spacing["spacing-s"]};
`;var Gt=()=>{const[e,t]=Object(c.useState)(Rt),a=Object(o.useDispatch)(),n=Object(o.useSelector)(Lt.a),l=Object(o.useSelector)(X.c),{values:{super_mgmt:{autobackup_enabled:E}}}=Object(p.e)(),s=Object(c.useCallback)(({value:e},a)=>{t(e)},[t]),m=Object(c.useCallback)(t=>{t.preventDefault(),a(l?Object(lt.e)(e):Object(lt.d)(e))},[a,e,l]);return r.a.createElement(I.a,{padding:"none"},r.a.createElement(ot,null),r.a.createElement(M.a,null,r.a.createElement(f.SearchableGridLabel,{htmlFor:"backupDataRetention",label:r.a.createElement(i.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_BACKUP_DOWNLOAD"}),description:r.a.createElement(i.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_BACKUP_DOWNLOAD_DESCRIOPTION"}),alignWith:"dropdown",searchIsApplicable:"isNotUdm"}),r.a.createElement(D.a,{column:!0},r.a.createElement(Te.Field,{full:!0,name:"backupDataRetention",onChange:s,options:Mt,translateOptions:!0,type:"dropdown",value:e}),r.a.createElement(xt,{name:"backupDownload",variant:"inline",onClick:m,disabled:n},r.a.createElement(i.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_BACKUP_DOWNLOAD"})))),r.a.createElement(M.a,null,r.a.createElement(f.SearchableGridLabel,{htmlFor:"super_mgmt.autobackup_enabled",label:r.a.createElement(i.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_BACKUP_CREATE_AUTO"}),description:r.a.createElement(i.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_BACKUP_CREATE_AUTO_DESCRIPTION"}),alignWith:"toggleSmall",searchIsApplicable:"isNotUdm"}),r.a.createElement(D.a,{column:!0},r.a.createElement(Te.Field,{name:"super_mgmt.autobackup_enabled",type:"checkbox"}))),r.a.createElement(M.a,{disabled:!E},r.a.createElement(f.SearchableGridLabel,{htmlFor:"super_mgmt.autobackup_cron_expr",label:r.a.createElement(i.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_BACKUP_SCHEDULER"}),description:r.a.createElement(i.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_BACKUP_SCHEDULER_DESCRIPTION"}),searchIsApplicable:"isNotUdm"}),r.a.createElement(D.a,{column:!0},r.a.createElement(ft.e,{name:"super_mgmt.autobackup_cron_expr",render:e=>r.a.createElement(jt,Object.assign({disabled:!E},e))}))),r.a.createElement(M.a,null,r.a.createElement(f.SearchableGridLabel,{htmlFor:"super_mgmt.autobackup_days",label:r.a.createElement(i.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_BACKUP_DATA_RETENTION"}),alignWith:"dropdown",searchIsApplicable:"isNotUdm"}),r.a.createElement(D.a,{column:!0},r.a.createElement(Te.Field,{full:!0,name:"super_mgmt.autobackup_days",options:Mt,translateOptions:!0,type:"dropdown"}))),r.a.createElement(M.a,null,r.a.createElement(f.SearchableGridLabel,{htmlFor:"super_mgmt.autobackup_max_files",label:r.a.createElement(i.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_BACKUP_MAX_NUMBER_OF_FILES"}),alignWith:"input",searchIsApplicable:"isNotUdm"}),r.a.createElement(D.a,{column:!0},r.a.createElement(Te.Field,{name:"super_mgmt.autobackup_max_files",type:"number",min:1,max:100}))),r.a.createElement(M.a,null,r.a.createElement(f.SearchableGridLabel,{htmlFor:"available-backups",label:r.a.createElement(i.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_BACKUP_AVAILABLE"}),description:r.a.createElement(i.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_BACKUP_AVAILABLE_DESCRIPTION"}),searchIsApplicable:"isNotUdm"}),r.a.createElement(D.a,{column:!0},r.a.createElement(Pt,null))))};var Ft=()=>r.a.createElement(z.o,null,r.a.createElement(Gt,null)),Ht=a(1923),kt=a(374),Yt=a(600),Bt=a(34),Wt=a(280),$t=a(2516),Vt=a(35);const zt=Object(L.c)(I.a)`
  margin-top: ${({theme:e})=>e.spacing["spacing-xxxxl"]};
`,Kt={update:qe.a,remove:qe.a};var qt=Object(ze.compose)(i.f,Qe.b)(({intl:e,createNotification:t})=>{const[a,n]=Object(c.useState)(!1),[l,E]=Object(c.useState)(!1),[s,u]=Object(c.useState)(!1),[_,p]=Object(c.useState)(!1),[O,N]=Object(c.useState)(Kt),A=Object(o.useDispatch)(),h=Object(o.useSelector)(g.o),C=Object(o.useSelector)(Wt.selectSites),I=Object(o.useSelector)(d.selectFormattedSettings),R=Object(o.useSelector)(Bt.selectNetworksData),L=Object(o.useSelector)(kt.selectAPGroups),v=Object(o.useSelector)(Vt.selectWifiNetworksData),j=Object(o.useSelector)(Je.selectDevicesData),y=Object(o.useSelector)(m.y),w=Object(c.useRef)(null),U=Object(It.format)(new Date,"YYYYMMDD-HHmm"),P=Object(c.useMemo)(()=>`unifi-${U}.supp`,[]),x=Object(c.useMemo)(()=>`unifi-sys-config-${U}.json`,[]),G=Object(c.useCallback)(async()=>{n(!0);let a=!1;const c=()=>{a=!0,i.remove(),n(!1)},l=()=>a,i=t(r.a.createElement(Ke.a,{id:"download-support-information",title:e.formatMessage({id:"SETTINGS_SYSTEM_MAINTENANCE_SUPPORT_INFORMATION_FETCHING_INFORMATION"}),downloads:[{id:"support-information-fetch",files:[{filename:P,progress:0,status:e.formatMessage({id:"SETTINGS_SYSTEM_MAINTENANCE_SUPPORT_INFORMATION_FETCHING"})}],onCancel:c}],duration:0,notificationType:"DownloadsToast"}))||Kt;try{if(await A(Object($t.a)()),a)return;const t=t=>{const{loaded:a=0,total:n=1}=t||{},r=a/n*100,l=Math.floor(r),{value:o,unit:E}=Object(xe.d)(n,"bytes"),s=`${Math.round(o)} ${E}`,m=Math.round(r/100*o);let d=t?`${m} / ${s}`:e.formatMessage({id:"SETTINGS_SYSTEM_MAINTENANCE_SUPPORT_INFORMATION_DOWNLOADING"});100===l&&(d=e.formatMessage({id:"SETTINGS_SYSTEM_MAINTENANCE_SUPPORT_INFORMATION_DOWNLOADED"})),i.update({id:"download-support-information",title:e.formatMessage({id:"SETTINGS_SYSTEM_MAINTENANCE_SUPPORT_INFORMATION_FETCHING_INFORMATION"}),downloads:[{id:"support-information-fetch",files:[{filename:P,progress:l,status:d}],onCancel:c}],duration:100===l?2e3:0,notificationType:"DownloadsToast"})};t(),await A(Object(Yt.c)("/dl/support",P,{fetchConfig:{onDownloadProgress:t}},l))}catch(o){i.remove(),A(Object(T.c)({icon:b.a.danger,message:"COMMON_DOWNLOAD_SUPPORT_FILE_TOAST_FAILED"}))}n(!1)},[n,A]),F=Object(c.useCallback)(()=>E(!1),[E]),H=Object(c.useCallback)(()=>{E(!0);const a=t(r.a.createElement(Ke.a,{id:"download-system-configuration",title:e.formatMessage({id:"SETTINGS_SYSTEM_MAINTENANCE_SUPPORT_INFORMATION_SYSTEM_CONFIG_FETCHING_INFORMATION"}),downloads:[{id:"system-config-fetch",files:[{filename:x,progress:0,status:e.formatMessage({id:"SETTINGS_SYSTEM_MAINTENANCE_SUPPORT_INFORMATION_FETCHING"})}],onCancel:F}],duration:0,notificationType:"DownloadsToast"}))||Kt;N(a);const n={type:S.a.CACHE};let c=0;const l=[Object(g.b)(void 0,{crudCacheStrategy:n}),Object(Wt.fetchSites)(void 0,{crudCacheStrategy:n}),Object(d.fetchSettings)(n),Object(Bt.fetchNetworks)(void 0,{crudCacheStrategy:n}),Object(kt.fetchAPGroups)(void 0,{crudCacheStrategy:n}),Object(Vt.fetchWifiNetworks)(void 0,{crudCacheStrategy:n}),Object(Je.fetchDevices)(void 0,{crudCacheStrategy:n})].map((t,n,r)=>A(t).then(()=>(c+=1,a.update({id:"download-system-configuration",title:e.formatMessage({id:"SETTINGS_SYSTEM_MAINTENANCE_SUPPORT_INFORMATION_SYSTEM_CONFIG_FETCHING_INFORMATION"}),downloads:[{id:"system-config-fetch",files:[{filename:x,progress:Math.round(c/r.length*100),status:`${c} / ${r.length}`}],onCancel:F}],duration:0,notificationType:"DownloadsToast"}),Promise.resolve())).catch(e=>(a.remove(),Promise.reject(e))));Promise.all(l).then(()=>{p(!0)}).catch(e=>{E(!1),a.remove(),A(Object(T.c)({icon:b.a.danger,message:"SETTINGS_SYSTEM_MAINTENANCE_SUPPORT_INFORMATION_SYSTEM_CONFIG_TOAST_FAILED",errorMessage:dt.a[e.apiMsg],errorValues:e}))})},[E,A,N]);Object(c.useEffect)(()=>{if(_){if(p(!1),l){O.update({id:"download-system-configuration",title:e.formatMessage({id:"SETTINGS_SYSTEM_MAINTENANCE_SUPPORT_INFORMATION_SYSTEM_CONFIG_FETCHING_INFORMATION"}),downloads:[{id:"system-config-fetch",files:[{filename:x,progress:100,status:e.formatMessage({id:"SETTINGS_SYSTEM_MAINTENANCE_SUPPORT_INFORMATION_FETCHED"})}],onCancel:F}],duration:2e3,notificationType:"DownloadsToast"});const t=e=>Object(Ht.a)(e,(e,a)=>a.toString().startsWith("x_")&&"boolean"!=typeof e?"--- secret ---":"object"==typeof e?t(e):e),a=window.URL.createObjectURL(new Blob([JSON.stringify(t({sysinfo:h,sites:C,setting:I,networkconf:R,apgroups:L,wlanconf:v,device:j}))],{type:"application/json"})),n=document.createElement("a");n.href=a,n.download=x,n.target="_blank",w.current.appendChild(n),n.click(),w.current.removeChild(n)}else O.remove();N({...Kt}),E(!1)}},[_,l,O,N]);const k=Object(c.useCallback)(async()=>{u(!0);let a=!1;const n=()=>{a=!0,l.remove(),u(!1)},c=()=>a,l=t(r.a.createElement(Ke.a,{id:"download-server-log",title:e.formatMessage({id:"SETTINGS_SYSTEM_MAINTENANCE_SUPPORT_INFORMATION_FETCHING_LOGS"}),downloads:[{id:"server-log-fetch",files:[{filename:Yt.a,progress:0,status:e.formatMessage({id:"SETTINGS_SYSTEM_MAINTENANCE_SUPPORT_INFORMATION_FETCHING"})}],onCancel:n}],duration:0,notificationType:"DownloadsToast"}))||Kt;try{if(await A(Object($t.a)()),a)return;const t=t=>{const{loaded:a=0,total:c=1}=t||{},r=a/c*100,i=Math.floor(r),{value:o,unit:E}=Object(xe.d)(c,"bytes"),s=`${Math.round(o)} ${E}`,m=Math.round(r/100*o);let d=t?`${m} / ${s}`:e.formatMessage({id:"SETTINGS_SYSTEM_MAINTENANCE_SUPPORT_INFORMATION_DOWNLOADING"});100===i&&(d=e.formatMessage({id:"SETTINGS_SYSTEM_MAINTENANCE_SUPPORT_INFORMATION_DOWNLOADED"})),l.update({id:"download-server-log",title:e.formatMessage({id:"SETTINGS_SYSTEM_MAINTENANCE_SUPPORT_INFORMATION_FETCHING_LOGS"}),downloads:[{id:"server-log-fetch",files:[{filename:Yt.a,progress:i,status:d}],onCancel:n}],duration:100===i?2e3:0,notificationType:"DownloadsToast"})};t(),await A(Object(Yt.c)(Yt.b,Yt.a,{fetchConfig:{onDownloadProgress:t}},c))}catch(i){l.remove(),A(Object(T.c)({icon:b.a.danger,message:"COMMON_DOWNLOAD_LOGS_FILE_TOAST_FAILED"}))}u(!1)},[A,u,t,e]);return r.a.createElement(zt,{padding:"none"},r.a.createElement(M.a,null,r.a.createElement(f.SearchableGridLabel,{alignWith:"button",description:r.a.createElement(i.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_SUPPORT_INFORMATION_DOWNLOAD_DESCRIPTION"}),htmlFor:"download-support-information",label:r.a.createElement(i.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_SUPPORT_INFORMATION_DOWNLOAD"})}),r.a.createElement(D.a,null,r.a.createElement(z.c,{name:"download-support-information",type:"button",variant:"inline",onClick:G,legacy:!1,disabled:a},r.a.createElement(i.c,{id:"COMMON_ACTION_DOWNLOAD"})))),r.a.createElement(M.a,null,r.a.createElement(f.SearchableGridLabel,{alignWith:"button",htmlFor:"system-configuration",label:r.a.createElement(i.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_SUPPORT_INFORMATION_SYSTEM_CONFIG"}),searchTags:["DOWNLOAD_SYSTEM_CONFIGURATION"]}),r.a.createElement(D.a,null,r.a.createElement(z.c,{name:"download-system-config",type:"button",variant:"inline",onClick:H,legacy:!1,disabled:l},r.a.createElement(i.c,{id:"COMMON_ACTION_DOWNLOAD"})),r.a.createElement("div",{ref:w}))),y&&r.a.createElement(M.a,null,r.a.createElement(f.SearchableGridLabel,{alignWith:"button",htmlFor:"download-server-log",label:r.a.createElement(i.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_SUPPORT_INFORMATION_DOWNLOAD_LOGS"}),searchTags:["SEARCH_TAG_DOWNLOAD_SERVER_LOGS"]}),r.a.createElement(D.a,null,r.a.createElement(z.c,{name:"download-server-logs",type:"button",variant:"inline",onClick:k,legacy:!1,disabled:s},r.a.createElement(i.c,{id:"COMMON_ACTION_DOWNLOAD"})))))}),Qt=a(442);const Xt=Object(L.c)(v.d)`
  margin-right: 10px;
  color: ${({theme:e})=>e.motifPalette.warning};
`,Jt=Object(L.c)(z.g)`
  margin-top: 25px;
`;var Zt=()=>r.a.createElement(r.a.Fragment,null,r.a.createElement(M.a,null,r.a.createElement(f.SearchableGridLabel,{label:r.a.createElement(i.c,{id:"SETTINGS_CONTROLLER_MAINTENANCE_LABEL_FIVE_MIN_GRANULARITY"}),htmlFor:"super_mgmt.data_retention_time_in_hours_for_5minutes_scale",alignWith:"dropdown",searchTags:["SEARCH_BREADCRUMB_DATA_RETENTION"]}),r.a.createElement(D.a,null,r.a.createElement(Te.Field,{type:"dropdown",translateOptions:!0,name:"super_mgmt.data_retention_time_in_hours_for_5minutes_scale",options:Qt.b,full:!0}))),r.a.createElement(M.a,null,r.a.createElement(f.SearchableGridLabel,{label:r.a.createElement(i.c,{id:"SETTINGS_CONTROLLER_MAINTENANCE_LABEL_HOURLY_GRANULARITY"}),htmlFor:"super_mgmt.data_retention_time_in_hours_for_hourly_scale",alignWith:"dropdown",searchTags:["SEARCH_BREADCRUMB_DATA_RETENTION"]}),r.a.createElement(D.a,null,r.a.createElement(Te.Field,{type:"dropdown",translateOptions:!0,name:"super_mgmt.data_retention_time_in_hours_for_hourly_scale",options:Qt.c,full:!0}))),r.a.createElement(M.a,null,r.a.createElement(f.SearchableGridLabel,{label:r.a.createElement(i.c,{id:"SETTINGS_CONTROLLER_MAINTENANCE_LABEL_DAILY_GRANULARITY"}),htmlFor:"super_mgmt.data_retention_time_in_hours_for_daily_scale",alignWith:"dropdown",searchTags:["SEARCH_BREADCRUMB_DATA_RETENTION"]}),r.a.createElement(D.a,null,r.a.createElement(Te.Field,{type:"dropdown",translateOptions:!0,name:"super_mgmt.data_retention_time_in_hours_for_daily_scale",options:Qt.a,full:!0}))),r.a.createElement(M.a,null,r.a.createElement(f.SearchableGridLabel,{label:r.a.createElement(i.c,{id:"SETTINGS_CONTROLLER_MAINTENANCE_LABEL_MONTHLY_GRANULARITY"}),htmlFor:"super_mgmt.data_retention_time_in_hours_for_monthly_scale",alignWith:"dropdown",searchTags:["SEARCH_BREADCRUMB_DATA_RETENTION"]}),r.a.createElement(D.a,null,r.a.createElement(Te.Field,{type:"dropdown",translateOptions:!0,name:"super_mgmt.data_retention_time_in_hours_for_monthly_scale",options:Qt.d,full:!0}))),r.a.createElement(M.a,null,r.a.createElement(f.SearchableGridLabel,{label:r.a.createElement(i.c,{id:"SETTINGS_CONTROLLER_MAINTENANCE_LABEL_NON_TIME_SERIES"}),htmlFor:"super_mgmt.data_retention_time_in_hours_for_others",alignWith:"dropdown",searchTags:["SEARCH_BREADCRUMB_DATA_RETENTION"]}),r.a.createElement(D.a,null,r.a.createElement(Te.Field,{type:"dropdown",translateOptions:!0,name:"super_mgmt.data_retention_time_in_hours_for_others",options:Qt.e,full:!0}))),r.a.createElement(M.a,null,r.a.createElement(f.SearchableGridLabel,{label:r.a.createElement(i.c,{id:"SETTINGS_CONTROLLER_MAINTENANCE_LABEL_CLIENTS_DATA"}),htmlFor:"super_mgmt.time_series_per_client_stats_enabled",alignWith:"toggleSmall",searchTags:["SEARCH_BREADCRUMB_DATA_RETENTION"]}),r.a.createElement(D.a,{column:!0},r.a.createElement(Te.Field,{type:"checkbox",name:"super_mgmt.time_series_per_client_stats_enabled"}),r.a.createElement(Jt,null,r.a.createElement(Xt,null),r.a.createElement(me.a,{size:"caption",color:"tertiary"},r.a.createElement(i.c,{id:"SETTINGS_CONTROLLER_MAINTENANCE_LABEL_CLIENTS_DATA_WARNING"}))))));var ea=({formValues:e})=>{const t=Object(c.useRef)(null),{errors:a,resetForm:n,status:E}=Object(p.e)(),u=Object(o.useSelector)(m.y),_=Object(o.useSelector)(g.m),T=Object(o.useSelector)(g.g),b=Object(c.useMemo)(()=>[u&&!T&&{id:"data-retention",label:r.a.createElement(i.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_DATA_RETENTION_NAME"}),renderContent:()=>r.a.createElement(Zt,null)},!_&&u&&!T&&{id:"backup",label:r.a.createElement(i.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_BACKUP_RESTORE_NAME"}),renderContent:()=>r.a.createElement(Ft,null)},{id:"support-information",label:r.a.createElement(i.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_SUPPORT_INFORMATION_NAME"}),renderContent:()=>r.a.createElement(qt,null)}].filter(e=>!!e),[_,u,T]);return Object(c.useEffect)(()=>{E.isSubmitted&&n({values:e})},[e,n,E.isSubmitted]),Object(l.g)(t,a),Object(l.f)([Object(O.f)({type:S.a.CACHE}),Object(s.fetchControllerWarnings)(void 0,{crudCacheStrategy:{type:S.a.CACHE}}),Object(N.fetchDevicesBasic)({},{type:S.a.CACHE}),Object(A.fetchScheduledUpgrades)({type:S.a.CACHE}),Object(h.fetchSdn)({type:S.a.CACHE}),Object(d.fetchSettings)({type:S.a.CACHE}),Object(g.b)(void 0,{crudCacheStrategy:{type:S.a.CACHE}}),Object(C.a)(void 0,{crudCacheStrategy:{type:S.a.CACHE}})],r.a.createElement("div",{ref:t},r.a.createElement(Ct,null),r.a.createElement(f.SearchableAccordion,{items:b,multiOpen:!0})))},ta=a(30);const aa=ta.a.object().shape({super_mgmt:ta.a.object().shape({autobackup_max_files:ta.a.number().label("SETTINGS_SYSTEM_MAINTENANCE_BACKUP_MAX_NUMBER_OF_FILES").required().min(1).max(100)})});var na=({onBack:e})=>{const t=Object(o.useDispatch)(),a=Object(o.useSelector)(m.x),n=Object(o.useSelector)(d.selectSuperFwUpdateSettings),l=Object(o.useSelector)(d.selectSuperManagementSettings),p=Object(o.useSelector)(d.selectMgmtSettings),O=Object(c.useMemo)(()=>({mgmt:{...u.mgmt,...p},super_mgmt:{...u.super_mgmt,...l},super_fwupdate:{...u.super_fwupdate,...n}}),[p,n,l]),N=Object(c.useMemo)(()=>({isSubmitted:!1}),[]),A=Object(c.useMemo)(()=>({component:r.a.createElement(i.c,{id:"SETTINGS_MAINTENANCE_FORM_TITLE"}),message:"maintenance"}),[]),h=Object(c.useCallback)((e,{setStatus:a,setSubmitting:n})=>{const{mgmt:c,super_mgmt:r,super_fwupdate:l}=e,i=[];Object(E.a)(r,O.super_mgmt)||i.push(t(Object(d.saveSettings)(r))),Object(E.a)(c,O.mgmt)||i.push(t(Object(d.saveSettings)(c))),Object(E.a)(l,O.super_fwupdate)||i.push(t(Object(d.saveSuperFwUpdateSettings)(l))),Promise.all(i).then(()=>{t(Object(T.c)({icon:b.a.success,message:"SETTINGS_CONTROLLER_MAINTENANCE_SAVE_SUCCESS"})),a({isSubmitted:!0}),t(Object(s.fetchControllerWarnings)(void 0,{crudCacheStrategy:{type:S.a.CACHE}}))}).catch(e=>{t(Object(T.c)({errorMessage:e.msg,errorValues:e,icon:b.a.danger,message:"SETTINGS_CONTROLLER_MAINTENANCE_SAVE_ERROR"})),n(!1)})},[t,O]);return r.a.createElement(_.b,{goBack:e,hideClose:!0,initialStatus:N,initialValues:O,isEdit:!a,isView:a,showBack:!0,title:A,validationSchema:aa,onEscClicked:e,onSubmit:h,unsavedChangesModalIgnoredPaths:[/\/schedule-upgrades((\/)|(\/[a-zA-Z0-9_-]+\/?))?$/]},r.a.createElement(ea,{formValues:O}))};t.default=()=>{const e=Object(l.h)();return r.a.createElement(na,{onBack:e})}},1926:function(e,t,a){"use strict";a.d(t,"e",(function(){return m})),a.d(t,"d",(function(){return d})),a.d(t,"c",(function(){return u})),a.d(t,"b",(function(){return p.a})),a.d(t,"a",(function(){return G}));var n=a(0),c=a.n(n),r=a(5),l=a(648),i=a(1136),o=a(208);const E=Object(r.c)(o.a)`
  font-size: ${({theme:e})=>e.fontSizes[0]}px;
  :last-child {
    margin-left: ${({theme:e})=>e.space[2]}px;
  }
  span {
    white-space: nowrap;
  }
`,s=(Object(r.c)(l.Link)`
  font-size: ${({theme:e})=>e.fontSizes[0]}px;
  white-space: nowrap;
  margin-bottom: 1px;

  :last-child {
    margin-left: ${({theme:e})=>e.space[2]}px;
  }

  &:hover {
    color: ${({theme:e})=>e.motifPalette.hoverLink01};
  }
`,Object(r.c)(o.a,{shouldForwardProp:e=>"useMinWidth"!==e})`
  padding: 0 ${({theme:e})=>e.space[3]}px;
  ${({useMinWidth:e})=>e?"min-width: 214px":"width: 214px"}
`),m=Object(r.c)(i.a)`
  flex-direction: column;
  align-items: flex-start;

  > div {
    margin-left: 0px;
  }

  > div:not(:last-child) {
    margin-bottom: 10px;
  }
`,d=e=>c.a.createElement(s,Object.assign({legacy:!1,variant:"secondary",type:"button"},e)),u=e=>c.a.createElement(E,Object.assign({legacy:!1,type:"button",variant:"inline"},e));var _=a(1851),T=a(375);const b=Object(r.c)(_.a)`
  max-width: 445px;
  margin-bottom: ${({theme:e})=>e.space[3]}px;
`,S=e=>r.a`
  padding-top: 0;
  color: ${e.colors.white};
  > th {
    height: 30px !important;
  }
`;Object(T.b)(({theme:e,...t})=>c.a.createElement(b,Object.assign({headerRowClassName:S(e),disableColumnFilters:!0,disableSelection:!0,rowHeight:30},t)));var p=a(1934),O=a(529),N=a(1743),A=a(2),h=a(30),g=a(15),C=a(2846),f=a(44),I=a(71),M=a(62);const D=Object(r.c)("div")`
  flex: ${({inline:e})=>e?"1 1 0":"0 0 100%"};
  margin-right: ${({inline:e,isLast:t,theme:a})=>e&&!t?""+a.spacing["spacing-l"]:0};
  position: relative;
`,R=Object(r.c)(I.c)`
  > * {
    vertical-align: middle;
  }
`,L=Object(r.c)(I.g)`
  margin-bottom: ${({theme:e})=>e.spacing["spacing-l"]};
`,v=Object(r.c)("div")`
  position: absolute;
  right: -65px;
  top: 12px;
`,j=Object(r.c)("div")`
  position: absolute;
  right: 10px;
  top: 14px;
  z-index: 1;
`,y=Object(r.c)(I.g)`
  margin-bottom: ${({theme:e})=>e.spacing["spacing-xs"]};
`,w=Object(r.c)(L,{shouldForwardProp:e=>"isLast"!==e})`
  margin-right: ${({theme:e,isLast:t})=>t?0:e.spacing["spacing-l"]};
`,U=Object(r.c)(I.g)`
  margin-top: ${({theme:e})=>e.spacing["spacing-l"]};
`,P=Object(r.c)(I.c)`
  margin-right: ${({theme:e})=>e.spacing["spacing-xxxxl"]};
`,x=Object(r.c)("div")`
  table {
    td {
      max-width: 170px;

      span {
        overflow: hidden;
        text-overflow: ellipsis;
        height: 12px;
      }
    }
  }
`;var G=function({fieldName:e,newFields:t,fieldLabels:a,onAddItem:r,onRemoveItem:l,validationSchema:i,initialValues:o,onEditSubmit:E,useValuesInSchema:s=!1,max:d,useWindowTable:u=!1,addButtonText:T="COMMON_ACTION_ADD",invalid:b,...S}){const p=Object(n.useContext)(I.l),[G,F]=Object(n.useState)(!0),H=Object(n.useCallback)(t=>!t.disableRemove&&c.a.createElement(m,null,c.a.createElement(R,{name:`remove-${e}-${t.id}`,size:"small",type:"button",variant:"inline",legacy:!1,onClick:async()=>{F(!1),l(t),await Promise.resolve(),F(!0)}},c.a.createElement(A.c,{id:"COMMON_ACTION_REMOVE"}))),[e,F,l]),k=Object(n.useMemo)(()=>u?C.a:_.a,[u]);return c.a.createElement(f.c,{enableReinitialize:!0,onSubmit:t=>{E(t[e])},initialValues:o,validationSchema:()=>s?h.a.lazy(e=>i(e)):i},({values:n,errors:i,setFieldValue:E,handleSubmit:s,handleReset:m,setTouched:u})=>c.a.createElement(c.a.Fragment,null,t.map((a,l)=>c.a.createElement(D,{inline:a.inline,isLast:l===t.length-1,key:a.name},c.a.createElement(L,{flexDirection:"column",width:"100%"},c.a.createElement(M.Field,Object.assign({disabled:n.editActive||n[e].length>=d,full:!0,name:a.name,placeholder:a.placeholder,type:a.type,label:a.label,invalid:n[a.name]?i[a.name]:b,fast:!0},"dropdown"!==a.type?{autoComplete:a.autoComplete}:{options:a.options,translateOptions:a.translateOptions,translatePlaceholder:!0,validated:a.validated}))),!p&&r&&l===t.length-1&&c.a.createElement(v,null,c.a.createElement(R,{name:"add-"+e,size:"small",type:"button",variant:"inline",legacy:!1,onClick:async e=>{e.preventDefault(),F(!1);const a=t.reduce((e,t)=>(e[t.name]=!0,e),{}),c=await u(a,!0);t.find(e=>c[e.name])||r(n),F(!0)},Icon:g.wb,disabled:n.editActive||n[e].length>=d||!n[a.name]},c.a.createElement(A.c,{id:T}))))),n.editActive?c.a.createElement(c.a.Fragment,null,n[e].map((n,r)=>c.a.createElement(y,{key:n.id,width:"100%"},S.columns.map((n,l)=>t[l]?c.a.createElement(w,{key:n.id,isLast:l===S.columns.length-1,flexDirection:"column",flex:"1 1 50%"},c.a.createElement(M.Field,Object.assign({full:!0,label:a[n.id],name:`${e}[${r}][${n.id}]`,type:t[l].type,fast:!0},"dropdown"!==t[l].type?{}:{options:t[l].options,translateLabel:!0,translateOptions:t[l].translateOptions,translatePlaceholder:!0,type:t[l].type,validated:t[l].validated}))):null))),c.a.createElement(U,{justifyContent:"flex-end",width:"100%"},c.a.createElement(P,{name:"edit-cancel-"+e,size:"large",type:"button",variant:"default",legacy:!1,onClick:()=>{m(),E("editActive",!1)}},c.a.createElement(A.c,{id:"COMMON_ACTION_CANCEL"})),c.a.createElement(I.c,{name:"edit-submit-"+e,type:"button",variant:"primary",legacy:!1,onClick:s,disabled:Object(O.a)(Object(N.a)(n,"editActive"),Object(N.a)(o,"editActive"))},c.a.createElement(A.c,{id:"COMMON_ACTION_SAVE_CHANGES"})))):n[e].length>0&&c.a.createElement(D,null,c.a.createElement(j,null,c.a.createElement(R,{name:"edit-"+e,size:"small",type:"button",variant:"inline",legacy:!1,onClick:()=>{m(),E("editActive",!0)},Icon:g.ub},c.a.createElement(A.c,{id:"COMMON_ACTION_EDIT"}))),n[e].length&&G&&c.a.createElement(x,null,c.a.createElement(k,{columns:S.columns,disableColumnFilters:!0,disableSelection:!0,disableTextPointer:!0,items:n[e],renderRowPopoverContent:l?H:void 0})))))}},1929:function(e,t,a){"use strict";var n=a(0),c=a.n(n),r=a(5),l=a(2),i=a(1946),o=a.n(i),E=a(1741),s=a(520),m=a(521);const d=Object(r.c)("span")`
  line-height: 1.5;
  margin-top: ${({theme:e})=>e.spacing["spacing-xxxxl"]};
`;t.a=({when:e,ignoredPaths:t=null,onLeave:a=null,onStay:r=null})=>{const i=Object(n.useMemo)(()=>({overlay:{"--modal-z-index":2e3}}),[]),u=Object(m.a)(t),_=Object(n.useCallback)((e,t)=>t.pathname!==e.pathname,[]),T=Object(n.useCallback)(e=>(e={},t={})=>u(e,t)&&_(e,t),[u,_]);return!!e&&c.a.createElement(o.a,{when:T(t)},({onCancel:e,onConfirm:t})=>c.a.createElement(E.a,{actions:[{type:"button",text:c.a.createElement(l.c,{id:"SETTINGS_MODAL_UNSAVED_CHANGES_STAY"}),onClick:()=>r?r(e):e()},{type:"button",text:c.a.createElement(l.c,{id:"SETTINGS_MODAL_UNSAVED_CHANGES_LEAVE"}),onClick:()=>a?a(t):t(),variant:"primary"}],isOpen:!0,size:"small",style:i,parentSelector:s.b,title:c.a.createElement(l.c,{id:"SETTINGS_MODAL_UNSAVED_CHANGES_TITLE"}),onRequestClose:()=>r?r(e):e()},c.a.createElement(d,null,c.a.createElement(l.c,{id:"SETTINGS_MODAL_UNSAVED_CHANGES_CONTENT"}))))}},1930:function(e,t,a){"use strict";var n=a(0),c=a(36);t.a=()=>{const e=Object(c.l)(),[t]=Object(n.useState)(e.pathname),[a,r]=Object(n.useState)(!1),l=Object(n.useRef)();return Object(n.useEffect)(()=>{r(!1);const a=/^(.*)\/[a-z0-9]*/i.exec(t),n=/^(.*)\/[a-z0-9]*/i.exec(e.pathname);return a[0].length===n[0].length&&a[1]===n[1]&&(l.current=setTimeout(()=>r(!0),500)),()=>clearTimeout(l.current)},[e.pathname,t]),a}},1931:function(e,t,a){"use strict";a.d(t,"a",(function(){return g})),a.d(t,"b",(function(){return f})),a.d(t,"c",(function(){return I}));var n=a(0),c=a.n(n),r=a(5),l=a(643),i=a(32),o=a(1932),E=a(8),s=a(15),m=a(45),d=a(17),u=a(189),_=a(41);const T=Object(r.c)(u.c)`
  margin-left: ${({theme:e})=>e.spacing["spacing-xs"]};
`;var b=({video:e})=>{const t=Object(E.useDispatch)(),a=Object(n.useCallback)(()=>{const a=`SETTINGS_${e.toUpperCase()}_INTRO`;t(Object(d.g)({modalType:_.a[a],modalProps:{closeModal:()=>t(Object(d.e)())}}))},[t,e]);return c.a.createElement(T,{legacy:!1,name:"learn-more-"+e,variant:"inline",onClick:a},c.a.createElement(s.vb,{color:m.a["blue-3"]}))},S=a(1933),p=a(71),O=a(227);const N=Object(r.c)(p.c)`
  flex: none;
  width: 96px;
  height: 54px;
  border-radius: ${({theme:e})=>e.spacing["spacing-xs"]};
  opacity: 0.8;
  transition: opacity 100ms ease;
  margin-right: ${({theme:e})=>e.spacing["spacing-xl"]};

  &:focus,
  &:hover {
    opacity: 1;
  }
`,A=Object(r.c)("img")`
  height: 100%;
  left: 0;
  object-fit: cover;
  position: absolute;
  top: 0;
  width: 100%;
`,h=Object(r.c)(s.vb)`
  left: 50%;
  margin-left: 0 !important;
  position: absolute;
  top: 50%;
  transform: translate(-50%, -50%);

  circle {
    fill: rgba(255, 255, 255, 0.7);
    stroke: rgba(255, 255, 255, 0);
  }
`;var g,C=({video:e})=>{const t=Object(E.useDispatch)(),a=Object(E.useSelector)(O.a),r=Object(n.useCallback)(()=>{const a=`SETTINGS_${e.toUpperCase()}_INTRO`;t(Object(d.g)({modalType:_.a[a],modalProps:{closeModal:()=>t(Object(d.e)())}}))},[t,e]);return c.a.createElement(N,{legacy:!1,name:"learn-more-"+e,variant:"inline",onClick:r},c.a.createElement(A,{alt:e,src:`${a}/settingsIntro/previews/${e}/preview.png`}),c.a.createElement(h,{color:m.a["blue-3"],size:"large"}))};!function(e){e.BASIC="basic",e.CONFIGURED="configured",e.STATUS="status",e.UNCONFIGURED="unconfigured"}(g||(g={}));const f=Object(r.c)(p.g)`
  margin-right: ${({theme:e})=>e.spacing["spacing-xxxxl"]};
`,I=Object(r.c)(p.g)`
  * {
    line-height: 1.4 !important;
  }
`,M=Object(r.c)(l.a)`
  &:not(:last-child) {
    margin-right: ${({theme:e})=>e.spacing["spacing-m"]};
  }
`;t.d=({label:e,type:t,description:a,section:n,status:r,video:l,online:E})=>{let s;switch(t){default:case g.BASIC:s=e;break;case g.CONFIGURED:s=c.a.createElement(I,{alignItems:"center"},e,!!n&&c.a.createElement(o.a,{section:n}),!!l&&E&&c.a.createElement(b,{video:l}));break;case g.STATUS:s=c.a.createElement(I,{alignItems:"center"},c.a.createElement(M,{variant:r}),c.a.createElement(f,{flex:"1",flexDirection:"column"},e,a&&c.a.createElement(i.a,null,a)));break;case g.UNCONFIGURED:s=c.a.createElement(I,{alignItems:"center"},!!n&&c.a.createElement(c.a.Fragment,null,c.a.createElement(S.a,{section:n}),c.a.createElement(p.g,{flex:"0 1 128px",flexDirection:"column"},e,c.a.createElement(i.a,null,a))),!!l&&E&&c.a.createElement(c.a.Fragment,null,c.a.createElement(C,{video:l}),c.a.createElement(p.g,{flex:"0 1 128px",flexDirection:"column"},e,c.a.createElement(i.a,null,a))),!!l&&!E&&c.a.createElement(I,{alignItems:"center"},e))}return s}},1932:function(e,t,a){"use strict";var n=a(0),c=a.n(n),r=a(5),l=a(8),i=a(15),o=a(45),E=a(1936),s=a(189);const m=Object(r.c)(s.c)`
  margin-left: ${({theme:e})=>e.spacing["spacing-xs"]};
`;t.a=({section:e})=>{const t=Object(l.useDispatch)(),a=Object(n.useCallback)(()=>t(Object(E.a)(e)),[t,e]);return c.a.createElement(m,{legacy:!1,name:"learn-more-"+e,variant:"inline",onClick:a},c.a.createElement(i.vb,{color:o.a["blue-3"]}))}},1933:function(e,t,a){"use strict";var n=a(0),c=a.n(n),r=a(5),l=a(8),i=a(15),o=a(45),E=a(1936),s=a(71),m=a(43);const d=Object(r.c)(s.c)`
  flex: none;
  width: 96px;
  height: 54px;
  border-radius: ${({theme:e})=>e.spacing["spacing-xs"]};
  opacity: 0.8;
  transition: opacity 100ms ease;
  margin-right: ${({theme:e})=>e.spacing["spacing-xl"]};

  &:focus,
  &:hover {
    opacity: 1;
  }
`,u=Object(r.c)("img")`
  height: 100%;
  left: 0;
  object-fit: cover;
  position: absolute;
  top: 0;
  width: 100%;
`,_=Object(r.c)(i.vb)`
  left: 50%;
  margin-left: 0 !important;
  position: absolute;
  top: 50%;
  transform: translate(-50%, -50%);

  circle {
    fill: rgba(255, 255, 255, 0.7);
    stroke: rgba(255, 255, 255, 0);
  }
`;t.a=({section:e})=>{const t=Object(l.useDispatch)(),a=Object(l.useSelector)(m.i),r=Object(n.useCallback)(()=>t(Object(E.a)(e)),[t,e]);return c.a.createElement(d,{legacy:!1,name:"learn-more-"+e,variant:"inline",onClick:r},c.a.createElement(u,{alt:e,src:`${a}data/animations/${e}/previews/preview.png`}),c.a.createElement(_,{color:o.a["blue-3"],size:"large"}))}},1934:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));const n={HEADER_HEIGHT:49,ROW_HEIGHT:32,getHeight(e,t,a,n){return Math.min((n||this.ROW_HEIGHT)*e+(null!=a?a:this.HEADER_HEIGHT),(n||this.ROW_HEIGHT)*t+(null!=a?a:this.HEADER_HEIGHT))}}},1935:function(e,t,a){"use strict";a.d(t,"a",(function(){return E})),a.d(t,"b",(function(){return s.d})),a.d(t,"c",(function(){return s.a}));var n=a(0),c=a.n(n),r=a(5),l=a(15),i=a(71);const o=Object(r.c)(i.g)`
  > * {
    color: ${({theme:e})=>e.motifPalette.interactiveText02} !important;
    font-size: ${({theme:e})=>e.fontSize["font-size-m"]} !important;

    &:not(:first-child) {
      margin-left: ${({theme:e})=>e.spacing["spacing-s"]} !important;
    }
  }
`;var E=({children:e,...t})=>c.a.createElement(o,Object.assign({alignItems:"center"},t),e,c.a.createElement(l.g,null)),s=a(1931)},1936:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(17),c=a(41);const r=e=>Object(n.g)({modalType:c.a.ONBOARDING_ANIMATION,modalProps:{name:e}})},1937:function(e,t,a){"use strict";a.d(t,"a",(function(){return n.a})),a.d(t,"b",(function(){return n.b})),a.d(t,"c",(function(){return n.c})),a.d(t,"e",(function(){return X})),a.d(t,"d",(function(){return J.a})),a.d(t,"f",(function(){return J.c})),a.d(t,"h",(function(){return J.e})),a.d(t,"g",(function(){return J.d})),a.d(t,"i",(function(){return te}));var n=a(1935);a(1932),a(1933);var c=a(0),r=a.n(c),l=a(5);var i=({children:e="",className:t=null,full:a=!1,offset:n=1,size:c=6,...i})=>{const o=a?12:c,E=a?0:n;return r.a.createElement("div",Object.assign({className:Object(l.b)("col-"+o,"offset-"+E,t)},i),e)};var o,E=({children:e="",offset:t=0,size:a=2})=>r.a.createElement("div",{className:Object(l.b)("col-"+a,"offset-"+t)},e),s=a(2),m=a(666),d=a.n(m),u=a(71),_=a(1964),T=a.n(_),b=a(140),S=a.n(b),p=a(111);!function(e){e.DANGER="danger",e.NEUTRAL="neutral",e.NONE="none",e.PRIMARY="primary",e.SUCCESS="success",e.WARNING="warning"}(o||(o={}));const O=S.a.bind(T.a);var N=({className:e=null,status:t=o.NEUTRAL,...a})=>r.a.createElement(p.a,Object.assign({},a,{className:O("ubntStatusText","ubntStatusText--"+t,e)})),A=a(254),h=a(1944);const g=Object(l.c)(u.g)`
  border: 1px solid ${A.b.colors.yellow};
  border-radius: 4px;
  cursor: initial;
  margin-left: 8px;
  user-select: none;
`,C=Object(l.c)(N)`
  font-size: 8px !important;
  letter-spacing: 0.2px;
  padding: 3px 3px;
  white-space: nowrap;
`;var f=({state:e,className:t=null,...a})=>r.a.createElement(g,Object.assign({alignItems:"center",className:t,height:14,inline:!0,justifyContent:"center"},a),r.a.createElement(C,{message:h.b[e],status:o.WARNING})),I=a(322),M=a(82),D=a(8),R=a(45),L=a(70),v=a(20);const j={BORDER_WIDTH:2},y={LEFT:-17,PADDING_BOTTOM:15,PADDING_TOP:15,PADDING_X:15,TOP:-17},w=({type:e,size:t,width:a,height:n})=>{switch(e){case I.SearchHighlightType.FIELD:default:{const{LEFT:e,PADDING_BOTTOM:a,PADDING_TOP:n,PADDING_X:c,TOP:r}=y;return{top:r,left:e,padding:`${n}px ${c}px ${a}px`,width:100+100*(12-t)/t+"%",height:"100%"}}}};function U({type:e,forId:t,highlightStyle:a,highlightDelay:n,size:r,width:i,height:o}){const E=Object(D.useSelector)(I.selectHighlight),[s,m]=Object(L.c)(0),[d,u]=Object(L.c)(!1),_=Object(c.useRef)(null),T=Object(c.useMemo)(()=>(({color:e,show:t,style:a})=>Object(l.a)({"&::before":{border:`${j.BORDER_WIDTH}px solid ${t?e:"rgba(255, 255, 255, 0)"}`,borderRadius:7.5,boxShadow:t?"0 0 10px 0 "+e:"none",boxSizing:"content-box",content:"''",display:"block",pointerEvents:"none",position:"absolute",transition:"border-color 200ms ease, box-shadow 200ms ease",...a}}))({color:R.a["blue-light-3"],show:d,style:{...w({type:e,size:r,width:i,height:o}),...a}}),[d,e,a,r,i,o]);return Object(c.useEffect)(()=>{if(Number.isFinite(n)&&n>s)m(s+1);else if(_.current&&t===E.id&&E.type===e){window.getComputedStyle(_.current).border,window.getComputedStyle(_.current).boxShadow;let t=_.current.parentElement,n=null;for(;null!==t;){if("auto"===window.getComputedStyle(t).overflow){n=t;break}t=t.parentElement}if(n){const{bottom:t,height:c,top:r}=(({height:e,highlightRef:t,type:a,highlightStyle:n})=>{if(!t||!t.current)return{bottom:0,height:0,top:0};const{height:c,top:r}=t.current.getBoundingClientRect();switch(a){case I.SearchHighlightType.FIELD:default:{const{PADDING_BOTTOM:e,PADDING_TOP:t,TOP:a}=y,l=r+Object(v.a)(n,"top",a),i=l+c+Object(v.a)(n,"paddingBottom",e)+Object(v.a)(n,"paddingTop",t)+2*j.BORDER_WIDTH;return{bottom:i,height:i-l,top:l}}}})({height:o,highlightRef:_,type:e,highlightStyle:a}),{bottom:l,height:i,top:E}=n.getBoundingClientRect(),s=t>l,m=c>i,d=15;r<E||m?n.scrollTo({behavior:"smooth",top:n.scrollTop-E+r-d}):s&&n.scrollTo({behavior:"smooth",top:n.scrollTop+t-l+d})}u(!0)}},[o,s]),Object(c.useEffect)(()=>{d||E.id!==t||m(e=>e+1),d&&E.id!==t&&u(!1)},[E.id,d]),{highlightClassName:T,highlightRef:_}}const P=Object(l.c)(d.a)`
  color: ${M.a} !important;
  cursor: pointer;
  font-size: 12px;
  line-height: 1.6 !important;
  opacity: 0.7;
  transition: opacity 200ms ease;
`,x=Object(l.c)(d.a)`
  color: white;
  cursor: pointer;
  font-size: 13px;
  letter-spacing: 0.2px;
  line-height: 1.6 !important;
  opacity: 0.7;
  transition: opacity 200ms ease;
`,G=l.a`
  cursor: pointer;
  user-select: none;

  &:hover {
    // Made the class plain text instead of \${StyledDescription} because TypeScript compiler breaks the interpolation
    .settingsGridDescription {
      opacity: 1;
    }

    // Same here
    .settingsGridLabel {
      color: white;
      opacity: 1;
    }
  }
`;var F=({text:e,badge:t=null,children:a=null,description:n="",descriptionValues:c={},dontTranslateText:i=!1,highlightDelay:o=null,highlightStyle:E=null,htmlFor:m=null,offset:d=0,size:u=5,useHtml:_=!1})=>{const{highlightClassName:T,highlightRef:b}=U({type:I.SearchHighlightType.FIELD,forId:m,highlightStyle:E,highlightDelay:o,size:u}),S=!(!n&&!a),p={["col-"+u]:!0,["offset-"+d]:d>0},O=_?s.b:s.c;return r.a.createElement("div",{className:Object(l.b)(p,G,T),ref:b},r.a.createElement("div",{className:"mb-1"},r.a.createElement(x,{className:"settingsGridLabel",htmlFor:m,primary:!0},i?e:r.a.createElement(s.c,{id:e})),t&&r.a.createElement(f,{state:t})),S&&r.a.createElement("div",null,r.a.createElement(P,{className:"settingsGridDescription",htmlFor:m,secondary:!0},n?r.a.createElement(O,{id:n,values:c}):a)))};const H=l.a`
  max-width: 960px;
`,k=({children:e="",className:t="",forwardedRef:a,leaveSpaceForValidationMessage:n=!1,marginTop:c=8,noWidthLimit:i=!1})=>{const o=n?4:c;return r.a.createElement("div",{className:Object(l.b)("row","mt-"+o,i?null:H,t),ref:a},e)};var Y=r.a.forwardRef((e,t)=>r.a.createElement(k,Object.assign({forwardedRef:t},e)));var B=e=>r.a.createElement("div",{className:"mt-2 mb-6"},r.a.createElement(p.a,Object.assign({color:"white",weight:"400",size:"large"},e)));const W=Object(l.c)("div")`
  flex: 0 1 480px;
`,$=Object(l.c)("h2")`
  font-weight: normal;
  letter-spacing: 2px;
  text-transform: uppercase;
`;var V=({text:e,className:t="",description:a="",highlightDelay:n=null,highlightStyle:c=null,section:i=null})=>{const o=A.b.sectionColors.common;return r.a.createElement(Y,{className:t,marginTop:0},r.a.createElement(W,null,r.a.createElement($,{className:Object(l.b)("mt-8","type-larger"),style:{color:o}},r.a.createElement(s.c,{id:e})),a&&r.a.createElement(p.a,{message:a,className:"mt-3",lineHeight:2,display:"block",size:"small"})))};const z=Object(l.c)("div")`
  > * {
    border-bottom: ${({noDivider:e})=>e?0:"1px solid var(--ubnt-color-border-primary)"};
  }

  &:last-child > * {
    border-bottom: 0;
  }
`,K=({children:e,className:t="",noBottomMargin:a=!1,noDivider:n=!1})=>r.a.createElement(z,{className:Object(l.b)("container","px-8",t),noDivider:n},r.a.createElement("div",{className:Object(l.b)({"pb-8":!a})},e));K.Content=i,K.Icon=E,K.Label=F,K.Row=Y,K.SectionHeader=B,K.Subheader=V;var q=a(284);const Q=Object(l.c)(q.c,{shouldForwardProp:e=>"withStickyButton"!==e&&"noPadding"!==e})`
  padding: ${({noPadding:e=!1,theme:t,withStickyButton:a=!1})=>e?"0":`0 ${2*parseInt(t.spacing["spacing-xxxxl"],10)}px ${a?2*parseInt(t.spacing["spacing-xxxl"],10)+"px":"0"}`};
`;var X=e=>r.a.createElement(Q,Object.assign({},e)),J=a(1926),Z=a(168),ee=a(21);const te=({lastQuery:e=0})=>{const t=Object(D.useSelector)(Z.C);return e>0?r.a.createElement(ee.a,{alignItems:"center"},r.a.createElement(s.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_CHECK_QUERY_STATUS_LABEL"}),"",r.a.createElement(s.a,{value:new Date(1e3*e),year:"numeric",month:"long",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!t})):r.a.createElement(s.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_STATUS_QUERY_NONE"})};a(1929)},1938:function(e,t,a){"use strict";a.d(t,"b",(function(){return P})),a.d(t,"a",(function(){return R}));var n=a(0),c=a.n(n),r=a(5),l=a(2),i=a(44),o=a(2847),E=a(2658),s=a(1929),m=a(783),d=a(71),u=a(1940),_=a(15),T=a(32),b=a(42),S=a(1847),p=a(782),O=a(1930);const N=r.a`
  &-appear,
  &-enter {
    opacity: 0;
    transform: translateX(15px);
  }
  &-appear-active,
  &-enter-active,
  &-appear-done,
  &-enter-done {
    opacity: 1;
    transform: translateX(0);
    transition: opacity 150ms cubic-bezier(0.25, 0.1, 0.25, 1) 130ms,
      transform 300ms cubic-bezier(0.25, 0.1, 0.25, 1.4) 130ms;
  }
  &-exit {
    opacity: 1;
    transform: translateX(0);
  }
  &-exit-active,
  &-exit-done {
    opacity: 0;
    transform: translateX(15px);
    transition: opacity 100ms linear, transform 100ms linear;
  }
`;var A=({timeout:e={enter:300,exit:100},in:t,children:a,ignoredPaths:r,...l})=>{const i=Object(O.a)(),o=Object(p.a)(r),E=Object(n.useMemo)(()=>c.a.Children.map(a,a=>null===a?a:c.a.createElement(S.a,Object.assign({appear:t||!o||i,in:t||!o||i,timeout:e,classNames:N,mountOnEnter:!0},l),a)),[a,t,o,i,e,l]);return c.a.createElement(c.a.Fragment,null,E)};const h=r.a`
  &-appear,
  &-enter {
    border-bottom: transparent !important;
  }
  &-appear-active,
  &-enter-active,
  &-appear-done,
  &-enter-done {
    transition: border-bottom 150ms cubic-bezier(0.25, 0.1, 0.25, 1);
  }
  &-exit {
    opacity: 1;
  }
  &-exit-active,
  &-exit-done {
    opacity: 0;
    transition: opacity 100ms linear;
  }
`;var g=({timeout:e={enter:150,exit:100},in:t,children:a,ignoredPaths:r,...l})=>{const i=Object(O.a)(),o=Object(p.a)(r),E=Object(n.useMemo)(()=>c.a.Children.map(a,a=>null===a?a:c.a.createElement(S.a,Object.assign({appear:t||!o||i,in:t||!o||i,timeout:e,classNames:h,mountOnEnter:!0},l),a)),[a,t,o,i,e,l]);return c.a.createElement(c.a.Fragment,null,E)};const C=Object(r.c)(d.g)`
  > * {
    /* Use margin on child rather than padding on self not to occupy space when no button is shown */
    margin-left: ${({theme:e})=>e.spacing["spacing-xxl"]};
    margin-right: ${({theme:e})=>e.spacing["spacing-xxl"]};
  }
`,f=Object(r.c)(d.g)`
  border-bottom: 1px solid ${({theme:e})=>e.motifPalette.ui03};
`,I=Object(r.c)("h1")`
  font-size: 16px;
  font-weight: normal;
`,M=Object(r.c)(d.c)`
  padding: ${({theme:e})=>e.spacing["spacing-s"]};
`,D=Object(r.c)(T.a)`
  color: ${({theme:e})=>e.motifPalette.text01} !important;
  font-size: 16px !important;
`;var R=({title:e,showBack:t,goBack:a,onEscClicked:n,hideClose:r,ignoredPaths:l})=>{const{motif:i}=Object(b.a)();return c.a.createElement(g,{ignoredPaths:l},c.a.createElement(f,{flex:"none",height:"65px"},c.a.createElement(A,{ignoredPaths:l},c.a.createElement(d.g,{alignItems:"center",flex:"1",justifyContent:"space-between"},c.a.createElement(C,{alignItems:"center",flex:"1",height:"100%"},t&&c.a.createElement(M,{legacy:!1,name:"backButton",type:"button",onClick:a,motif:i},c.a.createElement(_.f,{size:"original"}))),c.a.createElement(I,null,c.a.createElement(D,{weight:"bold"},e.component)),c.a.createElement(C,{alignItems:"center",flex:"1",height:"100%",justifyContent:"flex-end"},!r&&c.a.createElement(M,{legacy:!1,name:"closeButton",type:"button",onClick:n},c.a.createElement(_.y,{size:"original"})))))))};const L=Object(r.c)(d.g)`
  width: 100%;
  max-width: ${m.a};
  margin: 0 auto;
  padding: ${({theme:e})=>e.spacing["spacing-xxxxl"]}
    ${({theme:e})=>2*parseInt(e.spacing["spacing-xxxxl"],10)}px;
`,v=Object(r.c)("form")`
  display: flex;
  flex: 1;
  overflow: hidden;
  width: 100%;
  height: 100%;
`,j=Object(r.c)(d.g)`
  @media (max-width: 1010px) {
    flex-direction: column;
  }
`,y=Object(r.c)(o.a)`
  transition: height 100ms ease, transform 100ms ease; /* TODO: Remove with next ui-components update (v25.1.1 +)  */
  > :first-child {
    max-width: ${m.a};
    padding-left: ${({theme:e})=>2*parseInt(e.spacing["spacing-xxxxl"],10)}px !important;
    padding-right: ${({theme:e})=>2*parseInt(e.spacing["spacing-xxxxl"],10)}px !important;
    position: relative;
    margin: 0 auto;
  }
`,w=Object(r.c)(d.h)`
  background: transparent;
  overflow: scroll !important;
  margin-right: -${({theme:e})=>e.scrollBarWidth}px;
`,U=Object(r.c)(d.k)`
  height: 100%;
  width: 100%;
`;var P=({children:e,disableUnsavedChangesModal:t,goBack:a,hideClose:n,isEdit:r,isView:o,showBack:m,title:_,unsavedChangesModalIgnoredPaths:T,onEscClicked:b,submitText:S="COMMON_ACTION_APPLY_CHANGES",footerActiveOverride:p=!1,customFooterButtons:O,hidddenHeader:N,...A})=>c.a.createElement(i.c,Object.assign({enableReinitialize:!0},A),({dirty:r,handleReset:i,handleSubmit:A,isSubmitting:h})=>c.a.createElement(v,{autoComplete:"off",onSubmit:A},c.a.createElement(U,{vertical:!0},!N&&c.a.createElement(R,{goBack:a,hideClose:n,showBack:m,title:_,onEscClicked:b,ignoredPaths:T}),c.a.createElement(u.a,{ignoredPaths:T},c.a.createElement(w,{flex:"1"},c.a.createElement(L,{flex:"none",flexDirection:"column"},e))),!t&&!o&&c.a.createElement(s.a,{ignoredPaths:T,when:r&&!h}),(!o||p)&&c.a.createElement(y,{active:r||p},c.a.createElement(d.g,{justifyContent:O?"space-between":"flex-end",width:"100%",alignItems:"center"},O&&c.a.createElement(j,null,O(h)),!o&&c.a.createElement(d.g,null,c.a.createElement(E.a,{disabled:!r||h,type:"button",variant:"default",onClick:i},c.a.createElement(l.c,{id:"COMMON_ACTION_CANCEL"})),c.a.createElement(E.a,{disabled:!r||h,type:"submit",variant:"primary"},c.a.createElement(l.c,{id:S}))))))))},1940:function(e,t,a){"use strict";var n=a(0),c=a.n(n),r=a(1847),l=a(5),i=a(782),o=a(1930);const E=l.a`
  &-appear,
  &-enter {
    opacity: 0;
    transform: translateX(60px);
  }
  &-appear-active,
  &-enter-active {
    opacity: 1;
    transform: translateX(0);
    transition: opacity 150ms cubic-bezier(0.25, 0.1, 0.25, 1), transform 300ms cubic-bezier(0.25, 0.1, 0.25, 1);
  }
  &-exit {
    opacity: 1;
    transform: translateX(0);
  }
  &-exit-active,
  &-exit-done {
    opacity: 0;
    transform: translateX(60px);
    transition: opacity 100ms cubic-bezier(0.25, 0.1, 0.25, 1), transform 100ms cubic-bezier(0.25, 0.1, 0.25, 1);
  }
`;t.a=({timeout:e={enter:300,exit:100},in:t,ignoredPaths:a,children:l,...s})=>{const m=Object(o.a)(),d=Object(i.a)(a),u=Object(n.useMemo)(()=>c.a.Children.map(l,a=>null===a?a:c.a.createElement(r.a,Object.assign({appear:t||!d||m,in:t||!d||m,timeout:e,classNames:E,mountOnEnter:!0},s),a)),[l,t,d,m,e,s]);return c.a.createElement(c.a.Fragment,null,u)}},1944:function(e,t,a){"use strict";var n;a.d(t,"b",(function(){return c})),function(e){e.alpha="ALPHA",e.beta="UNIFI_LABS",e.comingSoon="COMING_SOON"}(n||(n={}));const c={[n.alpha]:"COMMON_BADGE_ALPHA",[n.beta]:"COMMON_BADGE_UNIFI_LABS",[n.comingSoon]:"COMMON_BADGE_COMING_SOON"};t.a=n},2080:function(e,t,a){"use strict";var n,c,r,l,i;a.d(t,"c",(function(){return r})),a.d(t,"a",(function(){return l})),a.d(t,"b",(function(){return i})),function(e){e[e.SUNDAY=0]="SUNDAY",e[e.MONDAY=0]="MONDAY",e[e.TUESTDAY=0]="TUESTDAY",e[e.WEDNESDAY=0]="WEDNESDAY",e[e.THURSDAY=0]="THURSDAY",e[e.FRIDAY=0]="FRIDAY",e[e.SATURDAY=0]="SATURDAY"}(n||(n={})),function(e){e[e.JANUARY=1]="JANUARY",e[e.FEBRYARY=2]="FEBRYARY",e[e.MARCH=3]="MARCH",e[e.APRIL=4]="APRIL",e[e.MAY=5]="MAY",e[e.JUNE=6]="JUNE",e[e.JULY=7]="JULY",e[e.AUGUST=8]="AUGUST",e[e.SEPTEMBER=9]="SEPTEMBER",e[e.OCTOBER=10]="OCTOBER",e[e.NOVEMBER=11]="NOVEMBER",e[e.DECEMBER=12]="DECEMBER"}(c||(c={})),function(e){e.NEVER="Never",e.DAILY="Daily",e.WEEKLY="Weekly",e.MONTHLY="Monthly",e.ADVANCED="Advanced"}(r||(r={})),function(e){e.DAY="Day",e.WEEK="Week",e.MONTH="Month",e.YEAR="Year"}(l||(l={})),function(e){e.Hour="Hourly",e.Day="Daily",e.Week="Weekly",e.Month="Monthly",e.Year="Yearly"}(i||(i={}))},2104:function(e,t,a){"use strict";a.d(t,"a",(function(){return u})),a.d(t,"e",(function(){return _})),a.d(t,"g",(function(){return T})),a.d(t,"f",(function(){return b})),a.d(t,"b",(function(){return S})),a.d(t,"c",(function(){return p})),a.d(t,"d",(function(){return O}));var n=a(0),c=a.n(n),r=a(2),l=a(32),i=a(764),o=a(30),E=a(117),s=a(61),m=a(46),d=a(2080);const u={name:"",execute_only_once:!1,cron_expr:"",upgrade_targets:[],dayInMonth:1,repeat:d.c.NEVER,repeatEveryCount:1,repeatEveryPeriod:d.a.DAY,startTime:0,weekDays:[]},_="schedule-upgrades",T=o.a.object().shape({name:o.a.string().label("SETTINGS_SYSTEM_MAINTENANCE_UPDATE_FORM_SCHEDULED_LABEL_NAME").required(),upgrade_targets:o.a.array().of(o.a.string()).label("SETTINGS_SYSTEM_MAINTENANCE_UPDATE_FORM_SCHEDULED_LABEL_TARGET_DEVICES").min(1).required(),startTime:o.a.number().label("SETTINGS_SYSTEM_MAINTENANCE_UPDATE_FORM_SCHEDULED_LABEL_START_TIME").required(),repeat:o.a.string().label("SETTINGS_SYSTEM_MAINTENANCE_UPDATE_FORM_SCHEDULED_LABEL_REPEATS").oneOf(Object.values(d.c)).required(),repeatEveryPeriod:o.a.string().when("repeat",{is:e=>e===d.c.ADVANCED,then:o.a.string().oneOf(Object.values(d.a)).required()}),repeatEveryCount:o.a.number().when(["repeat","repeatEveryPeriod"],(e,t)=>{if(e===d.c.ADVANCED)switch(t){case d.a.DAY:return o.a.number().label("SETTINGS_SYSTEM_MAINTENANCE_UPDATE_FORM_SCHEDULED_LABEL_REPEAT_EVERY").min(1).max(31).required();case d.a.WEEK:return o.a.number().label("SETTINGS_SYSTEM_MAINTENANCE_UPDATE_FORM_SCHEDULED_LABEL_REPEAT_EVERY").min(1).max(2).required();case d.a.MONTH:return o.a.number().label("SETTINGS_SYSTEM_MAINTENANCE_UPDATE_FORM_SCHEDULED_LABEL_REPEAT_EVERY").min(1).max(12).required()}return o.a.number()}),dayInMonth:o.a.number().when(["repeat","repeatEveryPeriod"],{is:(e,t)=>e===d.c.MONTHLY||e===d.c.ADVANCED&&t===d.a.MONTH,then:o.a.number().label("SETTINGS_SYSTEM_MAINTENANCE_UPDATE_FORM_SCHEDULED_LABEL_REPEAT_ON_DAY_OF_MONTH").min(1).max(31).required()}),weekDays:o.a.array().of(o.a.number()).when(["repeat","repeatEveryPeriod"],{is:(e,t)=>e===d.c.WEEKLY||e===d.c.ADVANCED&&t===d.a.WEEK,then:o.a.array().of(o.a.number()).min(1,"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_FORM_SCHEDULED_LABEL_VALIDATION_WEEK_DAYS_MIN").required()})}),b=[{compare:Object(s.a)(e=>Object(m.c)(e)),id:"icon",minWidth:32,renderCell:e=>c.a.createElement(E.c,{device:e}),renderLabel:()=>null},{compare:Object(s.a)(e=>Object(m.c)(e)),id:"name",minWidth:100,label:c.a.createElement(r.c,{id:"SETTINGS_DEVICE_SELECTOR_HEADER_NAME"}),renderCell:e=>c.a.createElement(l.a,{color:"tertiary",truncate:!0},Object(m.c)(e)),sortable:!0},{compare:Object(s.a)(e=>Object(m.a)(e)),id:"model",minWidth:130,label:c.a.createElement(r.c,{id:"SETTINGS_DEVICE_SELECTOR_HEADER_MODEL"}),renderCell:e=>c.a.createElement(l.a,{color:"tertiary",truncate:!0},Object(m.a)(e)),sortable:!0}],S=e=>Object(i.a)(0,24).map(t=>Object(i.a)(4).map(a=>{const n=String(15*a).padStart(2,"0");return{label:`${String(e?t:t%12||12).padStart(2,"0")}:${n}${e?"":""+(t>=12?"pm":"am")}`,value:60*t+ +n}})).flat(),p=Object.entries(d.c).map(([e,t])=>({label:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_FORM_SCHEDULED_LABEL_REPEAT_"+e,value:t})),O=[{label:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_FORM_SCHEDULED_LABEL_REPEAT_DAY",value:d.a.DAY},{label:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_FORM_SCHEDULED_LABEL_REPEAT_WEEK",value:d.a.WEEK},{label:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_FORM_SCHEDULED_LABEL_REPEAT_MONTH",value:d.a.MONTH},{label:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_FORM_SCHEDULED_LABEL_REPEAT_YEAR",value:d.a.YEAR}]},2118:function(e,t,a){"use strict";a.d(t,"a",(function(){return E})),a.d(t,"b",(function(){return u}));var n=a(12),c=a.n(n),r=a(6),l="/v2/api/timezones";function i(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function o(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?i(Object(a),!0).forEach((function(t){c()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):i(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var E=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Object(r.q)("timezones",l,e,o({idField:"timezone"},t))},s=a(20),m=a(4),d=Object(r.A)(E()),u=Object(m.a)((function(e){return Object(s.a)(d(e),"data",[])}),(function(e){return e.map((function(e){return{label:"(UTC".concat(e.offset,") ").concat(e.timezone.replace(/_/g," ")),value:e.timezone}}))}))},2166:function(e,t,a){"use strict";a.d(t,"a",(function(){return l})),a.d(t,"c",(function(){return i})),a.d(t,"b",(function(){return o}));var n=a(764),c=a(2104),r=a(2080);const l=(e,t)=>{let{dayInMonth:a,repeat:n,repeatEveryCount:l,repeatEveryPeriod:i,startTime:o,weekDays:E}=c.a;const[s,m,d,u,_]=null==e?void 0:e.split(" ");if(s&&m&&(o=60*(Number(m)||0)+(Number(s)||0)),!t)if(1==+d&&1==+u)n=r.c.ADVANCED,i=r.a.YEAR;else if("*"!==d)if("*"!==_)n=r.c.ADVANCED,l=2,i=r.a.WEEK,E=_.split(",").map(Number);else if("*"!==u){n=r.c.ADVANCED,i=r.a.MONTH;const e=u.split(",");l=+e[1]-+e[0]||1}else{const e=d.split(",");e.length>1?(n=r.c.ADVANCED,i=r.a.DAY,l=+e[1]-+e[0]||1):(n=r.c.MONTHLY,a=+d)}else"*"!==_?("*"!==d?(n=r.c.ADVANCED,l=2,i=r.a.WEEK):n=r.c.WEEKLY,E=_.split(",").map(Number)):n=r.c.DAILY;return{dayInMonth:a,repeat:n,repeatEveryCount:l,repeatEveryPeriod:i,startTime:o,weekDays:E}},i=(...e)=>e.map(e=>null!=e?e:"*").join(" "),o=({dayInMonth:e,repeat:t,repeatEveryCount:a,repeatEveryPeriod:c,startTime:l,weekDays:o})=>{const E=Math.floor(l/60),s=l%60;let m,d,u;switch(t){case r.c.NEVER:case r.c.DAILY:break;case r.c.WEEKLY:u=o.join(",");break;case r.c.MONTHLY:m=e;break;case r.c.ADVANCED:switch(c){case r.a.DAY:1!=+a&&(m=Object(n.a)(1,32,a).join(","));break;case r.a.WEEK:2==+a&&(m="1-7,15-21"),u=o.join(",");break;case r.a.MONTH:m=e,1!=+a&&(d=Object(n.a)(1,12,a).join(","));break;case r.a.YEAR:m=1,d=1}}return i(s,E,m,d,u)}},2211:function(e,t,a){"use strict";var n=a(0),c=a.n(n),r=a(2846),l=a(1926),i=a(5);const o=Object(i.c)("div",{shouldForwardProp:e=>!["height","maxWidth","headerHeight"].includes(e)})`
  height: ${({height:e})=>e}px;
  ${({maxWidth:e})=>e?`max-width: ${e}px;`:""}
  ${({headerHeight:e})=>e?`table {\n    th {\n      height: ${e}px !important;\n    }\n  }`:""}
`;t.a=function({maxRows:e=6,headerHeight:t,maxWidth:a,forwardedRef:i,rowHeight:E,items:s,...m}){const d=Object(n.useMemo)(()=>l.b.getHeight(s.length,6,t,E)+1,[t,s.length,E]);return c.a.createElement(o,{height:d,maxWidth:a,headerHeight:t},c.a.createElement(r.a,Object.assign({ref:i,rowHeight:E,items:s},m)))}},2478:function(e,t,a){"use strict";var n=a(2479);a.d(t,"fetchScheduledUpgrades",(function(){return n.a})),a.d(t,"removeScheduledUpgrade",(function(){return n.b})),a.d(t,"saveScheduledUpgrade",(function(){return n.c}));a(2523);var c=a(2556);a.d(t,"selectScheduledUpgrades",(function(){return c.a}));a(2557)},2479:function(e,t,a){"use strict";a.d(t,"a",(function(){return r})),a.d(t,"c",(function(){return l})),a.d(t,"b",(function(){return i}));var n=a(6),c=a(2523);const r=e=>Object(n.q)(c.a,c.b+"?action=upgrade",void 0,{crudCacheStrategy:e,idField:"_id"}),l=e=>t=>{const{_id:a}=e;return t(a?Object(n.C)(c.a,a,`${c.b}/${a}`,{action:"upgrade",...e}):Object(n.i)(c.a,c.b,{action:"upgrade",...e}))},i=e=>Object(n.n)(c.a,e,`${c.b}/${e}`)},2480:function(e,t,a){"use strict";var n=a(2519);a.d(t,"downloadFirmwareAndRefresh",(function(){return n.a})),a.d(t,"fetchAvailableFirmware",(function(){return n.b})),a.d(t,"fetchCachedFirmware",(function(){return n.c})),a.d(t,"removeFirmwareAndRefresh",(function(){return n.d}));var c=a(2558);a.d(t,"selectCachedSiteFirmwares",(function(){return c.a})),a.d(t,"selectSiteFirmwares",(function(){return c.b}));a(2559)},2516:function(e,t,a){"use strict";a.d(t,"a",(function(){return s})),a.d(t,"b",(function(){return d}));var n=a(377),c=a.n(n),r=a(805),l=a.n(r),i=a(37),o=a(6),E=(a(27),a(50),a(83)),s=function(){var e=window.navigator,t=e.userAgent,a=e.language;return Object(o.p)(i.a.SUPPORT,"/api/s/{site}/cmd/system",{userAgent:t,language:a})},m=function(e){return function(t){return t(function(e){return Object(o.p)(i.a.SET_PARAM,"/api/s/{site}/cmd/system",e)}(e))}},d=function(e){return function(){var t=l()(c.a.mark((function t(a){return c.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return t.next=2,Promise.all(e.map((function(e){return a(m(e))})));case 2:if(!e.length){t.next=5;break}return t.next=5,a(Object(E.b)());case 5:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()}},2519:function(e,t,a){"use strict";a.d(t,"b",(function(){return l})),a.d(t,"c",(function(){return i})),a.d(t,"a",(function(){return o})),a.d(t,"d",(function(){return E}));var n=a(6);var c=a(37);const r=({device:e,version:t})=>`${e}_${t}`,l=e=>Object(n.q)("availableFirmware","/api/s/{site}/cmd/firmware",{data:{cmd:c.a.LIST_AVAILABLE_FIRMWARE}},{method:"post",idField:r,crudCacheStrategy:e}),i=e=>Object(n.q)("cachedFirmware","/api/s/{site}/cmd/firmware",{data:{cmd:c.a.LIST_CACHED_FIRMWARE}},{method:"post",idField:r,crudCacheStrategy:e}),o=(e,t)=>async a=>{await a(((e,t)=>Object(n.p)(c.a.DOWNLOAD_FIRMWARE,"/api/s/{site}/cmd/firmware",{device:e,version:t}))(e,t)),await a(i()),await a(l())},E=(e,t)=>async a=>{await a(((e,t)=>Object(n.p)(c.a.REMOVE_FIRMWARE,"/api/s/{site}/cmd/firmware",{device:e,version:t}))(e,t)),await a(l()),await a(i())}},2523:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return c}));const n="scheduledUpgrades",c="/api/s/{site}/rest/scheduletask"},2556:function(e,t,a){"use strict";a.d(t,"a",(function(){return o}));var n=a(4),c=a(28),r=a(6),l=a(2479);const i=Object(r.A)(Object(l.a)()),o=Object(n.a)(i,c.c)},2557:function(e,t){var a,n;!function(e){e.STREAM="stream",e.BACKUP="backup",e.UPGRADE="upgrade",e.RADIOAI="radio-ai",e.ANALYTICS="analytics"}(a||(a={})),function(e){e.MEDIA="media",e.SAMPLE="sample"}(n||(n={}))},2558:function(e,t,a){"use strict";a.d(t,"b",(function(){return u})),a.d(t,"a",(function(){return _}));var n=a(4),c=a(2731),r=a(28),l=a(6),i=a(2519);const o=Object(l.A)(Object(i.b)()),E=Object(n.a)(o,r.c),s=Object(l.A)(Object(i.c)()),m=Object(n.a)(s,r.c),d=Object(n.a)(E,m,(e,t)=>Object(c.a)([...e.map(e=>({...e,id:`${e.device}_${e.version}`})),...t.map(e=>({...e,id:`${e.device}_${e.version}`}))],"id")),u=Object(n.a)(d,e=>e.filter(({siteDevice:e})=>e)),_=Object(n.a)(m,e=>e.filter(({siteDevice:e})=>e));Object(n.a)(d,e=>e.filter(({cached:e,knownDevice:t,siteDevice:a})=>e||t||a))},2559:function(e,t){},2737:function(e,t,a){var n={"./en-au":2560,"./en-au.js":2560,"./en-ca":2561,"./en-ca.js":2561,"./en-gb":2562,"./en-gb.js":2562,"./en-ie":2563,"./en-ie.js":2563,"./en-il":2564,"./en-il.js":2564,"./en-in":2565,"./en-in.js":2565,"./en-nz":2566,"./en-nz.js":2566,"./en-sg":2567,"./en-sg.js":2567};function c(e){var t=r(e);return a(t)}function r(e){if(!a.o(n,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return n[e]}c.keys=function(){return Object.keys(n)},c.resolve=r,e.exports=c,c.id=2737},2749:function(e,t){},767:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return c}));const n="controllerWarnings",c="/api/s/{site}/stat/widget/warnings"}}]);