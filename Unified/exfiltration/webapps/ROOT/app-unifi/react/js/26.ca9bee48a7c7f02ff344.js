(window.webpackJsonpunifiNetworkUi=window.webpackJsonpunifiNetworkUi||[]).push([[26],{1799:function(e,t,a){"use strict";a.r(t);var n,l,r,c=a(0),i=a.n(c),_=a(36),E=a(8),o=a(2004),s=a(34),d=a(18),p=a(807),m=a(70),u=a(6),S=a(5),T=a(2),O=a(20),N=a(215),b=a(180),I=a(558),h=a(3),R=a(169),A=a(451),g=a(50),D=a(379),P=a(280),F=a(83),v=a(1938),L=a(27),f=a(2005),C=a(16),M=a(2056),w=a(2054),G=a(663),y=a(44),j=a(1951),W=a(65),V=a(2521),x=a(1739),U=a(1851),k=a(243),K=a(1737),H=a(1736),B=a(21),$=a(62),Y=a(2931),z=a(30),X=a(105),q=a(61);!function(e){e.VIEW="view",e.ASSIGN_VALUE="assignValue"}(n||(n={})),function(e){e.PREDEFINED="predefined",e.ADD_NEW="addNew"}(l||(l={})),function(e){e.ADD_NEW="addNew",e.PREDEFINED_FIRST="predefinedFirst",e.PREDEFINED_SECOND="predefinedSecond"}(r||(r={}));const Z=e=>`${j.DHCP_USER_OPTION_PREFIX}${e._id}`,Q=(e={},t=!1)=>{var a;const n=t?"max":"min",l=null!==(a=e.width)&&void 0!==a?a:8;return(e.signed?j.DHCP_CODE.SIGNED_EXTENTS:j.DHCP_CODE.UNSIGNED_EXTENTS)[l][n]},J=e=>{switch(e.type){case j.DHCP_OPTIONS.BOOLEAN:return z.a.boolean();case j.DHCP_OPTIONS.HEX_ARRAY:return z.a.string().label("SETTINGS_GATEWAY_DHCP_TYPE_OPTION_HEX_ARRAY").matches(X.e,i.a.createElement(T.c,{id:"SETTINGS_NETWORK_DHCP_OPTION_HEX_ARRAY_VALIDATION"})).required();case j.DHCP_OPTIONS.MAC_ADDRESS:return z.a.string().label("SETTINGS_GATEWAY_DHCP_TYPE_OPTION_MAC_ADDRESS").matches(X.p,i.a.createElement(T.c,{id:"COMMON_VALIDATION_VALID_MAC"})).required();case j.DHCP_OPTIONS.IP_ADDRESS:return z.b.required(i.a.createElement(T.c,{id:"COMMON_VALIDATION_FIELD_REQUIRED"}));case j.DHCP_OPTIONS.TEXT:return z.a.string().label("SETTINGS_GATEWAY_DHCP_TYPE_OPTION_TEXT").required();case j.DHCP_OPTIONS.INTEGER:return z.a.number().label("SETTINGS_GATEWAY_DHCP_TYPE_OPTION_INTEGER").min(Q(e)).max(Q(e,!0)).required();default:return z.a.string()}},ee=Object(S.c)($.Field)`
  height: 36px;
  + div > span {
    // hide error text as there is no space for it in table
    display: none !important;
  }
`,te=Object(S.c)("span")`
  overflow: hidden;
  text-overflow: ellipsis;
  white-space: nowrap;
`,ae=e=>{const t=(e=>{const{signed:t,type:a,width:n}=e;switch(a){case j.DhcpOptionTypes.BOOLEAN:return{type:"checkbox"};case j.DhcpOptionTypes.HEX_ARRAY:return{label:"SETTINGS_GATEWAY_DHCP_TYPE_OPTION_HEX_ARRAY"};case j.DhcpOptionTypes.INTEGER:return{label:t?"SETTINGS_NETWORK_DHCP_OPTION_SIGNED_INTEGER_LABEL":"SETTINGS_NETWORK_DHCP_OPTION_UNSIGNED_INTEGER_LABEL",labelValues:{value:n},type:"number"};case j.DhcpOptionTypes.IP_ADDRESS:return{label:"SETTINGS_GATEWAY_DHCP_TYPE_OPTION_IPADDRESS"};case j.DhcpOptionTypes.MAC_ADDRESS:return{label:"SETTINGS_GATEWAY_DHCP_TYPE_OPTION_MAC_ADDRESS"};case j.DhcpOptionTypes.TEXT:return{label:"SETTINGS_GATEWAY_DHCP_TYPE_OPTION_TEXT"};default:return{}}})(e);return"checkbox"!==t.type?{...t,full:!0}:t},ne=(e,t,a)=>{const l=[{compare:Object(q.a)(({name:e})=>e.toLowerCase()),id:"dhcp-option-name",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORK_DHCP_OPTION_TABLE_HEADER_NAME"}),renderCell:({name:e})=>i.a.createElement(te,null,e),sortable:!0},{compare:Object(q.a)(({code:e})=>e),id:"dhcp-option-code",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORK_DHCP_OPTION_TABLE_HEADER_CODE"}),renderCell:({code:e})=>i.a.createElement(te,null,e),sortable:!0,minWidth:40,maxWidth:60},{compare:Object(q.a)(({signed:t,type:a,width:n})=>Object(j.getDhcpOptionTypeDisplayText)(e,t,a,n)),id:"dhcp-option-type",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORK_DHCP_OPTION_TABLE_HEADER_TYPE"}),renderCell:({signed:t,type:a,width:n})=>i.a.createElement(te,null,Object(j.getDhcpOptionTypeDisplayText)(e,t,a,n))}];return t===n.ASSIGN_VALUE&&l.push({id:"dhcp-option-value",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORK_DHCP_OPTION_TABLE_HEADER_VALUE"}),renderCell:e=>i.a.createElement(ee,Object.assign({name:"networkDhcpOptions."+Z(e)},ae(e)))}),t===n.VIEW&&l.push({id:"dhcp-option-value",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORK_DHCP_OPTION_TABLE_HEADER_VALUE"}),renderCell:t=>i.a.createElement(te,null,((e,t)=>"boolean"==typeof e?e?t.formatMessage({id:"COMMON_TRUE"}):t.formatMessage({id:"COMMON_FALSE"}):e)(a[Z(t)],e))}),l},le=(e,t)=>e.filter(e=>Object(Y.a)(t,Z(e))),re=Object(S.c)(B.a)`
  > span {
    color: ${({theme:e})=>e.motifPalette.text02};
    margin-bottom: ${({theme:e})=>e.spacing["spacing-m"]};
  }
`,ce=Object(S.c)(B.a)`
  span {
    color: ${({theme:e})=>e.motifPalette.text02};
    margin-bottom: ${({theme:e})=>e.spacing["spacing-l"]};
  }
`,ie=Object(S.c)(B.a)`
  > * {
    margin-right: ${({theme:e})=>e.spacing["spacing-s"]};
    &:last-child {
      margin-right: ${({theme:e})=>e.spacing["spacing-xl"]};
    }
  }
`,_e=Object(S.c)(k.a)`
  font-size: ${({theme:e})=>e.fontSize["font-size-xxs"]} !important;
  color: ${({theme:e})=>e.motifPalette.ui05} !important;
  margin-bottom: 5px;
`,Ee=Object(S.c)(K.a)`
  flex-grow: 1;
`;var oe=()=>{const{setFieldValue:e,values:{dhcpOption:t}}=Object(y.e)(),a=ae(t);return i.a.createElement(i.a.Fragment,null,i.a.createElement(H.a,null,i.a.createElement(Ee,{column:!0},i.a.createElement($.Field,{name:"dhcpOption.name",placeholder:"SETTINGS_GATEWAY_DHCP_PLACEHOLDER_DHCP_NAME",label:"SETTINGS_INTERNET_GENERAL_ADV_GW_DHCP_OPTIONS_NAME",full:!0}))),i.a.createElement(H.a,null,i.a.createElement(Ee,{column:!0},i.a.createElement($.Field,{type:"dropdown",name:"dhcpOption.type",options:j.typeOptions,translateOptions:!0,translateLabel:!0,label:"SETTINGS_INTERNET_GENERAL_ADV_GW_DHCP_OPTIONS_TYPE",onChange:t=>{e("dhcpOption.type",t.value),e("dhcpOption.value",void 0)},full:!0}))),i.a.createElement(H.a,null,i.a.createElement(Ee,{column:!0},i.a.createElement($.Field,{name:"dhcpOption.code",label:"SETTINGS_INTERNET_GENERAL_ADV_GW_DHCP_OPTIONS_CODE",type:"number",full:!0}))),t.type===j.DHCP_OPTIONS.INTEGER&&i.a.createElement(H.a,null,i.a.createElement(B.a,{width:"100%"},i.a.createElement(re,{flexDirection:"column"},i.a.createElement(T.c,{id:"SETTINGS_GATEWAY_DHCP_CREATE_OPTION_LABEL_INTEGER_TYPE"}),i.a.createElement(ie,null,j.integerOptions.map(({value:e})=>i.a.createElement($.Field,{key:e,value:e,type:"togglebox",toggleboxType:"radio",name:"dhcpOption.width",inModal:!0},e)))),i.a.createElement(ce,{flexDirection:"column"},i.a.createElement(T.c,{id:"SETTINGS_INTERNET_GENERAL_ADV_GW_DHCP_OPTIONS_SIGNED"}),i.a.createElement($.Field,{name:"dhcpOption.signed",type:"checkbox"})))),i.a.createElement(H.a,null,i.a.createElement(Ee,{column:!0},t.type===j.DhcpOptionTypes.BOOLEAN&&i.a.createElement(_e,null,i.a.createElement(T.c,{id:"SETTINGS_NETWORK_DHCP_OPTION_TABLE_HEADER_VALUE"})),i.a.createElement($.Field,Object.assign({name:"dhcpOption.value"},a)))))},se=a(764),de=a(1795),pe=a(2850),me=a(100);const ue=(e,t,a)=>{var n;const l=new Set([...e,...j.DHCP_CODE.DISALLOWED_CODES]),r=null!==(n=Object(se.a)(224,j.DHCP_CODE.MAX).find(e=>!l.has(e)))&&void 0!==n?n:Object(se.a)(j.DHCP_CODE.MIN,224).find(e=>!l.has(e)),c=Object(de.a)(t,(e,t)=>Object(pe.a)(t,j.DHCP_USER_OPTION_PREFIX)),i=a.reduce((e,t)=>{const a=Z(t);return e[a]=c[a]||t.type!==j.DhcpOptionTypes.BOOLEAN&&void 0,e},{});return{dhcpOption:{name:"",code:r,type:j.DhcpOptionTypes.TEXT,width:8,signed:!1,value:void 0},networkDhcpOptions:{...i}}};function Se(e){const t=e.reduce((e,t)=>(e[Z(t)]=J(t),e),{});return me.a.object().shape({networkDhcpOptions:me.a.object().shape({...t})})}const Te=[{id:l.PREDEFINED,label:i.a.createElement(T.c,{id:"SETTINGS_DHCP_OPTIONS_MODAL_TAB_PREDEFINED"})},{id:l.ADD_NEW,label:i.a.createElement(T.c,{id:"SETTINGS_DHCP_OPTIONS_MODAL_TAB_ADD_NEW"})}],Oe=Object(S.c)(V.a)`
  > div {
    width: 100%;
    border-bottom: 1px solid ${({theme:e})=>e.motifPalette.ui07};
  }

  button {
    margin-right: 16px;
    span {
      font-size: ${({theme:e})=>e.fontSize["font-size-m"]} !important;
      ::before {
        display: none;
      }
      ::after {
        bottom: -1px;
      }
    }
  }
`,Ne=Object(S.c)("div")`
  margin-top: 20px;
`,be=Object(S.c)(x.a,{shouldForwardProp:e=>"addPadding"!==e})`
  margin-top: ${({addPadding:e})=>e?"20px":"0"};
`,Ie=Object(S.c)("div")`
  tr {
    background: transparent !important;
    border-bottom: 1px solid ${({theme:e})=>e.motifPalette.ui07};
  }
`,he=Object(S.c)("div")`
  tr {
    background: transparent !important;
  }
  th {
    border-bottom: 1px solid ${({theme:e})=>e.motifPalette.ui07};
  }
  td {
    padding-right: 0px !important;
    padding-bottom: 0px !important;
    &:not(:last-child) {
      border-bottom: 1px solid ${({theme:e})=>e.motifPalette.ui07};
      > div {
        height: 35px;
      }
    }
  }
`;var Re=Object(T.f)(({intl:e,activeStep:t,selectedTab:a,onSelectTab:_,onChangeDhcpOptionSelection:o})=>{const{resetForm:s}=Object(y.e)(),d=Object(E.useSelector)(j.selectDhcpOptionsData);Object(c.useEffect)(()=>{s()},[s,t.id]);const p=!!d.length;return i.a.createElement(i.a.Fragment,null,p&&i.a.createElement(Oe,{tabs:Te,selectedTab:a,onSelectTab:_,variant:"secondary"}),a===l.PREDEFINED&&i.a.createElement(Ne,null,t.id===r.PREDEFINED_FIRST&&i.a.createElement(Ie,null,i.a.createElement(U.a,{columns:ne(e),items:t.tableItems,idField:"_id",rowHeight:30,multiSelectMode:!0,initialSelectedIds:t.initialSelectedIds,onChangeSelection:o,disableColumnFilters:!0})),t.id===r.PREDEFINED_SECOND&&i.a.createElement(he,null,i.a.createElement(U.a,{columns:ne(e,n.ASSIGN_VALUE),items:t.tableItems,idField:"_id",rowHeight:50,disableColumnFilters:!0,disableTextPointer:!0,disableSelection:!0}))),(a===l.ADD_NEW||!p)&&i.a.createElement(be,{padding:"none",addPadding:p},i.a.createElement(oe,null)))});const Ae=Object(S.c)(W.a,{shouldForwardProp:e=>"isLarge"!==e})`
  width: ${({isLarge:e})=>e?468:385}px !important;

  header {
    span {
      font-size: 18px !important;
    }
    svg {
      display: none;
    }
  }

  footer {
    border-top: 1px solid ${({theme:e})=>e.motifPalette.ui07};
    margin: ${({theme:e})=>`${e.spacing["spacing-xxxxl"]} ${e.spacing["spacing-xxxxl"]} 0`};
    padding: ${({theme:e})=>e.spacing["spacing-xxl"]+" 0"};
    justify-content: flex-end;
  }
`;var ge,De=({onClose:e})=>{const t=Object(E.useDispatch)(),a=Object(E.useSelector)(j.selectDhcpOptionsCodes),n=Object(E.useSelector)(j.selectDhcpOptionsData),{values:_,setValues:o,setFieldValue:s}=Object(y.e)(),[d,p]=Object(c.useState)(le(n,_)),u=Object(m.h)(),S=Object(m.h)(),O=Object(c.useMemo)(()=>({...ue(a,_,d)}),[a,_,d]),N=Object(c.useMemo)(()=>((e,t,a)=>{return{[r.ADD_NEW]:{id:r.ADD_NEW,cancelButtonText:"COMMON_ACTION_CANCEL",submitButtonText:"SETTINGS_NETWORK_DHCP_OPTION_ADD",submitButtonDisabled:!1,validationSchema:(n=e,me.a.object().shape({dhcpOption:me.a.object().shape({name:me.a.string().label("SETTINGS_INTERNET_GENERAL_ADV_GW_DHCP_OPTIONS_NAME").matches(/^[\w-_]*$/,i.a.createElement(T.c,{id:"SETTINGS_INTERNET_GENERAL_ADV_GW_DHCP_OPTIONS_NAME_VALIDATION"})).required(),code:me.a.number().label("SETTINGS_INTERNET_GENERAL_ADV_GW_DHCP_OPTIONS_CODE").min(j.DHCP_CODE.MIN).max(j.DHCP_CODE.MAX).notOneOf([...n,...j.DHCP_CODE.DISALLOWED_CODES],i.a.createElement(T.c,{id:"SETTINGS_INTERNET_GENERAL_ADV_GW_DHCP_OPTIONS_CODE_VALIDATION"})).required(),type:me.a.string(),width:me.a.number(),signed:me.a.boolean(),value:me.a.mixed().when(["type","width","signed"],(e,t,a)=>J({type:e,width:t,signed:a}))})}))},[r.PREDEFINED_FIRST]:{id:r.PREDEFINED_FIRST,cancelButtonText:"COMMON_ACTION_CANCEL",submitButtonText:"SETTINGS_DHCP_OPTIONS_MODAL_BUTTON_NEXT_STEP",submitButtonDisabled:0===a.length,tableItems:t,initialSelectedIds:a.map(e=>e._id),validationSchema:void 0},[r.PREDEFINED_SECOND]:{id:r.PREDEFINED_SECOND,cancelButtonText:"COMMON_ACTION_BACK",submitButtonText:"SETTINGS_DHCP_OPTIONS_MODAL_BUTTON_ADD_OPTS",submitButtonDisabled:!1,tableItems:a,validationSchema:Se(a)}};var n})(a,n,d),[d,a,n]),[b,I]=Object(c.useState)(n.length?N.predefinedFirst.id:N.addNew.id),[h,R]=Object(c.useState)(n.length?l.PREDEFINED:l.ADD_NEW),A=N[b],g=Object(c.useCallback)(({id:e})=>{e===l.ADD_NEW&&I(r.ADD_NEW),e===l.PREDEFINED&&I(r.PREDEFINED_FIRST),R(e)},[R]),D=Object(c.useCallback)(async(a,{setSubmitting:n,resetForm:l})=>{if(b===r.ADD_NEW){const{value:l,...r}=a.dhcpOption;try{const n=await t(Object(j.saveDhcpOption)({...r,code:Number(a.dhcpOption.code),width:Number(a.dhcpOption.width)})),c=Z(n);s(c,l),t(Object(L.c)({icon:C.a.success,message:"SETTINGS_GATEWAY_DHCP_OPTION_SAVE_SUCCESS"})),e()}catch(c){t(Object(L.c)({errorMessage:c.msg,errorValues:c,icon:C.a.danger,message:"SETTINGS_GATEWAY_DHCP_OPTION_SAVE_ERROR"}))}n(!1)}if(b===r.PREDEFINED_FIRST&&(l(),I(r.PREDEFINED_SECOND)),b===r.PREDEFINED_SECOND){const t=Object(M.c)(_,j.DHCP_USER_OPTION_PREFIX);o({...t,...a.networkDhcpOptions},!1),e()}},[t,o,_,s,b,e]),P=Object(c.useCallback)(()=>{b===r.PREDEFINED_SECOND?I(r.PREDEFINED_FIRST):e()},[b,e]),F=Object(c.useCallback)(e=>{p(n.filter(t=>e.includes(t._id)))},[p,n]);return i.a.createElement(y.c,{initialValues:O,validationSchema:A.validationSchema,onSubmit:D,onEscape:S,onBack:u,enableReinitialize:!0},({isSubmitting:t,handleSubmit:a})=>i.a.createElement(Ae,{isLarge:!!n.length,title:i.a.createElement(T.c,{id:"SETTINGS_NETWORK_DHCP_OPTION_ADD"}),onRequestClose:e,actions:[{style:{width:"106px"},disabled:t,text:i.a.createElement(T.c,{id:A.cancelButtonText}),type:"button",variant:"default",onClick:()=>P()},{style:{width:"178px"},disabled:t||A.submitButtonDisabled,text:i.a.createElement(T.c,{id:A.submitButtonText}),type:"button",variant:"primary",onClick:()=>a()}]},i.a.createElement(Re,{activeStep:A,selectedTab:h,onSelectTab:g,onChangeDhcpOptionSelection:F})))},Pe=a(2092);!function(e){e.NONE="none",e.SIMPLE="simple",e.ADVANCED="advanced"}(ge||(ge={}));var Fe=a(2162),ve=a(228),Le=a.n(ve),fe=a(452),Ce=a(2522),Me=a(322),we=a(1916),Ge=a(15),ye=a(1914),je=a(32),We=a(226),Ve=a(253),xe=a(167),Ue=a(71),ke=a(1947),Ke=a(2161),He=a(84);const Be=[{label:"SETTINGS_NETWORKS_FORM_VALUES_DHCP_MODE_NONE",value:s.DhcpRelayMode.NONE},{label:"SETTINGS_NETWORKS_FORM_VALUES_DHCP_MODE_SERVER",value:s.DhcpRelayMode.ENABLED},{label:"SETTINGS_NETWORKS_FORM_VALUES_DHCP_MODE_RELAY",value:s.DhcpRelayMode.RELAY}],$e=[{value:!0,label:"SETTINGS_NETWORKS_FORM_VALUES_DHCP_SERVER_MANUAL"},{value:!1,label:"SETTINGS_NETWORKS_FORM_VALUES_DHCP_SERVER_AUTO"}],Ye=[{value:!1,label:"SETTINGS_NETWORKS_FORM_VALUES_DHCP_SERVER_MANUAL"},{value:!0,label:"SETTINGS_NETWORKS_FORM_VALUES_DHCP_SERVER_AUTO"}],ze=[{label:"SETTINGS_NETWORKS_FORM_VALUES_IPV6_INTERFACE_TYPE_NONE",value:s.IPV6_INTERFACE_TYPES.NONE},{label:"SETTINGS_NETWORKS_FORM_VALUES_IPV6_INTERFACE_TYPE_STATIC",value:s.IPV6_INTERFACE_TYPES.STATIC},{label:"SETTINGS_NETWORKS_FORM_VALUES_IPV6_INTERFACE_TYPE_PD",value:s.IPV6_INTERFACE_TYPES.PD}],Xe=[{value:"low",label:"SETTINGS_NETWORKS_FORM_VALUES_IPV6_RA_PRIORITY_LOW"},{value:"medium",label:"SETTINGS_NETWORKS_FORM_VALUES_IPV6_RA_PRIORITY_MEDIUM"},{value:"high",label:"SETTINGS_NETWORKS_FORM_VALUES_IPV6_RA_PRIORITY_HIGH"}];var qe=a(445),Ze=a(86),Qe=a(128);const Je=Object(S.c)(Ue.g)`
  margin-right: ${({theme:e})=>e.spacing["spacing-xxxxl"]};
`,et=Object(S.c)(Ue.g,{shouldForwardProp:e=>"hasError"!==e})`
  margin-top: ${({theme:e,hasError:t})=>t?"64px":e.spacing["spacing-xl"]};
`,tt=Object(S.c)(qe.a)`
  margin-left: ${({theme:e})=>e.spacing["spacing-s"]};
`,at=Object(S.c)(Ge.a)`
  color: ${({theme:e})=>e.motifPalette.warning};
`;var nt=()=>{const{values:e,validateForm:t,setFieldValue:a,errors:n,touched:l,submitCount:r}=Object(y.e)(),c=Object(He.c)("dhcpd_start",n,l,r)||Object(He.c)("dhcpd_stop",n,l,r),_=e.dhcpd_enabled&&e.ip_subnet&&!Object(He.c)("ip_subnet",n,l,r),{numIps:E}=_&&Object(Qe.l)(e.ip_subnet)||{numIps:0},o=E>Ze.k.MAX_DHCP_LEASES;return i.a.createElement(i.a.Fragment,null,!e.auto_scale_enabled&&i.a.createElement(H.a,null,i.a.createElement(ye.a,{alignWith:"input",htmlFor:"dhcpd_start",label:i.a.createElement(Ue.g,null,i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_DHCP_RANGE"}),o&&i.a.createElement(tt,{message:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_CREATE_FIELD_LIMIT_DHCP_LEASE_RANGE",values:{limit:Ze.k.MAX_DHCP_LEASES}}),position:"bottom",width:140},i.a.createElement(at,null)))}),i.a.createElement(K.a,{column:!0},i.a.createElement(Ue.g,{width:"100%"},i.a.createElement(Je,{flexDirection:"column",flex:"1 1 50%"},i.a.createElement($.Field,{name:"dhcpd_start",full:!0,label:"SETTINGS_NETWORKS_FORM_FIELD_LABEL_DHCP_RANGE_START"})),i.a.createElement(Ue.g,{flexDirection:"column",flex:"1 1 50%"},i.a.createElement($.Field,{name:"dhcpd_stop",full:!0,label:"SETTINGS_NETWORKS_FORM_FIELD_LABEL_DHCP_RANGE_STOP"}))),i.a.createElement(et,{width:"100%",justifyContent:"flex-end",hasError:c},i.a.createElement(Ue.c,{name:"auto-configure-dhcp-range",variant:"inline",type:"button",legacy:!1,onClick:()=>{const{start:n,stop:l}=Object(Pe.c)(e.ip_subnet);a("dhcpd_start",n),a("dhcpd_stop",l),setTimeout(t)},disabled:!_,Icon:Ge.Hb},i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_BUTTON_DHCP_RANGE_CONFIGURE"}))))),i.a.createElement(H.a,null,i.a.createElement(ye.a,{alignWith:"dropdown",htmlFor:"dhcpd_dns_enabled",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_DHCP_NAME_SERVER"}),description:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_DHCP_NAME_SERVER_DESCRIPTION"})}),i.a.createElement(K.a,{column:!0},i.a.createElement($.Field,{full:!0,name:"dhcpd_dns_enabled",options:$e,type:"dropdown",translateOptions:!0}))),e.dhcpd_dns_enabled&&Object(we.a)(4,e=>i.a.createElement(H.a,{key:e},i.a.createElement(ye.a,{alignWith:"input",htmlFor:"dhcpd_dns_"+(e+1),label:null}),i.a.createElement(K.a,{column:!0},i.a.createElement($.Field,{full:!0,name:"dhcpd_dns_"+(e+1),placeholder:"SETTINGS_NETWORKS_FORM_FIELD_DNS_SERVER",placeholderValues:{number:e+1}})))),i.a.createElement(H.a,null,i.a.createElement(ye.a,{alignWith:"input",htmlFor:"dhcpd_leasetime",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_DHCP_LEASE_TIME"})}),i.a.createElement(K.a,{column:!0},i.a.createElement($.Field,{full:!0,type:"number",label:"COMMON_UNIT_SECONDS",name:"dhcpd_leasetime"}))),i.a.createElement(H.a,null,i.a.createElement(ye.a,{alignWith:"dropdown",htmlFor:"dhcpd_gateway_enabled",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_DHCP_GATEWAY_IP_ENABLED"}),description:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_DHCP_GATEWAY_IP_ENABLED_DESCRIPTION"})}),i.a.createElement(K.a,{column:!0},i.a.createElement($.Field,{full:!0,name:"dhcpd_gateway_enabled",type:"dropdown",options:$e,translateOptions:!0}))),e.dhcpd_gateway_enabled&&i.a.createElement(H.a,null,i.a.createElement(ye.a,{alignWith:"input",htmlFor:"dhcpd_gateway",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_DHCP_GATEWAY_IP"})}),i.a.createElement(K.a,{column:!0},i.a.createElement($.Field,{full:!0,name:"dhcpd_gateway"}))))};var lt=()=>null,rt=a(533),ct=a(82),it=a(525);const _t=Object(S.c)(Ue.g)`
  margin-right: ${({theme:e})=>e.spacing["spacing-xxxxl"]};
`,Et=Object(S.c)(Ue.g)`
  margin-top: ${({theme:e})=>e.spacing["spacing-l"]};
`,ot=Object(S.c)(qe.a)`
  margin-left: ${({theme:e})=>e.space[3]}px};
`,st=({ipv6_ra_enabled:e,isUdm:t})=>i.a.createElement(i.a.Fragment,null,i.a.createElement(H.a,null,i.a.createElement(ye.a,{alignWith:"toggleSmall",htmlFor:"ipv6_ra_enabled",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELDS_IPV6_RA"}),description:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELDS_IPV6_RA_DESCRIPTION"})}),i.a.createElement(K.a,{column:!0},i.a.createElement($.Field,{name:"ipv6_ra_enabled",type:"checkbox"}))),e&&i.a.createElement(i.a.Fragment,null,i.a.createElement(H.a,null,i.a.createElement(ye.a,{alignWith:"dropdown",htmlFor:"ipv6_ra_priority",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELDS_IPV6_RA_PRIORITY"})}),i.a.createElement(K.a,{column:!0},i.a.createElement($.Field,{full:!0,name:"ipv6_ra_priority",options:Xe,type:"dropdown",translateOptions:!0}))),!t&&i.a.createElement(i.a.Fragment,null,i.a.createElement(H.a,null,i.a.createElement(ye.a,{alignWith:"input",htmlFor:"ipv6_ra_valid_lifetime",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELDS_IPV6_RA_VALID_LIFETIME"})}),i.a.createElement(K.a,{column:!0},i.a.createElement($.Field,{full:!0,name:"ipv6_ra_valid_lifetime",placeholder:"SETTINGS_NETWORKS_FORM_FIELDS_IPV6_RA_VALID_LIFETIME"}))),i.a.createElement(H.a,null,i.a.createElement(ye.a,{alignWith:"input",htmlFor:"ipv6_ra_preferred_lifetime",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELDS_IPV6_RA_PREFERRED_LIFETIME"})}),i.a.createElement(K.a,{column:!0},i.a.createElement($.Field,{full:!0,name:"ipv6_ra_preferred_lifetime",placeholder:"SETTINGS_NETWORKS_FORM_FIELDS_IPV6_RA_PREFERRED_LIFETIME"})))))),dt=()=>i.a.createElement(H.a,null,i.a.createElement(ye.a,{alignWith:"dropdown",htmlFor:"dhcpdv6_dns_auto",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELDS_DHCP_DNS_CONTROL"})}),i.a.createElement(K.a,{column:!0},i.a.createElement($.Field,{full:!0,name:"dhcpdv6_dns_auto",options:Ye,type:"dropdown",translateOptions:!0}))),pt=Object(T.f)(({intl:e})=>i.a.createElement(i.a.Fragment,null,Object(we.a)(4,t=>i.a.createElement(H.a,{key:t},i.a.createElement(ye.a,{alignWith:"input",htmlFor:"dhcpdv6_dns_"+(t+1),label:0===t?i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELDS_DHCP_V6_NAME_SERVER"}):null}),i.a.createElement(K.a,{column:!0},i.a.createElement($.Field,{full:!0,name:"dhcpdv6_dns_"+(t+1),placeholder:e.formatMessage({id:"SETTINGS_NETWORKS_FORM_FIELD_DNS_SERVER"},{number:t+1})}))))));var mt,ut=()=>{const e=Object(E.useSelector)(F.m),t=Object(E.useSelector)(h.selectWanInterfaceOptions),{values:a,setFieldValue:n,validateForm:l,submitCount:r,errors:c,touched:_}=Object(y.e)(),o=a.ipv6_subnet&&!Object(He.c)("ipv6_subnet",c,_,r),{ipCount:d}=o&&Object(rt.c)(a.ipv6_subnet)||{ipCount:0},p=!!a.dhcpdv6_enabled,m=!o,u=d>s.networkDefaults.MAX_DHCPV6_LEASES;return i.a.createElement(i.a.Fragment,null,i.a.createElement(H.a,null,i.a.createElement(Me.SearchableGridLabel,{searchIsApplicable:"isLan",alignWith:"dropdown",htmlFor:"ipv6_interface_type",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_IPV6_INTERFACE_TYPE"})}),i.a.createElement(K.a,{column:!0},i.a.createElement($.Field,{full:!0,name:"ipv6_interface_type",options:ze,type:"dropdown",translateOptions:!0}))),a.ipv6_interface_type===s.IPV6_INTERFACE_TYPES.PD&&i.a.createElement(i.a.Fragment,null,!e&&i.a.createElement(i.a.Fragment,null,i.a.createElement(H.a,null,i.a.createElement(ye.a,{alignWith:"input",htmlFor:"ipv6_pd_prefixid",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELDS_IPV6_PD_PREFIX_ID"})}),i.a.createElement(K.a,{column:!0},i.a.createElement($.Field,{full:!0,name:"ipv6_pd_prefixid",placeholder:"SETTINGS_NETWORKS_FORM_FIELDS_IPV6_PD_PREFIX_ID"}))),i.a.createElement(H.a,null,i.a.createElement(ye.a,{alignWith:"dropdown",htmlFor:"ipv6_pd_interface",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELDS_IPV6_PREFIX_DELEGATION_INTERFACE"})}),i.a.createElement(K.a,{column:!0},i.a.createElement($.Field,{full:!0,name:"ipv6_pd_interface",options:t,type:"dropdown"})))),i.a.createElement(st,{ipv6_ra_enabled:a.ipv6_ra_enabled,isUdm:e}),e&&i.a.createElement(H.a,null,i.a.createElement(ye.a,{alignWith:"input",htmlFor:"ipv6_pd_start",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELDS_DHCP_V6_RANGE"})}),i.a.createElement(K.a,{column:!0},i.a.createElement(Ue.g,{width:"100%"},i.a.createElement(_t,{flexDirection:"column",flex:"1 1 50%"},i.a.createElement($.Field,{name:"ipv6_pd_start",label:"SETTINGS_NETWORKS_FORM_FIELD_LABEL_DHCP_RANGE_START",full:!0})),i.a.createElement(Ue.g,{flexDirection:"column",flex:"1 1 50%"},i.a.createElement($.Field,{name:"ipv6_pd_stop",label:"SETTINGS_NETWORKS_FORM_FIELD_LABEL_DHCP_RANGE_STOP",full:!0}))))),i.a.createElement(dt,null),i.a.createElement(pt,null)),a.ipv6_interface_type===s.IPV6_INTERFACE_TYPES.STATIC&&i.a.createElement(i.a.Fragment,null,i.a.createElement(H.a,null,i.a.createElement(ye.a,{alignWith:"input",htmlFor:"ipv6_subnet",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELDS_IPV6_GATEWAY_SUBNET"})}),i.a.createElement(K.a,{column:!0},i.a.createElement($.Field,{full:!0,name:"ipv6_subnet",placeholder:"SETTINGS_NETWORKS_FORM_FIELDS_IPV6_GATEWAY_SUBNET"}))),i.a.createElement(st,{ipv6_ra_enabled:a.ipv6_ra_enabled,isUdm:e}),i.a.createElement(H.a,null,i.a.createElement(ye.a,{alignWith:"toggleSmall",htmlFor:"dhcpdv6_enabled",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELDS_DHCP_V6"})}),i.a.createElement(K.a,{column:!0},i.a.createElement($.Field,{name:"dhcpdv6_enabled",type:"checkbox"}))),p&&i.a.createElement(H.a,null,i.a.createElement(ye.a,{alignWith:"input",htmlFor:"dhcpdv6_start",label:i.a.createElement(Ue.g,null,i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELDS_DHCP_V6_RANGE"}),u&&i.a.createElement(ot,{message:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELDS_LIMIT_DHCP_V6_LEASE_RANGE",values:{limit:s.networkDefaults.MAX_DHCP_LEASES}}),position:"bottom",width:140},i.a.createElement(Ge.a,{color:ct.n.warning})))}),i.a.createElement(K.a,{column:!0},i.a.createElement(Ue.g,{width:"100%"},i.a.createElement(_t,{flexDirection:"column",flex:"1 1 50%"},i.a.createElement($.Field,{name:"dhcpdv6_start",full:!0,label:"SETTINGS_NETWORKS_FORM_FIELD_LABEL_DHCP_RANGE_START"})),i.a.createElement(Ue.g,{flexDirection:"column",flex:"1 1 50%"},i.a.createElement($.Field,{name:"dhcpdv6_stop",full:!0,label:"SETTINGS_NETWORKS_FORM_FIELD_LABEL_DHCP_RANGE_STOP"}))),i.a.createElement(Et,{width:"100%",justifyContent:"flex-end"},i.a.createElement(Ue.c,{name:"auto-configure-dhcpV6-range",variant:"link",type:"button",className:it.b,legacy:!1,onClick:()=>{const{start:e,stop:t}=Object(Pe.d)(a.ipv6_subnet);e&&t&&(n("dhcpdv6_start",e),n("dhcpdv6_stop",t),setTimeout(l))},disabled:m},i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_BUTTON_DHCP_RANGE_CONFIGURE"}))))),a.dhcpdv6_enabled&&i.a.createElement(H.a,null,i.a.createElement(ye.a,{alignWith:"input",htmlFor:"dhcpdv6_leasetime",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELDS_DHCP_V6_LEASETIME"})}),i.a.createElement(K.a,{column:!0},i.a.createElement($.Field,{full:!0,type:"number",name:"dhcpdv6_leasetime",label:"COMMON_UNIT_SECONDS"}))),i.a.createElement(dt,null),i.a.createElement(pt,null)))},St=a(130),Tt=a(1937),Ot=a(189);!function(e){e.CUSTOMIZED="customized",e.AZURE_DYNAMIC="azure_dynamic",e.AZURE_STATIC="azure_static"}(mt||(mt={}));const Nt=!1,bt=!0,It=[{label:"SETTINGS_VPN_CREATE_ADVANCED_VALUE_L2TP_SERVER",value:s.ServerVpnType.L2TP_SERVER},{label:"SETTINGS_VPN_CREATE_ADVANCED_VALUE_PPTP_SERVER",value:s.ServerVpnType.PPTP_SERVER}],ht=[{value:s.SiteToSiteVpnType.AUTO_IPSEC_VTI,label:"SETTINGS_VPN_UNIFI_TO_UNIFI_CREATE_VALUE_AUTO_IPSEC_VTI"},{value:s.SiteToSiteVpnType.MANUAL_IPSEC,label:"SETTINGS_VPN_UNIFI_TO_UNIFI_CREATE_VALUE_MANUAL_IPSEC"},{value:s.SiteToSiteVpnType.OPEN_VPN,label:"SETTINGS_VPN_UNIFI_TO_UNIFI_CREATE_VALUE_OPEN_VPN"}],Rt=[{value:s.ClientVpnType.PPTP_CLIENT,label:"SETTINGS_VPN_CLIENT_CREATE_VALUE_PPTP_CLIENT"}],At=[{value:mt.CUSTOMIZED,label:"SETTINGS_VPN_UNIFI_TO_UNIFI_CREATE_VALUE_PROFILE_CUSTOMIZED"},{value:mt.AZURE_DYNAMIC,label:"SETTINGS_VPN_UNIFI_TO_UNIFI_CREATE_VALUE_PROFILE_AZURE_DYNAMIC_ROUTING"},{value:mt.AZURE_STATIC,label:"SETTINGS_VPN_UNIFI_TO_UNIFI_CREATE_VALUE_PROFILE_AZURE_STATIC_ROUTING"}],gt=[{label:"SETTINGS_VPN_CREATE_ADVANCED_VALUE_AUTO",value:String(Nt)},{label:"SETTINGS_VPN_CREATE_ADVANCED_VALUE_MANUAL",value:String(bt)}],Dt=[{label:"IKEv1",value:"ikev1"},{label:"IKEv2",value:"ikev2"}],Pt=[{value:"aes128",label:"AES-128"},{value:"aes256",label:"AES-256"},{value:"3des",label:"3DES"}],Ft=[{value:"aes128",label:"AES-128"},{value:"aes192",label:"AES-192"},{value:"aes256",label:"AES-256"},{value:"3des",label:"3DES"}],vt=[{value:"sha1",label:"SHA1"},{value:"md5",label:"MD5"}],Lt=[{value:"sha1",label:"SHA1"},{value:"sha256",label:"SHA256"},{value:"sha384",label:"SHA384"},{value:"sha512",label:"SHA512"},{value:"md5",label:"MD5"}],ft=e=>({label:String(e),value:e}),Ct=[2,5,14,15,16,19,20,21,25,26].map(ft),Mt=[1,2,5,14,15,16,17,18].map(ft),wt=[1,2,5,14,15,16,17,18,19,20,21,22,23,24,25,26,27,28,29,30,31,32].map(ft);var Gt;!function(e){e.CREATE_DHCP_OPTION="createDhcpOption",e.CREATE_RADIUS_USER="createRadiusUser",e.VPN_SETUP="vpnSetup"}(Gt||(Gt={}));const yt=Object(S.c)("div")`
  width: 100%;

  table {
    th {
      height: 30px !important;
    }
    td {
      padding-right: 0 !important;
    }
  }
`,jt=Object(S.c)("div",{shouldForwardProp:e=>"noTable"!==e})`
  margin-top: ${({theme:e,noTable:t})=>t?"10px":e.spacing["spacing-xxxl"]};
`;var Wt=Object(T.f)(({intl:e})=>{const t=Object(E.useDispatch)(),a=Object(_.k)(),l=Object(E.useSelector)(j.selectDhcpOptionsData),{networkId:r}=Object(_.m)(),o=Object(m.i)(`networks/form/${r||0}/${Gt.CREATE_DHCP_OPTION}`),{values:s,setValues:d}=Object(y.e)(),p=ne(e,n.VIEW,s),u=le(l,s),S=Object(c.useCallback)(e=>{t(Object(G.b)({name:e.name,onConfirm:()=>{const t=Object(M.c)(s,Z(e));d(t,!1)}}))},[t,s,d]),O=Object(c.useMemo)(()=>{const e=Object(de.a)(s,(e,t)=>Object(pe.a)(t,j.DHCP_USER_OPTION_PREFIX));let t="";return Object.entries(e).forEach(([e,a])=>{t=`${t}_${e}_${Object(St.a)(a)}`}),t},[s]);return i.a.createElement(yt,null,u.length>0&&i.a.createElement(U.a,{key:O,columns:p,disableColumnFilters:!0,items:u,idField:"_id",renderRowPopoverContent:e=>i.a.createElement(Tt.h,null,i.a.createElement(Tt.f,{onClick:()=>S(e),name:"dhcp-option-remove"},i.a.createElement(T.c,{id:"COMMON_ACTION_REMOVE"}))),rowHeight:30,disableSelection:!0,disableTextPointer:!0}),i.a.createElement(jt,{noTable:!u.length},i.a.createElement(Ot.c,{name:"dhcp-option-add",variant:"inline",legacy:!1,type:"button",onClick:()=>a.push(o),Icon:i.a.createElement(Ge.wb,null)},i.a.createElement(B.a,{alignItems:"center"},i.a.createElement(T.c,{id:"SETTINGS_NETWORK_DHCP_OPTION_ADD"})))))}),Vt=a(33);const xt=(e=Vt.b.NONE)=>{switch(e){case Vt.b.NONE:return{dhcpd_enabled:!1,dhcp_relay_enabled:!1};case Vt.b.ENABLED:return{dhcpd_enabled:!0,dhcp_relay_enabled:!1};case Vt.b.RELAY:return{dhcpd_enabled:!1,dhcp_relay_enabled:!0};default:return{dhcpd_enabled:!1,dhcp_relay_enabled:!1}}};var Ut=a(800);const kt=Object(S.c)(Ue.g)`
  opacity: 0.4;
  pointer-events: none;
  user-select: none;
`;var Kt=()=>{const{values:e,setFieldValue:t,setFieldTouched:a}=Object(y.e)(),n=Object(E.useSelector)(Ut.I),l=Object(E.useSelector)(s.selectNetworksData),{wan_ip:r,wan_ip_aliases:_=[],name:o,wan_type:d}=Object(c.useMemo)(()=>l.find(({wan_networkgroup:e})=>e===fe.a.WAN)||{wan_ip:void 0,wan_ip_aliases:[],name:void 0},[l]),{wan_ip:p,wan_ip_aliases:m=[],name:u,wan_type:S}=Object(c.useMemo)(()=>l.find(({wan_networkgroup:e})=>e===fe.a.WAN2)||{wan_ip:void 0,wan_ip_aliases:[],name:void 0},[l]),O=Object(c.useMemo)(()=>r?[{label:r,value:r},..._.map(e=>{const{ip:t}=Object(Qe.j)(e);return{label:t,value:t}})]:[],[r,_]),N=Object(c.useMemo)(()=>p?[{label:p,value:p},...m.map(e=>{const{ip:t}=Object(Qe.j)(e);return{label:t,value:t}})]:[],[p,m]),b=Object(c.useMemo)(()=>l.reduce((e,t)=>{var a;return[fe.a.WAN,fe.a.WAN2].includes(null==t?void 0:t.wan_networkgroup)&&[s.IpV4ConnectionType.STATIC,s.IpV4ConnectionType.PPPOE].includes(null==t?void 0:t.wan_type)&&(null===(a=t.wan_ip_aliases)||void 0===a?void 0:a.length)?[...e,t.wan_networkgroup]:e},[]),[l]),I=Object(c.useMemo)(()=>{var t,a;return null===(a=null===(t=e.nat_outbound_ip_addresses)||void 0===t?void 0:t.find(e=>e.wan_network_group===fe.a.WAN))||void 0===a?void 0:a.ip_address},[e.nat_outbound_ip_addresses]),h=Object(c.useMemo)(()=>{var t,a;return null===(a=null===(t=e.nat_outbound_ip_addresses)||void 0===t?void 0:t.find(e=>e.wan_network_group===fe.a.WAN2))||void 0===a?void 0:a.ip_address},[e.nat_outbound_ip_addresses]),R=Object(c.useCallback)((n,l)=>{var r;t("nat_outbound_ip_addresses",null===(r=e.nat_outbound_ip_addresses)||void 0===r?void 0:r.map(e=>e.wan_network_group===n?{wan_network_group:n,ip_address:l}:e)),a("nat_outbound_ip_addresses")},[a,t,e.nat_outbound_ip_addresses]),A=Object(c.useCallback)((e,t,a)=>i.a.createElement(qe.a,{message:a?i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELDS_INTERNET_SOURCE_IP_TOOLTIP_IS_DHCP"}):i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELDS_INTERNET_SOURCE_IP_TOOLTIP_NO_ADDITIONAL_IPS"}),position:"bottom",width:a?140:235},i.a.createElement(kt,{flexDirection:"column"},i.a.createElement(k.a,null,i.a.createElement(je.a,{size:"label",color:"tertiary"},e)),i.a.createElement(je.a,null,a?i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELDS_INTERNET_SOURCE_IP_TOOLTIP_DHCP"}):t))),[]);return b.length&&n?i.a.createElement(H.a,null,i.a.createElement(ye.a,{alignWith:_.length?"dropdown":15,htmlFor:"sourceIpWan1",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELDS_INTERNET_SOURCE_IP"})}),i.a.createElement(K.a,{column:!!_.length||!!m.length},b.includes(fe.a.WAN)?i.a.createElement($.Field,{full:!0,name:"sourceIpWan1",label:o,value:I,options:O,type:"dropdown",onChange:(e,t)=>R(fe.a.WAN,t)}):A(o,I,d===s.IpV4ConnectionType.DHCP),p&&i.a.createElement(Ue.g,Object.assign({width:"100%"},(!!_.length||!!m.length)&&{paddingTop:20},b.includes(fe.a.WAN)&&!m.length&&{paddingLeft:25}),b.includes(fe.a.WAN2)?i.a.createElement($.Field,{full:!0,name:"sourceIpWan2",label:u,value:h,options:N,type:"dropdown",onChange:(e,t)=>R(fe.a.WAN2,t)}):A(u,h,S===s.IpV4ConnectionType.DHCP)))):null};const Ht=Object(S.c)(Ue.g)`
  margin-top: ${({theme:e})=>e.spacing["spacing-l"]};

  > button {
    display: flex;
    align-items: center;
  }
`,Bt=Object(S.c)("div")`
  margin-left: ${({theme:e})=>e.spacing["spacing-s"]};
  padding-top: ${({theme:e})=>e.spacing["spacing-xxs"]};
`;var $t=({hiddenId:e})=>{const{values:t,initialValues:a,setFieldValue:n,errors:l,touched:r,submitCount:_}=Object(y.e)(),o=Object(E.useSelector)(p.selectSubnetSuggestions),d=Object(E.useSelector)(R.d),u=Object(E.useSelector)(h.selectSiteGatewayForNetwork),S=Object(m.i)("advanced/gateway/dhcp/form",!0),O=Object(E.useSelector)(s.selectNetworksData),N=Object(c.useCallback)(()=>{const e=o.find(({mask:e})=>24===e);if(null==e?void 0:e.gateways.length){const t=Object(Ke.a)(e.gateways);n("ip_subnet",`${t}/${e.mask}`)}},[o,n]),b=Object(c.useMemo)(()=>{if(Object(h.isUdm)(u)||!u||!Object(xe.g)(u))return[];return(u&&Object(Ve.a)(u)).map(e=>({label:e,value:e}))},[u]);Object(c.useEffect)(()=>{const{dhcpd_enabled:e,dhcp_relay_enabled:a}=xt(t.dhcp_mode);n("dhcpd_enabled",e),n("dhcp_relay_enabled",a)},[t.dhcp_mode,n]);const A=Object(c.useMemo)(()=>!!Object(He.c)("ip_subnet",l,r,_)&&Object(Pe.a)(O,t.ip_subnet,l.ip_subnet,a.ip_subnet),[l,a.ip_subnet,O,_,r,t.ip_subnet]);return i.a.createElement(i.a.Fragment,null,i.a.createElement(H.a,null,i.a.createElement(Me.SearchableGridLabel,{searchIsApplicable:"isLan",alignWith:"input",htmlFor:"vlan",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_VLAN_ID"}),description:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_VLAN_ID_DESCRIPTION"})}),i.a.createElement(K.a,{column:!0},i.a.createElement($.Field,{disabled:!!e,type:"number",full:!0,min:I.a.MIN_VLAN,max:Object(h.isUdm)(u)?I.a.MAX_VLAN_UDM:I.a.MAX_VLAN,name:"vlan",placeholder:"SETTINGS_NETWORKS_FORM_FIELD_VLAN_ID"}))),i.a.createElement(H.a,null,i.a.createElement(Me.SearchableGridLabel,{searchIsApplicable:"isLan",alignWith:"input",htmlFor:"domain_name",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_DOMAIN_NAME"}),description:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_DOMAIN_NAME_DESCRIPTION"})}),i.a.createElement(K.a,{column:!0},i.a.createElement($.Field,{full:!0,name:"domain_name",placeholder:"SETTINGS_NETWORKS_FORM_FIELD_DOMAIN_NAME_PLACEHOLDER"}))),b.length>0&&i.a.createElement(H.a,null,i.a.createElement(ye.a,{alignWith:"dropdown",htmlFor:"networkgroup",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_NETWORK_GROUP"}),description:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_NETWORK_GROUP_DESCRIPTION"})}),i.a.createElement(K.a,{column:!0},i.a.createElement($.Field,{full:!0,name:"networkgroup",options:b,type:"dropdown",disabled:!!e}))),i.a.createElement(H.a,{disabled:!!a.vpn_type},i.a.createElement(Me.SearchableGridLabel,{searchIsApplicable:"isLan",alignWith:"toggleSmall",htmlFor:"guestIsolation",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_DEVICE_ISOLATION"}),description:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_DEVICE_ISOLATION_DESCRIPTION"})}),i.a.createElement(K.a,null,i.a.createElement($.Field,{name:"guestIsolation",type:"checkbox",disabled:!!a.vpn_type,value:t.purpose===s.NetworkPurpose.GUEST,onChange:e=>n("purpose",e.target.checked?s.NetworkPurpose.GUEST:s.NetworkPurpose.CORPORATE)}))),i.a.createElement(H.a,null,i.a.createElement(Me.SearchableGridLabel,{searchIsApplicable:"isLan",alignWith:"toggleSmall",htmlFor:"igmp_snooping",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_IGMP_SNOOPING"}),description:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_IGMP_SNOOPING_DESCRIPTION"})}),i.a.createElement(K.a,{column:!0},i.a.createElement($.Field,{name:"igmp_snooping",type:"checkbox"}))),i.a.createElement(H.a,null,i.a.createElement(Me.SearchableGridLabel,{searchIsApplicable:"isLan",alignWith:"toggleSmall",htmlFor:"auto_scale_enabled",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_AUTO_SCALE_NETWORK"}),description:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_AUTO_SCALE_NETWORK_DESCRIPTION"})}),i.a.createElement(K.a,{column:!0},i.a.createElement($.Field,{name:"auto_scale_enabled",type:"checkbox"}))),i.a.createElement(H.a,null,i.a.createElement(Me.SearchableGridLabel,{searchIsApplicable:"isLan",alignWith:"dropdown",htmlFor:"dhcp_mode",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_DHCP_MODE"})}),i.a.createElement(K.a,{column:!0},i.a.createElement($.Field,{full:!0,name:"dhcp_mode",options:Be,type:"dropdown",translateOptions:!0}),i.a.createElement(ke.a,{in:t.dhcp_mode===s.DhcpRelayMode.RELAY,wrap:!0,padding:"15px 0 0"},i.a.createElement(Ue.g,null,i.a.createElement(Ge.W,{isActive:!0}),i.a.createElement(Bt,null,i.a.createElement(T.b,{id:"SETTINGS_NETWORKS_FORM_DHCP_RELAY_INFO",values:{link:S}})))))),i.a.createElement(ke.a,{in:!t.auto_scale_enabled},i.a.createElement(H.a,null,i.a.createElement(Me.SearchableGridLabel,{searchIsApplicable:"isLan",alignWith:"input",htmlFor:"ip_subnet",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_GATEWAY_IP_SUBNET"})}),i.a.createElement(K.a,{column:!0},i.a.createElement($.Field,{name:"ip_subnet",full:!0,label:"SETTINGS_NETWORKS_FORM_FIELD_ENTER_GATEWAY_IP_SUBNET",invalid:!!A}),i.a.createElement(Ht,{width:"100%",justifyContent:"flex-end"},i.a.createElement(Ue.c,{name:"auto-configure-ip-subnet",variant:"inline",type:"button",legacy:!1,onClick:N,Icon:Ge.Hb},i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_BUTTON_DHCP_RANGE_CONFIGURE"}))),i.a.createElement(ke.a,{wrap:!0,padding:"10px 0 0 0",in:!!A},i.a.createElement(je.a,{color:"danger"},A))))),i.a.createElement(ke.a,{in:t.dhcp_mode===s.DhcpRelayMode.ENABLED,wrap:!0,flexDirection:"column"},i.a.createElement(nt,null)),i.a.createElement(ke.a,{in:t.dhcp_mode===s.DhcpRelayMode.RELAY,wrap:!0,flexDirection:"column",padding:"0"},i.a.createElement(lt,null)),i.a.createElement(H.a,null,i.a.createElement(Me.SearchableGridLabel,{searchIsApplicable:"isLan",alignWith:"input",htmlFor:"dhcpd_unifi_controller",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_DHCP_UNIFI_CTRL"}),description:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_DHCP_UNIFI_CTRL_DESCRIPTION"})}),i.a.createElement(K.a,{column:!0},i.a.createElement($.Field,{full:!0,placeholder:"SETTINGS_NETWORKS_FORM_FIELD_DHCP_UNIFI_CTRL_PLACEHOLDER",name:"dhcpd_unifi_controller"}))),i.a.createElement(H.a,null,i.a.createElement(Me.SearchableGridLabel,{searchIsApplicable:"isLan",alignWith:"toggleSmall",htmlFor:"dhcpguard_enabled",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_DHCP_GUARDING"}),description:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_DHCP_GUARDING_DESCRIPTION"})}),i.a.createElement(K.a,{column:!0},i.a.createElement($.Field,{name:"dhcpguard_enabled",type:"checkbox"}))),i.a.createElement(ke.a,{in:t.dhcpguard_enabled},Object(we.a)(3,e=>i.a.createElement(H.a,{key:e},i.a.createElement(Me.SearchableGridLabel,{searchIsApplicable:"isLan",searchText:"SETTINGS_NETWORKS_FORM_FIELD_DHCP_GUARD_SERVER_SEARCH",alignWith:"input",htmlFor:"dhcpd_ip_"+(e+1),label:null}),i.a.createElement(K.a,{column:!0},i.a.createElement($.Field,{full:!0,name:"dhcpd_ip_"+(e+1),placeholder:"SETTINGS_NETWORKS_FORM_FIELD_DHCP_GUARD_SERVER",placeholderValues:{number:e+1}}))))),i.a.createElement(H.a,null,i.a.createElement(Me.SearchableGridLabel,{searchIsApplicable:"isLan",alignWith:"toggleSmall",htmlFor:"dhcpd_ntp_enabled",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_DHCP_NTP_SERVER"}),description:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_DHCP_NTP_SERVER_DESCRIPTION"})}),i.a.createElement(K.a,{column:!0},i.a.createElement($.Field,{name:"dhcpd_ntp_enabled",type:"checkbox"}))),i.a.createElement(ke.a,{in:t.dhcpd_ntp_enabled},Object(we.a)(2,e=>i.a.createElement(H.a,{key:e},i.a.createElement(ye.a,{alignWith:"input",htmlFor:"dhcpd_ntp_"+(e+1),label:null}),i.a.createElement(K.a,{column:!0},i.a.createElement($.Field,{full:!0,name:"dhcpd_ntp_"+(e+1),placeholder:"SETTINGS_NETWORKS_FORM_FIELD_DHCP_NTP_SERVER_ITEM",placeholderValues:{number:e+1}}))))),i.a.createElement(H.a,null,i.a.createElement(Me.SearchableGridLabel,{searchIsApplicable:"isLan",alignWith:"toggleSmall",htmlFor:"dhcpd_boot_enabled",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_DHCP_BOOT"}),description:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_DHCP_BOOT_DESCRIPTION"})}),i.a.createElement(K.a,{column:!0},i.a.createElement($.Field,{name:"dhcpd_boot_enabled",type:"checkbox"}))),i.a.createElement(ke.a,{in:t.dhcpd_boot_enabled},i.a.createElement(H.a,null,i.a.createElement(Me.SearchableGridLabel,{searchIsApplicable:"isLan",searchText:"SETTINGS_NETWORKS_FORM_FIELD_DHCP_BOOT_SERVER_SEARCH",alignWith:"input",htmlFor:"dhcpd_boot_server",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_DHCP_BOOT_SERVER"})}),i.a.createElement(K.a,{column:!0},i.a.createElement($.Field,{full:!0,name:"dhcpd_boot_server",placeholder:"SETTINGS_NETWORKS_FORM_FIELD_DHCP_BOOT_SERVER"}))),i.a.createElement(H.a,null,i.a.createElement(Me.SearchableGridLabel,{searchIsApplicable:"isLan",searchText:"SETTINGS_NETWORKS_FORM_FIELD_DHCP_BOOT_FILENAME_SEARCH",alignWith:"input",htmlFor:"dhcpd_boot_filename",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_DHCP_BOOT_FILENAME"})}),i.a.createElement(K.a,{column:!0},i.a.createElement($.Field,{full:!0,name:"dhcpd_boot_filename",placeholder:"SETTINGS_NETWORKS_FORM_FIELD_DHCP_BOOT_FILENAME"})))),i.a.createElement(H.a,null,i.a.createElement(Me.SearchableGridLabel,{searchIsApplicable:"isLan",alignWith:"toggleSmall",htmlFor:"dhcpd_time_offset_enabled",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_DHCP_TIME_OFFSET_ENABLED"}),description:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_DHCP_TIME_OFFSET_ENABLED_DESCRIPTION"})}),i.a.createElement(K.a,{column:!0},i.a.createElement($.Field,{name:"dhcpd_time_offset_enabled",type:"checkbox"}))),i.a.createElement(ke.a,{in:t.dhcpd_time_offset_enabled},i.a.createElement(H.a,null,i.a.createElement(ye.a,{alignWith:"input",htmlFor:"dhcpd_time_offset",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_DHCP_TIME_OFFSET"})}),i.a.createElement(K.a,{column:!0},i.a.createElement($.Field,{full:!0,name:"dhcpd_time_offset",label:"COMMON_UNIT_SECONDS"})))),i.a.createElement(H.a,null,i.a.createElement(Me.SearchableGridLabel,{searchIsApplicable:"isLan",alignWith:"input",htmlFor:"dhcpd_wpad_url",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_DHCP_WPAD_URL"})}),i.a.createElement(K.a,{column:!0},i.a.createElement($.Field,{full:!0,name:"dhcpd_wpad_url",placeholder:"SETTINGS_NETWORKS_FORM_FIELD_DHCP_WPAD_URL"}))),i.a.createElement(H.a,null,i.a.createElement(Me.SearchableGridLabel,{searchIsApplicable:"isLan",alignWith:"input",htmlFor:"dhcpd_tftp_server",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_DHCP_TFTP_SERVER"})}),i.a.createElement(K.a,{column:!0},i.a.createElement($.Field,{full:!0,name:"dhcpd_tftp_server",placeholder:"SETTINGS_NETWORKS_FORM_FIELD_DHCP_TFTP_SERVER"}))),i.a.createElement(H.a,null,i.a.createElement(Me.SearchableGridLabel,{searchIsApplicable:"isLan",alignWith:10,label:i.a.createElement(T.c,{id:"SETTINGS_NETWORK_DHCP_OPTION_LABEL"}),description:i.a.createElement(T.b,{id:"SETTINGS_NETWORK_DHCP_OPTION_DESCRIPTION",values:{url:We.a.dhcpOptionsGuide}})}),i.a.createElement(K.a,{column:!0},i.a.createElement(Wt,null))),i.a.createElement(ke.a,{in:d&&t.purpose===s.NetworkPurpose.GUEST},i.a.createElement(Ue.a,{preAuthKey:"allowedSubnets",postAuthKey:"restrictedSubnets"})),i.a.createElement(Kt,null),i.a.createElement(ut,null))},Yt=a(46);var zt=Object(T.f)(({intl:e})=>{const{values:t,setFieldValue:a,initialValues:n}=Object(y.e)(),{networkId:l}=Object(_.m)(),{gateway_device:r,purpose:o}=t,d=Object(E.useSelector)(h.selectAdoptedL3Switches),p=Object(E.useSelector)(h.selectSiteGatewayForNetwork),m=Object(E.useSelector)(h.selectHasAvailableUlteDevice),u=Object(c.useMemo)(()=>{const t=[];return t.push({label:p?Object(Yt.c)(p):e.formatMessage({id:"COMMON_WORD_DEFAULT"}),value:""}),d.length&&t.push(...d.map(e=>({label:Object(Yt.c)(e),value:e.mac}))),r&&!d.some(({mac:e})=>e===r)&&t.push({label:e.formatMessage({id:"COMMON_UNKNOWN"}),value:r}),t},[p,d,r,e]),S=Object(c.useMemo)(()=>[s.NetworkPurpose.REMOTE_USER_VPN,s.NetworkPurpose.SITE_VPN,s.NetworkPurpose.VPN_CLIENT].includes(o),[o]),O=Object(c.useCallback)(e=>{a("gateway_device",e.value),a("gateway_type",d.some(t=>t.mac===e.value)?s.NetworkGatewayType.switch:s.NetworkGatewayType.default)},[a,d]),N=l?u.length>1&&n.gateway_type===s.NetworkGatewayType.switch:u.length>1;return i.a.createElement(x.a,null,i.a.createElement(H.a,null,i.a.createElement(Me.SearchableGridLabel,{alignWith:"toggleSmall",htmlFor:"enabled",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_ENABLE"})}),i.a.createElement(K.a,null,i.a.createElement($.Field,{name:"enabled",type:"checkbox"}))),i.a.createElement(H.a,null,i.a.createElement(Me.SearchableGridLabel,{alignWith:"input",htmlFor:"name",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_NAME"}),searchIsApplicable:"isLanOrVpn"}),i.a.createElement(K.a,{column:!0},i.a.createElement($.Field,{full:!0,name:"name"}))),N&&i.a.createElement(H.a,null,i.a.createElement(Me.SearchableGridLabel,{alignWith:"dropdown",htmlFor:"gateway_device",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_ROUTER"}),searchIsApplicable:"isLanOrVpn,hasGatewayDevicesDropdown"}),i.a.createElement(K.a,{column:!0},i.a.createElement($.Field,{full:!0,name:"gateway_device",options:u,type:"dropdown",onChange:O}))),m&&!S&&i.a.createElement(H.a,null,i.a.createElement(Me.SearchableGridLabel,{alignWith:"toggleSmall",htmlFor:"lte_lan_enabled",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_BACKUP_INTERNET_ACCESS"}),searchIsApplicable:"isLanOrVpn"}),i.a.createElement(K.a,null,i.a.createElement($.Field,{name:"lte_lan_enabled",type:"checkbox"}))))});const Xt=Object(S.c)("label",{shouldForwardProp:e=>"isSelected"!==e})`
  outline: none;
  width: 100%;
  max-width: 420px;
  background: ${({theme:e})=>e.motifPalette.ui02};
  padding: ${({theme:e})=>e.spacing["spacing-s"]} ${({theme:e})=>e.spacing["spacing-xxl"]}
    ${({theme:e})=>e.spacing["spacing-s"]} ${({theme:e})=>e.spacing["spacing-l"]};
  margin-bottom: ${({theme:e})=>e.spacing["spacing-m"]};
  display: flex;
  align-items: center;
  cursor: pointer;

  border-radius: 4px;
  border: 1px solid transparent;
  transition: background 200ms ease;
  ${({isSelected:e,theme:t})=>e?`border-color: ${t.motifPalette.ui06};`:""}

  &:hover {
    background: ${({theme:e})=>e.motifPalette.ui04};
  }

  /* TODO remove when focus monitor is added to ui-components */
  &:focus {
    border-color: ${({theme:e})=>e.motifPalette.ui06};
  }
`,qt=Object(S.c)("input")`
  opacity: 0;
  position: absolute;
`,Zt=Object(S.c)(Ue.g)`
  margin-left: ${({theme:e})=>e.spacing["spacing-l"]};
  color: ${({theme:e})=>e.motifPalette.text03} !important;
`,Qt=Object(S.c)(Ue.g,{shouldForwardProp:e=>"imgWidth"!==e})`
  width: 66px;
  height: 60px;
  padding-right: ${({theme:e})=>e.spacing["spacing-m"]};
  border-right: 1px solid ${({theme:e})=>e.motifPalette.ui07};
  align-items: center;

  > img {
    width: ${({imgWidth:e})=>e}px;
  }
`,Jt=Object(S.c)(je.a)`
  color: ${({theme:e})=>e.motifPalette.text01} !important;
  margin-bottom: ${({theme:e})=>e.spacing["spacing-xs"]} !important;
`;var ea=({id:e,isSelected:t,key:a,value:n,icon:l,field:r,title:c,description:_,imgWidth:E,setFieldValue:o})=>i.a.createElement(Xt,{htmlFor:e,isSelected:t,key:a,tabIndex:0},i.a.createElement(qt,{type:"radio",checked:t,id:e,name:r,onChange:()=>o(r,n)}),i.a.createElement(Qt,{justifyContent:"center",imgWidth:E},l),i.a.createElement(Zt,{flexDirection:"column",flex:"1"},i.a.createElement(Jt,{weight:"bold"},i.a.createElement(T.c,{id:c})),i.a.createElement(T.c,{id:_})));var ta=()=>{const{setFieldValue:e,values:t}=Object(y.e)();return i.a.createElement(H.a,null,i.a.createElement(Me.SearchableGridLabel,{htmlFor:"content-filtering-type-"+g.DnsFilterType.NONE,label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_CONTENT_FILTERING_LABEL"}),description:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_CONTENT_FILTERING_DESCRIPTION"}),searchIsApplicable:"isUbiOs,isLan"}),i.a.createElement(K.a,{unlimitedWidth:!0},i.a.createElement(Ue.g,{justifyContent:"space-between",width:"100%",alignItems:"flex-start",flexDirection:"column"},[g.DnsFilterType.NONE,g.DnsFilterType.WORK,g.DnsFilterType.FAMILY].map(a=>{const n=(e=>{switch(e){case g.DnsFilterType.FAMILY:return i.a.createElement(Ge.ic,{width:"35",height:"38"});case g.DnsFilterType.WORK:return i.a.createElement(Ge.o,{width:"51",height:"53"});case g.DnsFilterType.NONE:default:return i.a.createElement(Ge.ob,{width:"40",height:"40"})}})(a),l="SETTINGS_NETWORKS_FORM_FIELD_CONTENT_FILTERING_"+a.toUpperCase(),r=`SETTINGS_NETWORKS_FORM_FIELD_CONTENT_FILTERING_${a.toUpperCase()}_DESCRIPTION`,c=(e=>{switch(e){case g.DnsFilterType.FAMILY:return 70;case g.DnsFilterType.WORK:return 50;case g.DnsFilterType.NONE:default:return 42}})(a);return i.a.createElement(ea,{id:"content-filtering-type-"+a,isSelected:t.contentFilter===a,key:a,field:"contentFilter",icon:n,setFieldValue:e,value:a,title:l,description:r,imgWidth:c})}))))},aa=a(63),na=a(4),la=a(97);const ra=Object(na.a)(s.selectHasVpnServerWithType,F.m,h.selectHasSiteUxg,(e,t,a)=>Object(aa.a)(n=>It.filter(({value:l})=>{switch(l){case s.ServerVpnType.L2TP_SERVER:return!e(s.ServerVpnType.L2TP_SERVER,n);case s.ServerVpnType.PPTP_SERVER:return!(e(s.ServerVpnType.PPTP_SERVER,n)||t||a);default:return!0}}))),ca=e=>Object(na.a)(P.selectSites,s.selectNetworksData,la.a,F.m,(t,a,n,l)=>{if(l)return[];const r=a.map(e=>e.remote_site_id);return t.filter(t=>{if(t.name===n)return!1;const a=e&&e.remote_site_id===t._id,l="admin"===t.role&&-1===r.indexOf(t._id);return a||l}).map(({desc:e,_id:t})=>({label:e,value:t}))}),ia=(e,t,a)=>Object(na.a)(h.selectSiteGatewayForNetwork,fe.e,(n,l)=>l.filter(({configuration:e})=>!Object(s.isUlteFailoverNetwork)(e)).map(l=>{const{configuration:{attr_hidden_id:r,wan_networkgroup:c,wan_ip:i,wan_ip_aliases:_,wan_type:E}}=l,o=r===s.NetworkHiddenId.WAN,d=o?null==n?void 0:n.wan1:null==n?void 0:n.wan2;if(E===s.IpV4ConnectionType.DHCP)return[{label:`${(null==d?void 0:d.ip)?(null==d?void 0:d.ip)+" ":""}(${o?"WAN1":"WAN2"})`,value:`${t?"any":null==d?void 0:d.ip}/${c.toLowerCase()}`}];const p=[];return(null==d?void 0:d.ip)&&p.push(d.ip),E===s.IpV4ConnectionType.STATIC&&!(null==d?void 0:d.ip)&&p.push(i),[...p,..._.map(e=>{var t;return null===(t=null==e?void 0:e.split)||void 0===t?void 0:t.call(e,"/")[0]}).filter(e=>!!e&&e!==(null==d?void 0:d.ip))].map(t=>t!==(null==d?void 0:d.ip)||E!==s.IpV4ConnectionType.PPPOE||a?{label:`${t||e.formatMessage({id:"SETTINGS_NETWORKS_FORM_FIELD_VPN_IP_AUTO_DEFINED"})} (${o?"WAN1":"WAN2"})`,value:`${t||"any"}/${c.toLowerCase()}`}:{label:`${e.formatMessage({id:"SETTINGS_NETWORKS_FORM_FIELD_VPN_IP_AUTO_DEFINED"})} (${o?"WAN1":"WAN2"})`,value:"any/"+c.toLowerCase()})}).flat().filter(e=>!!t||"any"!==String(e.value).split("/")[0]));var _a=a(1744),Ea=a(1133);const oa=Object(S.c)(Ue.g)`
  margin-top: 7px;
`,sa=Object(S.c)(Ge.d)`
  color: ${({theme:e})=>e.motifPalette.orange06};
  margin-right: 10px;
`,da=Object(S.c)(Ue.g)`
  margin-top: 10px;
`,pa=Object(S.c)(je.a)`
  margin: 0 8px;
`,ma=Object(S.c)(_a.a)`
  margin-bottom: 0px;
`;var ua=Object(T.f)(({vpnInterfaceType:e,vpnLocalWanIp:t,vpnPort:a,intl:n})=>{const{values:l,setFieldValue:r,errors:_,touched:o,submitCount:d}=Object(y.e)(),p=Object(E.useSelector)(Ut.I),u=Object(E.useSelector)(ia(n,t===s.VpnLocalWanIp.IPSEC_LOCAL_IP&&!l.ipsec_dynamic_routing||t===s.VpnLocalWanIp.L2TP_LOCAL_WAN_IP,t===s.VpnLocalWanIp.IPSEC_LOCAL_IP&&l.ipsec_dynamic_routing)),S=Object(E.useSelector)(s.selectWanNetworks),O=Object(E.useSelector)(Ut.bb),[b,I]=Object(c.useState)(!1),h=Object(c.useMemo)(()=>Object(He.c)(t,_,o,d),[_,d,o,t]),{_id:R,wan_ip:A,attr_hidden_id:g,wan_type:D}=Object(c.useMemo)(()=>S.find(({wan_networkgroup:t})=>t.toLowerCase()===l[e])||{wan_type:s.IpV4ConnectionType.DHCP},[S,l[e]]),P=Object(m.i)("internet/wan/form/"+R,!0),F=Object(c.useCallback)(a=>{const[n,l]=a.split("/");r(t,n),r(e,l)},[r,e,t]),v=Object(c.useMemo)(()=>`${l[t]}/${l[e]}`,[l,e,t]),L=Object(c.useCallback)(e=>{e.preventDefault(),I(e=>(e||"any"===l[t]&&r(t,g===s.NetworkHiddenId.WAN&&"mac"in O?O.wan1.ip:A),e&&(l[t]!==(g===s.NetworkHiddenId.WAN&&"mac"in O?O.wan1.ip:A)||(t!==s.VpnLocalWanIp.IPSEC_LOCAL_IP||l.ipsec_dynamic_routing)&&t===s.VpnLocalWanIp.IPSEC_LOCAL_IP||r(t,"any")),!e))},[]),f=D===s.IpV4ConnectionType.DHCP&&!b;return Object(c.useEffect)(()=>{!l[t].length&&u.length&&!b&&p&&r(t,String(u[0].value).split("/")[0])},[l.ipsec_dynamic_routing]),Object(c.useEffect)(()=>{p||r(t,"")},[]),p?i.a.createElement(i.a.Fragment,null,i.a.createElement(H.a,null,i.a.createElement(ye.a,{htmlFor:e,alignWith:u.length>1?"input":2,label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_VPN_PUBLIC_IP_WAN"}),description:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_VPN_PUBLIC_IP_WAN_DESCRIPTION"})}),i.a.createElement(K.a,{column:!0},i.a.createElement(Ue.g,{width:"100%",alignItems:"baseline"},i.a.createElement(Ue.g,{flexDirection:"column",flex:a?"1 1 55%":"1"},b?i.a.createElement($.Field,{name:t,full:!0,invalid:h}):i.a.createElement(Ea.a,{options:u,width:"100%",onChange:(e,t)=>F(t),label:a&&n.formatMessage({id:"SETTINGS_NETWORKS_FORM_FIELD_OPENVPN_ADDRESS_LABEL"}),value:v,invalid:h}),i.a.createElement(da,null,i.a.createElement(N.a,{variant:"inline",onClick:L},i.a.createElement(T.c,{id:b?"SETTINGS_NETWORKS_FORM_FIELD_VPN_PUBLIC_IP_WAN_BUTTON_EXISTING":"SETTINGS_NETWORKS_FORM_FIELD_VPN_PUBLIC_IP_WAN_BUTTON_MANUAL"}))),i.a.createElement(ke.a,{wrap:!0,padding:"0",in:h,unmountOnExit:!0,mountOnEnter:!0},i.a.createElement(ma,null,_[t]))),a&&i.a.createElement(i.a.Fragment,null,i.a.createElement(pa,null,"/"),i.a.createElement(Ue.g,{flexDirection:"column",flex:"1 1 35%"},i.a.createElement($.Field,{full:!0,name:"openvpn_local_port",label:"SETTINGS_NETWORKS_FORM_FIELD_OPENVPN_PORT_LABEL"})))),i.a.createElement(ke.a,{in:f,unmountOnExit:!0,mountOnEnter:!0},i.a.createElement(oa,null,i.a.createElement(sa,{width:19,height:19}),i.a.createElement(je.a,null,i.a.createElement(T.b,{id:"SETTINGS_NETWORKS_FORM_FIELD_VPN_WAN_DHCP_WARNING",values:{link:P}}))))))):i.a.createElement(H.a,null,i.a.createElement(ye.a,{htmlFor:t,alignWith:"input",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_VPN_PUBLIC_IP"})}),i.a.createElement(K.a,{column:!0},i.a.createElement($.Field,{full:!0,name:t})))}),Sa=a(218);const Ta=Object(S.c)(Ue.g)`
  margin-right: ${({theme:e})=>e.spacing["spacing-xxxxl"]};
`,Oa=Object(S.c)("div")`
  margin-top: 48px;
`,Na=Object(S.c)(Ue.g)`
  margin-top: 8px;
`,ba=Object(S.c)(qe.a)`
  white-space: normal;
  text-transform: none;
  line-height: 1;
`,Ia=Object(S.c)(Ge.W)`
  margin: -5px 0 0 5px;
`,ha=[{id:"ip",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_VPN_IP_ADDRESS_TABLE_LABEL_GATEWAY"}),minWidth:150},{id:"broadcastAddress",label:i.a.createElement(Ue.g,null,i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_VPN_IP_ADDRESS_TABLE_LABEL_BOADCAST"}),i.a.createElement(je.a,null,i.a.createElement(ba,{width:201,message:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_VPN_IP_ADDRESS_TABLE_LABEL_BOADCAST_TOOLTIP"})},i.a.createElement(Ia,{size:"original",isActive:!0})))),minWidth:150},{id:"numIps",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_VPN_IP_ADDRESS_TABLE_LABEL_IP_COUNT"}),minWidth:100},{id:"firstHostAddress",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_VPN_IP_ADDRESS_TABLE_LABEL_IP_RANGE"}),renderCell:({firstHostAddress:e,lastHostAddress:t})=>i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_VPN_IP_ADDRESS_TABLE_CELL_IP_RANGE",values:{first:e,last:t}}),minWidth:200},{id:"netmask",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_VPN_IP_ADDRESS_TABLE_LABEL_SUBNET"}),minWidth:150}];var Ra=Object(T.f)(({intl:e})=>{const{values:t,setFieldValue:a,errors:n,initialValues:l,touched:r,setTouched:_,submitCount:o}=Object(y.e)(),d=Object(E.useSelector)(h.selectHasSiteUxg),m=Object(E.useSelector)(p.selectSubnetSuggestions),u=Object(E.useSelector)(s.selectNetworksData),[S,O]=Object(c.useState)(t.ip_subnet.split("/")[0]),[b,I]=Object(c.useState)(t.ip_subnet.split("/")[1]),[R,A]=Object(c.useState)(!1),g=Object(c.useMemo)(()=>{const t=[];for(let a=29;a>=17;a--){const{start:n,stop:l}=Object(Pe.c)(`${S}/${a}`);t.push({label:e.formatMessage({id:"SETTINGS_NETWORKS_FORM_FIELD_VPN_SUBNET_OPTION"},{subnet:a,ips:Object(Qe.d)(l)-Object(Qe.d)(n)}),value:a.toString()})}return t},[S]);Object(c.useEffect)(()=>{const[e,n]=t.ip_subnet.split("/");if(S!==e||b!==n){const{start:e,stop:t}=Object(Pe.c)(`${S}/${b}`);a("dhcpd_start",e),a("dhcpd_stop",t),a("ip_subnet",`${S}/${b}`)}},[S,a,b,t.ip_subnet]);const D=Object(c.useCallback)(()=>{const e=m.find(({mask:e})=>e.toString()===b);if(null==e?void 0:e.gateways.length){const t=Object(Ke.a)(e.gateways);O(t),I(e.mask.toString())}},[m,b]),P=Object(c.useMemo)(()=>{const{broadcastAddress:e,netmask:a}=Object(Qe.l)(`${S}/${b}`);return[{ip:S,broadcastAddress:e,firstHostAddress:t.dhcpd_start,lastHostAddress:t.dhcpd_stop,numIps:Object(Qe.d)(t.dhcpd_stop)-Object(Qe.d)(t.dhcpd_start),netmask:a}]},[S,b,t.dhcpd_start,t.dhcpd_stop]),F=Object(c.useMemo)(()=>!!Object(He.c)("ip_subnet",n,r,o)&&Object(Pe.a)(u,t.ip_subnet,n.ip_subnet,l.ip_subnet),[n,l.ip_subnet,u,o,r,t.ip_subnet]),v=Object(c.useCallback)(e=>{e.preventDefault(),A(e=>!e)},[]);return i.a.createElement(Oa,null,i.a.createElement(H.a,null,i.a.createElement(Me.SearchableGridLabel,{searchIsApplicable:"isVpnServer",searchText:"SETTINGS_NETWORKS_FORM_FIELD_VPN_GATEWAY_SUBNET_SEARCH",htmlFor:"ip_subnet",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_VPN_GATEWAY_SUBNET"}),description:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_VPN_GATEWAY_SUBNET_DESCRIPTION"})}),i.a.createElement(K.a,{column:!0},i.a.createElement(Ue.g,{width:"100%"},i.a.createElement(Ta,{flexDirection:"column",flex:"1 1 35%"},i.a.createElement(Sa.a,{label:e.formatMessage({id:"SETTINGS_NETWORKS_FORM_FIELD_VPN_GATEWAY_SUBNET_IP_LABEL"}),full:!0,invalid:!!F,onChange:(e,t)=>O(t.toString()),onBlur:()=>_({ip_subnet:!0}),value:S,"data-lpignore":!0}),i.a.createElement(Na,null,i.a.createElement(N.a,{variant:"inline",onClick:v},i.a.createElement(T.c,{id:R?"SETTINGS_NETWORKS_FORM_FIELD_VPN_HIDE_IP_ADDRESS_TABLE_BUTTON":"SETTINGS_NETWORKS_FORM_FIELD_VPN_SHOW_IP_ADDRESS_TABLE_BUTTON"})))),i.a.createElement(Ue.g,{flexDirection:"column",flex:"1 1 65%"},i.a.createElement(Ea.a,{label:i.a.createElement(Ue.g,null,i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_VPN_GATEWAY_SUBNET_SUBNET_LABEL"}),i.a.createElement(qe.a,{width:201,message:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_VPN_GATEWAY_SUBNET_SUBNET_LABEL_TOOLTIP"})},i.a.createElement(Ia,{size:"original",isActive:!0}))),width:"100%",options:g,value:b,onChange:(e,t)=>{I(t.toString()),_({ip_subnet:!0})}}),i.a.createElement(Na,{justifyContent:"flex-end"},i.a.createElement(N.a,{variant:"inline",type:"button",onClick:D,Icon:Ge.Hb},i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_VPN_AUTO_GENERATE_BUTTON"}))))),i.a.createElement(ke.a,{wrap:!0,padding:"16px 0 0 0",in:!!F},i.a.createElement(je.a,{color:"danger"},F)))),i.a.createElement(ke.a,{wrap:!0,in:R,mountOnEnter:!0,unmountOnExit:!0},i.a.createElement(U.a,{items:P,columns:ha,idField:"ip",disableColumnFilters:!0,disableSelection:!0,disableHover:!0,disableSort:!0})),i.a.createElement(H.a,null,i.a.createElement(Me.SearchableGridLabel,{searchIsApplicable:"isVpnServer",searchText:"SETTINGS_NETWORKS_FORM_FIELD_VPN_NAME_SERVER_SEARCH",alignWith:"dropdown",htmlFor:"dhcpd_dns_enabled",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_VPN_NAME_SERVER"})}),i.a.createElement(K.a,{column:!0},i.a.createElement($.Field,{full:!0,name:"dhcpd_dns_enabled",value:String(t.dhcpd_dns_enabled),options:gt,type:"dropdown",translateOptions:!0,onChange:(e,t)=>{a("dhcpd_dns_enabled","true"===t)}}))),i.a.createElement(ke.a,{in:t.dhcpd_dns_enabled===bt},i.a.createElement(H.a,null,i.a.createElement(ye.a,{alignWith:"input",htmlFor:"dhcpd_dns_1",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_VPN_NAME_SERVER_NUMBER",values:{number:1}})}),i.a.createElement(K.a,{column:!0},i.a.createElement($.Field,{full:!0,name:"dhcpd_dns_1"}))),i.a.createElement(H.a,null,i.a.createElement(ye.a,{alignWith:"input",htmlFor:"dhcpd_dns_2",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_VPN_NAME_SERVER_NUMBER",values:{number:2}})}),i.a.createElement(K.a,{column:!0},i.a.createElement($.Field,{full:!0,name:"dhcpd_dns_2"})))),!d&&i.a.createElement(H.a,null,i.a.createElement(Me.SearchableGridLabel,{searchIsApplicable:"isVpnServer",alignWith:"toggleSmall",htmlFor:"dhcpd_wins_enabled",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_VPN_WINS_SERVER"}),description:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_VPN_WINS_SERVER_DESCRIPTION"})}),i.a.createElement(K.a,null,i.a.createElement($.Field,{name:"dhcpd_wins_enabled",type:"checkbox"}))),i.a.createElement(ke.a,{in:t.dhcpd_wins_enabled===bt},i.a.createElement(H.a,null,i.a.createElement(ye.a,{alignWith:"input",htmlFor:"dhcpd_wins_1",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_VPN_WINS_SERVER_NUMBER",values:{number:1}})}),i.a.createElement(K.a,{column:!0},i.a.createElement($.Field,{full:!0,name:"dhcpd_wins_1"}))),i.a.createElement(H.a,null,i.a.createElement(ye.a,{alignWith:"input",htmlFor:"dhcpd_wins_2",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_VPN_WINS_SERVER_NUMBER",values:{number:2}})}),i.a.createElement(K.a,{column:!0},i.a.createElement($.Field,{full:!0,name:"dhcpd_wins_2"})))),!d&&i.a.createElement(H.a,null,i.a.createElement(Me.SearchableGridLabel,{searchIsApplicable:"isVpnServer",searchText:"SETTINGS_NETWORKS_FORM_FIELD_VPN_SITE_TO_SITE_VPN_DESCRIPTION",alignWith:"toggleSmall",htmlFor:"exposed_to_site_vpn",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_VPN_SITE_TO_SITE_VPN"}),description:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_VPN_SITE_TO_SITE_VPN_DESCRIPTION"})}),i.a.createElement(K.a,null,i.a.createElement($.Field,{name:"exposed_to_site_vpn",type:"checkbox"}))),i.a.createElement(H.a,null,i.a.createElement(Me.SearchableGridLabel,{searchIsApplicable:"isVpnServer",searchText:"SETTINGS_NETWORKS_FORM_FIELD_MSCHAP_DESCRIPTION",alignWith:"toggleSmall",htmlFor:"require_mschapv2",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_MSCHAP"}),description:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_MSCHAP_DESCRIPTION"})}),i.a.createElement(K.a,null,i.a.createElement($.Field,{name:"require_mschapv2",type:"checkbox"}))))}),Aa=a(2211);const ga=Object(S.c)("div")`
  margin-bottom: 5px;
`,Da=Object(S.c)("div")`
  margin: 0 10px;
  cursor: pointer;
`,Pa=[{id:"name",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_RADIUS_USER_LIST_ACCOUNT_NAME"}),sortable:!0,minWidth:160},{id:"x_password",label:i.a.createElement(T.c,{id:"COMMON_LABEL_PASSWORD"}),renderCell:({_id:e,x_password:t,isPasswordShown:a,togglePassword:n})=>i.a.createElement(Ue.g,{justifyContent:"space-between",alignItems:"center",width:"100%"},i.a.createElement(je.a,{truncate:!0},t),i.a.createElement(Da,null,a?i.a.createElement(Ge.J,{onClick:t=>n(e,t)}):i.a.createElement(Ge.I,{onClick:t=>n(e,t)}))),minWidth:180}];var Fa=()=>{const{values:{vpn_type:e,vpnSetup:t,networkRADIUSUsers:a=[]}}=Object(y.e)(),n=Object(E.useSelector)(o.selectAccounts).filter(({tunnel_type:t,networkconf_id:a})=>e===s.ServerVpnType.PPTP_SERVER?t===o.TUNNEL_TYPES.PTPP:e===s.ServerVpnType.L2TP_SERVER&&(t===o.TUNNEL_TYPES.L2TP&&!a)),l=t===ge.SIMPLE?a:n,r=Object(_.k)(),[d,p]=Object(c.useState)([]),{networkId:u}=Object(_.m)(),S=Object(m.i)(`networks/form/${u||0}/${Gt.CREATE_RADIUS_USER}`),O=Object(c.useCallback)((e,t)=>{var a,n;null===(a=null==t?void 0:t.preventDefault)||void 0===a||a.call(t),null===(n=null==t?void 0:t.stopPropagation)||void 0===n||n.call(t),d.includes(e)?p(d.filter(t=>t!==e)):p([...d,e])},[d]),b=Object(c.useMemo)(()=>l.map(e=>{const t=d.includes(e._id);return{...e,x_password:t?e.x_password:"".repeat(e.x_password.length),isPasswordShown:t,togglePassword:O}}),[l,O,d]),I=Object(c.useCallback)(e=>{e.preventDefault(),r.push(S)},[r,S]),h=Object(c.useCallback)(e=>{r.push(`${S}/${e._id}`)},[r,S]);return i.a.createElement(H.a,null,i.a.createElement(Me.SearchableGridLabel,{searchIsApplicable:"isVpnServer",alignWith:"input",htmlFor:"radiusProfileUsers",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_RADIUS_USER_LIST"}),description:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_RADIUS_USER_LIST_DESCRIPTION"})}),i.a.createElement(K.a,{column:!0},!!b.length&&i.a.createElement(ga,null,i.a.createElement(Aa.a,{items:b,columns:Pa,idField:"name",disableColumnFilters:!0,onRowClick:h})),i.a.createElement(N.a,{name:"createRADIUSUser",variant:"inline",onClick:I,Icon:i.a.createElement(Ge.wb,{isActive:!0})},i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_RADIUS_USER_CREATE_NEW"}))))};const va=Object(S.c)(Ue.g)`
  margin-top: 5px;
`,La=Object(S.c)(je.a)`
  border-bottom: 1px solid ${({theme:e})=>e.motifPalette.ui07};
  padding-bottom: 12px;
  margin-bottom: 34px;
`,fa=Object(S.c)(Ue.g)`
  margin-bottom: 32px;
`,Ca=Object(S.c)(Ge.W)`
  margin-right: 9px;
`;var Ma=()=>{var e;const{values:t,setFieldValue:a}=Object(y.e)(),n=Object(E.useSelector)(ra)(null==t?void 0:t._id),l=Object(E.useSelector)(g.selectRadiusSettings),r=Object(E.useSelector)(A.selectRadiusProfiles),_=Object(E.useSelector)(A.selectDefaultRadiusId),o=Object(m.i)("advanced/radius/profile/form/",!0),d=Object(E.useSelector)(h.selectIsUbiOS),p=t.radiusprofile_id===_,u=Object(c.useMemo)(()=>r.map(({_id:e,name:t})=>({label:t,value:e})),[r]);Object(c.useEffect)(()=>{n[0]&&!n.some(({value:e})=>e===t.vpn_type)&&a("vpn_type",n[0]&&n[0].value)},[]);const S=Object(c.useMemo)(()=>[{id:"advanced-options",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_ADVANCED_LABEL"}),renderContent:()=>i.a.createElement(Ra,null)}],[]);return i.a.createElement(i.a.Fragment,null,i.a.createElement(H.a,{disabled:!!(null==t?void 0:t._id)},i.a.createElement(Me.SearchableGridLabel,{searchIsApplicable:"isVpnServer",alignWith:"dropdown",htmlFor:"vpn_type",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_VPN_PROTOCOL"}),description:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_VPN_PROTOCOL_DESCRIPTION"})}),i.a.createElement(K.a,{column:!0},i.a.createElement($.Field,{full:!0,name:"vpn_type",options:n,type:"dropdown",translateOptions:!0,disabled:!!(null==t?void 0:t._id)}))),t.vpn_type===s.ServerVpnType.L2TP_SERVER&&i.a.createElement(H.a,null,i.a.createElement(Me.SearchableGridLabel,{searchIsApplicable:"isVpnServerL2tpNetwork",searchText:"SETTINGS_NETWORKS_FORM_FIELD_PRE_SHARED_KEY_SEARCH",alignWith:"input",htmlFor:"x_ipsec_pre_shared_key",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_PRE_SHARED_KEY"}),description:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_PRE_SHARED_KEY_DESCRIPTION"})}),i.a.createElement(K.a,{column:!0},i.a.createElement($.Field,{type:"password",name:"x_ipsec_pre_shared_key",passwordToggle:!0}))),d&&i.a.createElement(ua,{vpnInterfaceType:s.VpnInterfaceType.L2TP_INTERFACE,vpnLocalWanIp:s.VpnLocalWanIp.L2TP_LOCAL_WAN_IP}),i.a.createElement(La,{size:"body",color:"header"},i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_VPN_USER_ACCESS_LABEL"})),i.a.createElement(ke.a,{in:p&&!l.enabled},i.a.createElement(fa,{alignItems:"center"},i.a.createElement(Ca,{isActive:!0}),i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_VPN_USER_ACCESS_RADIUS_DISABLE_MESSAGE"}))),i.a.createElement(H.a,null,i.a.createElement(Me.SearchableGridLabel,{searchIsApplicable:"isVpnServer",alignWith:"dropdown",htmlFor:"radiusprofile_id",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_RADIUS_PROFILE"}),description:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_RADIUS_PROFILE_DESCRIPTION"})}),i.a.createElement(K.a,{column:!0},i.a.createElement($.Field,{name:"radiusprofile_id",options:u,type:"dropdown",full:!0}),i.a.createElement(va,{alignItems:"center"},i.a.createElement(N.a,{variant:"inline",href:o,target:"_blank",Icon:i.a.createElement(Ge.ab,{isActive:!0})},i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_RADIUS_PROFILE_CREATE_NEW"}))))),i.a.createElement(ke.a,{in:p},i.a.createElement(i.a.Fragment,null,!(null===(e=l.x_secret)||void 0===e?void 0:e.length)&&i.a.createElement(H.a,null,i.a.createElement(Me.SearchableGridLabel,{searchIsApplicable:"isVpnServer",alignWith:"input",htmlFor:"radiusServerSecret",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_RADIUS_SECRET"}),description:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_RADIUS_SECRET_DESCRIPTION"})}),i.a.createElement(K.a,null,i.a.createElement($.Field,{name:"radiusServerSecret",full:!0,type:"password",passwordToggle:!0}))),i.a.createElement(Fa,null))),i.a.createElement(Me.SearchableAccordion,{items:S,variant:"secondary"}))};var wa=()=>{const{values:e,initialValues:t,setFieldValue:a}=Object(y.e)(),n=Object(c.useMemo)(()=>ca(t),[t]),l=Object(E.useSelector)(n);return Object(c.useEffect)(()=>{a("remote_site_id",Object(O.a)(e,"remote_site_id",l[0]&&l[0].value))},[]),i.a.createElement(H.a,null,i.a.createElement(Me.SearchableGridLabel,{searchIsApplicable:"isVpnSiteToSiteAutoIpsec",alignWith:"dropdown",htmlFor:"remote_site_id",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_REMOTE_SITE"})}),i.a.createElement(K.a,null,i.a.createElement($.Field,{full:!0,name:"remote_site_id",options:l,type:"dropdown"})))},Ga=a(2034);var ya=Object(T.f)(({intl:e})=>{const{setFieldValue:t,values:a,errors:n,touched:l,submitCount:r}=Object(y.e)(),[_,E]=Object(c.useState)(""),{remote_vpn_subnets:o}=a,s=Object(c.useMemo)(()=>Object(He.c)("remote_vpn_subnets",n,l,r),[n,r,l]),d=_.trim(),p=Object(c.useMemo)(()=>!d||Object(Ga.a)(d),[d]),m=Object(c.useMemo)(()=>d&&!o.includes(d)&&p,[d,o,p]),u=Object(c.useMemo)(()=>o?o.map(e=>({label:e,value:e})):[],[o]);m&&u.splice(0,0,{label:`${e.formatHTMLMessage({id:"COMMON_ACTION_CREATE"})} "${d}"`,value:d});const S=Object(c.useCallback)((e,t="")=>{E(t)},[]),N=Object(c.useCallback)((e,a)=>{t("remote_vpn_subnets",a),E("")},[t,E]),b=Object(c.useCallback)(e=>{"Enter"===e.key&&m&&N({label:d,value:d},o.concat(d))},[m,d,o,N]);return Object(c.useEffect)(()=>{t("remote_vpn_subnets",Object(O.a)(a,"remote_vpn_subnets",[]))},[]),i.a.createElement(H.a,null,i.a.createElement(ye.a,{alignWith:"dropdown",htmlFor:"remote_vpn_subnets",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_VPN_REMOTE_SUBNETS"}),description:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_VPN_REMOTE_SUBNETS_DESCRIPTION"})}),i.a.createElement(K.a,{wrap:!0},i.a.createElement($.Field,{full:!0,inputProps:{full:!0,onKeyDown:b,value:_},invalid:!p||s,multi:!0,name:"remote_vpn_subnets",onChange:N,onInputChange:S,options:u,searchable:!0,selectionItemWidth:"auto",type:"dropdown"}),i.a.createElement(ke.a,{wrap:!0,in:!p||s},i.a.createElement(_a.a,null,!p&&i.a.createElement(T.c,{id:"COMMON_VALIDATION_VALID_NETWORK_SUBNET"})||s&&Object(O.a)(n,"remote_vpn_subnets")))))});const ja=Object(S.c)(je.a)`
  border-bottom: 1px solid ${({theme:e})=>e.motifPalette.ui07};
  padding-bottom: 12px;
  margin-bottom: 34px;
`;var Wa=()=>i.a.createElement(i.a.Fragment,null,i.a.createElement(H.a,null,i.a.createElement(Me.SearchableGridLabel,{searchIsApplicable:"isVpnSiteToSiteManualIpsec",alignWith:"input",htmlFor:"x_ipsec_pre_shared_key",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_PRE_SHARED_KEY"}),description:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_PRE_SHARED_KEY_DESCRIPTION"})}),i.a.createElement(K.a,{column:!0},i.a.createElement($.Field,{full:!0,type:"password",name:"x_ipsec_pre_shared_key",passwordToggle:!0}))),i.a.createElement(ua,{vpnInterfaceType:s.VpnInterfaceType.IPSEC_INTERFACE,vpnLocalWanIp:s.VpnLocalWanIp.IPSEC_LOCAL_IP}),i.a.createElement(ja,{size:"body",color:"header"},i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_VPN_REMOTE_DEVICE_CONFIGURATION_LABEL"})),i.a.createElement(ya,null),i.a.createElement(H.a,null,i.a.createElement(Me.SearchableGridLabel,{searchIsApplicable:"isVpnSiteToSiteManualIpsec",alignWith:"input",htmlFor:"ipsec_peer_ip",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_PEER_IP"}),description:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_PEER_IP_DESCRIPTION"})}),i.a.createElement(K.a,{column:!0},i.a.createElement($.Field,{full:!0,name:"ipsec_peer_ip"}))));const Va=Object(S.c)(H.a)`
  margin-top: ${({theme:e})=>e.spacing["spacing-xxxxl"]};
`;var xa=()=>{const{values:e,setValues:t}=Object(y.e)(),a=Object(E.useSelector)(F.m),n=Object(c.useMemo)(()=>a?Ft:Pt,[a]),l=Object(c.useMemo)(()=>a?Lt:vt,[a]),r=Object(c.useCallback)((a,n)=>{switch(n){case mt.AZURE_DYNAMIC:return t({...e,ipsec_profile:n,ipsec_key_exchange:"ikev2",ipsec_encryption:"aes256",ipsec_hash:"sha1",ipsec_dh_group:2,ipsec_pfs:!0,ipsec_dynamic_routing:!0});case mt.AZURE_STATIC:return t({...e,ipsec_profile:n,ipsec_key_exchange:"ikev1",ipsec_encryption:"aes256",ipsec_hash:"sha1",ipsec_dh_group:2,ipsec_pfs:!1,ipsec_dynamic_routing:!1});default:return t({...e,ipsec_profile:n})}},[t,e]);return Object(c.useEffect)(()=>{t({...e,route_distance:Object(O.a)(e,"route_distance",30),ipsec_profile:Object(O.a)(e,"ipsec_profile",mt.CUSTOMIZED),ipsec_key_exchange:Object(O.a)(e,"ipsec_key_exchange",Dt[0].value),ipsec_encryption:Object(O.a)(e,"ipsec_encryption",n[0].value),ipsec_hash:Object(O.a)(e,"ipsec_hash",l[0].value),ipsec_pfs:Object(O.a)(e,"ipsec_pfs",!0),ipsec_dynamic_routing:Object(O.a)(e,"ipsec_dynamic_routing",!0),ipsec_ike_dh_group:Object(O.a)(e,"ipsec_ike_dh_group",wt[3].value),ipsec_esp_dh_group:Object(O.a)(e,"ipsec_esp_dh_group",Mt[3].value),ipsec_dh_group:Object(O.a)(e,"ipsec_dh_group",Ct[3].value)})},[]),i.a.createElement(x.a,{padding:"none"},i.a.createElement(Va,null,i.a.createElement(Me.SearchableGridLabel,{searchIsApplicable:"isVpnSiteToSiteManualIpsec",alignWith:"dropdown",htmlFor:"ipsec_profile",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_IPSEC_PROFILE"})}),i.a.createElement(K.a,null,i.a.createElement($.Field,{full:!0,name:"ipsec_profile",options:At,type:"dropdown",translateOptions:!0,onChange:r}))),i.a.createElement(H.a,null,i.a.createElement(Me.SearchableGridLabel,{searchIsApplicable:"isVpnSiteToSiteManualIpsec",alignWith:"input",htmlFor:"route_distance",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_VPN_ROUTE_DISTANCE"})}),i.a.createElement(K.a,{column:!0},i.a.createElement($.Field,{name:"route_distance",type:"number",full:!0,contentAfter:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_VPN_ROUTE_DISTANCE_UNIT_LABEL"})}))),i.a.createElement(H.a,null,i.a.createElement(Me.SearchableGridLabel,{searchIsApplicable:"isVpnSiteToSiteManualIpsec",alignWith:"dropdown",htmlFor:"ipsec_key_exchange",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_KEY_EXCHANGE_VERSION"})}),i.a.createElement(K.a,null,i.a.createElement($.Field,{full:!0,name:"ipsec_key_exchange",options:Dt,type:"dropdown"}))),i.a.createElement(H.a,null,i.a.createElement(Me.SearchableGridLabel,{searchIsApplicable:"isVpnSiteToSiteManualIpsec",searchText:"SETTINGS_NETWORKS_FORM_FIELD_ENCRYPTION_VPN_MANUAL_IPSEC_SEARCH",alignWith:"dropdown",htmlFor:"ipsec_encryption",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_ENCRYPTION"})}),i.a.createElement(K.a,null,i.a.createElement($.Field,{full:!0,name:"ipsec_encryption",options:n,type:"dropdown"}))),i.a.createElement(H.a,null,i.a.createElement(Me.SearchableGridLabel,{searchIsApplicable:"isVpnSiteToSiteManualIpsec",searchText:"SETTINGS_NETWORKS_FORM_FIELD_HASH_VPN_MANUAL_IPSEC_SEARCH",alignWith:"dropdown",htmlFor:"ipsec_hash",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_HASH"})}),i.a.createElement(K.a,null,i.a.createElement($.Field,{full:!0,name:"ipsec_hash",options:l,type:"dropdown"}))),a?i.a.createElement(H.a,null,i.a.createElement(Me.SearchableGridLabel,{searchIsApplicable:"isUdm,isVpnSiteToSiteManualIpsec",alignWith:"dropdown",htmlFor:"ipsec_ike_dh_group",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_IKE_DH_GROUP"})}),i.a.createElement(K.a,null,i.a.createElement($.Field,{full:!0,name:"ipsec_ike_dh_group",options:wt,type:"dropdown"}))):i.a.createElement(H.a,null,i.a.createElement(Me.SearchableGridLabel,{searchIsApplicable:"isNotUdm,isVpnSiteToSiteManualIpsec",alignWith:"dropdown",htmlFor:"ipsec_encryption",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_DH_GROUP"})}),i.a.createElement(K.a,null,i.a.createElement($.Field,{full:!0,name:"ipsec_dh_group",options:Ct,type:"dropdown"}))),a&&i.a.createElement(H.a,{disabled:!e.ipsec_pfs},i.a.createElement(Me.SearchableGridLabel,{searchIsApplicable:"isUdm,isVpnSiteToSiteManualIpsec",alignWith:"dropdown",htmlFor:"ipsec_esp_dh_group",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_ESP_DH_GROUP"})}),i.a.createElement(K.a,null,i.a.createElement($.Field,{full:!0,name:"ipsec_esp_dh_group",options:Mt,type:"dropdown",disabled:!e.ipsec_pfs}))),i.a.createElement(H.a,null,i.a.createElement(Me.SearchableGridLabel,{searchIsApplicable:"isVpnSiteToSiteManualIpsec",alignWith:"toggleSmall",htmlFor:"ipsec_pfs",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_PFS"})}),i.a.createElement(K.a,null,i.a.createElement($.Field,{name:"ipsec_pfs",type:"checkbox"}))),i.a.createElement(H.a,null,i.a.createElement(Me.SearchableGridLabel,{searchIsApplicable:"isVpnSiteToSiteManualIpsec",alignWith:"toggleSmall",htmlFor:"ipsec_dynamic_routing",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_DYNAMIC_ROUTING"})}),i.a.createElement(K.a,null,i.a.createElement($.Field,{name:"ipsec_dynamic_routing",type:"checkbox"}))))},Ua=a(1818);const ka=Object(S.c)("div")`
  margin-top: 32px;
`,Ka=Object(S.c)(je.a)`
  border-bottom: 1px solid ${({theme:e})=>e.motifPalette.ui07};
  padding-bottom: 12px;
  margin-bottom: 34px;
`,Ha=Object(S.c)(je.a)`
  margin: 0 8px;
`,Ba=[{id:"advanced",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_ADVANCED_LABEL"}),renderContent:()=>i.a.createElement(ka,null,i.a.createElement(H.a,null,i.a.createElement(Me.SearchableGridLabel,{searchIsApplicable:"isNotUdm,isVpnSiteToSiteOpen",alignWith:"input",htmlFor:"route_distance",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_VPN_ROUTE_DISTANCE"})}),i.a.createElement(K.a,{column:!0},i.a.createElement($.Field,{name:"route_distance",type:"number",full:!0,contentAfter:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_VPN_ROUTE_DISTANCE_UNIT_LABEL"})}))))}];var $a=()=>{const e=Object(E.useSelector)(F.m);return i.a.createElement(i.a.Fragment,null,i.a.createElement(H.a,null,i.a.createElement(Me.SearchableGridLabel,{searchIsApplicable:"isVpnSiteToSiteOpen",searchText:"SETTINGS_NETWORKS_FORM_FIELD_OPENVPN_SHARED_SECRET_KEY_SEARCH",alignWith:"input",htmlFor:"x_openvpn_shared_secret_key",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_PRE_SHARED_KEY"}),description:i.a.createElement(T.b,{id:"SETTINGS_NETWORKS_FORM_FIELD_PRE_SHARED_KEY_OPEN_VPN_DESCRIPTION",values:{link:We.a.openVpnSiteToSiteGuide}})}),i.a.createElement(K.a,{column:!0},i.a.createElement($.Field,{type:"password",name:"x_openvpn_shared_secret_key",passwordToggle:!0}))),i.a.createElement(H.a,null,i.a.createElement(Me.SearchableGridLabel,{searchIsApplicable:"isVpnSiteToSiteOpen",alignWith:"input",htmlFor:"openvpn_local_address",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_OPENVPN_LOCAL_ADDRESS"}),description:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_OPENVPN_LOCAL_ADDRESS_DESCRIPTION"})}),i.a.createElement(K.a,{column:!0},i.a.createElement(Ue.g,{width:"100%",alignItems:"baseline"},i.a.createElement(Ue.g,{flexDirection:"column",flex:"1 1 55%"},i.a.createElement($.Field,{full:!0,name:"openvpn_local_address",label:"SETTINGS_NETWORKS_FORM_FIELD_OPENVPN_ADDRESS_LABEL"})),i.a.createElement(Ha,null,"/"),i.a.createElement(Ue.g,{flexDirection:"column",flex:"1 1 35%"},i.a.createElement($.Field,{full:!0,name:"openvpn_local_port",label:"SETTINGS_NETWORKS_FORM_FIELD_OPENVPN_LOCAL_PORT"}))))),i.a.createElement(Ka,{size:"body",color:"header"},i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_VPN_REMOTE_DEVICE_CONFIGURATION_LABEL"})),i.a.createElement(ya,null),i.a.createElement(H.a,null,i.a.createElement(Me.SearchableGridLabel,{searchIsApplicable:"isVpnSiteToSiteOpen",alignWith:"input",htmlFor:"openvpn_remote_host",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_OPENVPN_REMOTE_HOST"}),description:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_OPENVPN_REMOTE_HOST_DESCRIPTION"})}),i.a.createElement(K.a,{column:!0},i.a.createElement($.Field,{full:!0,name:"openvpn_remote_host"}))),i.a.createElement(H.a,null,i.a.createElement(Me.SearchableGridLabel,{searchIsApplicable:"isVpnSiteToSiteOpen",alignWith:"input",htmlFor:"openvpn_remote_address",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_OPENVPN_REMOTE_ADDRESS"}),description:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_OPENVPN_REMOTE_ADDRESS_DESCRIPTION"})}),i.a.createElement(K.a,{column:!0},i.a.createElement(Ue.g,{width:"100%",alignItems:"baseline"},i.a.createElement(Ue.g,{flexDirection:"column",flex:"1 1 55%"},i.a.createElement($.Field,{full:!0,name:"openvpn_remote_address",label:"SETTINGS_NETWORKS_FORM_FIELD_OPENVPN_ADDRESS_LABEL"})),i.a.createElement(Ha,null,"/"),i.a.createElement(Ue.g,{flexDirection:"column",flex:"1 1 35%"},i.a.createElement($.Field,{full:!0,name:"openvpn_remote_port",label:"SETTINGS_NETWORKS_FORM_FIELD_OPENVPN_PORT_LABEL"}))))),!e&&i.a.createElement(Ua.a,{variant:"secondary",items:Ba}))};var Ya=()=>{const{initialValues:e,values:t,setFieldValue:a}=Object(y.e)(),{vpn_type:n}=t,l=Object(c.useMemo)(()=>{return t=e,Object(na.a)(F.m,h.selectHasSiteUxg,ca(t),(e,t,a)=>e||t||!a.length?ht.filter(({value:e})=>e!==s.SiteToSiteVpnType.AUTO_IPSEC_VTI):ht);var t},[e]),r=Object(E.useSelector)(l),_=Object(c.useMemo)(()=>{switch(n){case s.SiteToSiteVpnType.AUTO_IPSEC_VTI:return i.a.createElement(wa,null);case s.SiteToSiteVpnType.MANUAL_IPSEC:return i.a.createElement(i.a.Fragment,null,i.a.createElement(Wa,null),i.a.createElement(Me.SearchableAccordion,{items:[{id:"advanced",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_ADVANCED_LABEL"}),renderContent:()=>i.a.createElement(xa,null)}],variant:"secondary"}));case s.SiteToSiteVpnType.OPEN_VPN:return i.a.createElement($a,null);default:return null}},[n]);return Object(c.useEffect)(()=>{r[0]&&!r.some(({value:e})=>e===t.vpn_type)&&a("vpn_type",r[0]&&r[0].value)},[]),i.a.createElement(i.a.Fragment,null,i.a.createElement(H.a,null,i.a.createElement(Me.SearchableGridLabel,{searchIsApplicable:"isVpnSiteToSite",alignWith:"dropdown",htmlFor:"vpn_type",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_VPN_PROTOCOL"}),description:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_VPN_PROTOCOL_DESCRIPTION"})}),i.a.createElement(K.a,{column:!0},i.a.createElement($.Field,{full:!0,name:"vpn_type",options:r,type:"dropdown",translateOptions:!0,disabled:!!t._id}))),_)};const za=Object(S.c)(je.a)`
  border-bottom: 1px solid ${({theme:e})=>e.motifPalette.ui07};
  padding-bottom: 12px;
  margin-bottom: 34px;
`,Xa=Object(S.c)(H.a)`
  margin-top: 32px;
`,qa=[{id:"advanced",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_ADVANCED_LABEL"}),renderContent:()=>i.a.createElement(i.a.Fragment,null,i.a.createElement(Xa,null,i.a.createElement(Me.SearchableGridLabel,{searchIsApplicable:"isVpnClient",alignWith:"input",htmlFor:"pptpc_route_distance",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_VPN_ROUTE_DISTANCE"})}),i.a.createElement(K.a,{column:!0},i.a.createElement($.Field,{name:"pptpc_route_distance",type:"number",contentAfter:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_VPN_ROUTE_DISTANCE_UNIT_LABEL"})}))),i.a.createElement(H.a,null,i.a.createElement(Me.SearchableGridLabel,{searchIsApplicable:"isVpnClient",alignWith:"toggleSmall",htmlFor:"pptpc_require_mppe",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_VPN_PPTC_MPPE"}),description:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_VPN_PPTC_MPPE_DESCRIPTION"})}),i.a.createElement(K.a,null,i.a.createElement($.Field,{name:"pptpc_require_mppe",type:"checkbox"}))),i.a.createElement(H.a,null,i.a.createElement(Me.SearchableGridLabel,{searchIsApplicable:"isVpnClient",searchText:"SETTINGS_NETWORKS_FORM_FIELD_VPN_PULL_DNS_SEARCH",alignWith:"toggleSmall",htmlFor:"vpn_client_pull_dns",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_VPN_PULL_DNS"}),description:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_VPN_PULL_DNS_DESCRIPTION"})}),i.a.createElement(K.a,null,i.a.createElement($.Field,{name:"vpn_client_pull_dns",type:"checkbox"}))))}];var Za=()=>{const{values:e,setFieldValue:t}=Object(y.e)(),{vpn_client_default_route:a}=e;return Object(c.useEffect)(()=>{Rt.some(({value:t})=>t===e.vpn_type)||t("vpn_type",s.ClientVpnType.PPTP_CLIENT),t("vpn_client_default_route",Object(O.a)(e,"vpn_client_default_route",!1))},[]),i.a.createElement(i.a.Fragment,null,i.a.createElement(H.a,null,i.a.createElement(Me.SearchableGridLabel,{searchIsApplicable:"isVpnClient",alignWith:"dropdown",htmlFor:"vpn_type",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_VPN_PROTOCOL"}),description:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_VPN_PROTOCOL_DESCRIPTION"})}),i.a.createElement(K.a,{column:!0},i.a.createElement($.Field,{full:!0,name:"vpn_type",options:Rt,type:"dropdown",translateOptions:!0,disabled:!!e._id}))),i.a.createElement(H.a,null,i.a.createElement(Me.SearchableGridLabel,{searchIsApplicable:"isVpnClient",alignWith:"toggleSmall",htmlFor:"vpn_client_default_route",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_VPN_DEFAULT_ROUTE"}),description:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_VPN_DEFAULT_ROUTE_DESCRIPTION"})}),i.a.createElement(K.a,null,i.a.createElement($.Field,{name:"vpn_client_default_route",type:"checkbox"}))),i.a.createElement(H.a,null,i.a.createElement(Me.SearchableGridLabel,{searchIsApplicable:"isVpnClient",searchText:"SETTINGS_NETWORKS_FORM_FIELD_VPN_PPTC_SERVER_SEARCH",alignWith:"input",htmlFor:"pptpc_server_ip",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_VPN_PPTC_SERVER"}),description:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_VPN_PPTC_SERVER_DESCRIPTION"})}),i.a.createElement(K.a,{column:!0},i.a.createElement($.Field,{name:"pptpc_server_ip"}))),i.a.createElement(H.a,null,i.a.createElement(Me.SearchableGridLabel,{searchIsApplicable:"isVpnClient",searchText:"SETTINGS_NETWORKS_FORM_FIELD_VPN_PPTC_USERNAME_SEARCH",alignWith:"input",htmlFor:"pptpc_username",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_VPN_PPTC_USERNAME"})}),i.a.createElement(K.a,{column:!0},i.a.createElement($.Field,{name:"pptpc_username"}))),i.a.createElement(H.a,null,i.a.createElement(Me.SearchableGridLabel,{searchIsApplicable:"isVpnClient",searchText:"SETTINGS_NETWORKS_FORM_FIELD_VPN_PPTC_PASSWORD_SEARCH",alignWith:"input",htmlFor:"x_pptpc_password",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_VPN_PPTC_PASSWORD"})}),i.a.createElement(K.a,{column:!0},i.a.createElement($.Field,{type:"password",name:"x_pptpc_password",passwordToggle:!0}))),!a&&i.a.createElement(i.a.Fragment,null,i.a.createElement(za,{size:"body",color:"header"},i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_VPN_REMOTE_DEVICE_CONFIGURATION_LABEL"})),i.a.createElement(ya,null)),i.a.createElement(Ua.a,{variant:"secondary",items:qa}))};const Qa=Object(S.c)("div")`
  padding-top: 13px;
`;var Ja=()=>{var e;const t=Object(E.useSelector)(h.selectSiteGateway);return i.a.createElement(i.a.Fragment,null,i.a.createElement(H.a,null,i.a.createElement(ye.a,{alignWith:"input",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_VPN_PROTOCOL"})}),i.a.createElement(K.a,null,i.a.createElement(Qa,null,i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_VPN_L2TP_OVER_IPSEC"})))),!!(null===(e=null==t?void 0:t.wan1)||void 0===e?void 0:e.ip)&&i.a.createElement(H.a,null,i.a.createElement(ye.a,{alignWith:"input",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_SERVER_ADDRESS"}),description:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_SERVER_ADDRESS_DESCRIPTION"})}),i.a.createElement(K.a,null,i.a.createElement(Qa,null,t.wan1.ip))),i.a.createElement(H.a,null,i.a.createElement(Me.SearchableGridLabel,{searchIsApplicable:"isVpnServerL2tpNetwork",searchText:"SETTINGS_NETWORKS_FORM_FIELD_PRE_SHARED_KEY_SEARCH",alignWith:"input",htmlFor:"x_ipsec_pre_shared_key",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_SHARED_SECRET"})}),i.a.createElement(K.a,{column:!0},i.a.createElement($.Field,{name:"x_ipsec_pre_shared_key"}))),i.a.createElement(Fa,null))};var en=()=>{const{values:{_id:e,purpose:t,vpnSetup:a},initialValues:n,setFieldValue:l}=Object(y.e)(),r=Object(c.useContext)(Ue.l),_=Object(E.useSelector)(ra)(e),o=!_.some(({value:e})=>e===s.ServerVpnType.L2TP_SERVER),d=Object(E.useSelector)(F.m),p=Object(c.useMemo)(()=>{switch(t){case s.NetworkPurpose.REMOTE_USER_VPN:return Ma;case s.NetworkPurpose.SITE_VPN:return Ya;case s.NetworkPurpose.VPN_CLIENT:return Za;default:return()=>null}},[t]),m=Object(c.useMemo)(()=>{const e=[{icon:i.a.createElement(Ge.Ob,{width:51,height:46}),optionTranslationString:"SITE_TO_SITE",value:s.NetworkPurpose.SITE_VPN},...d?[]:[{icon:i.a.createElement(Ge.kc,{width:46,height:41}),optionTranslationString:"CLIENT",value:s.NetworkPurpose.VPN_CLIENT}]];return _.length&&e.splice(1,0,{icon:i.a.createElement(Ge.Ib,{width:53,height:46}),optionTranslationString:"SERVER",value:s.NetworkPurpose.REMOTE_USER_VPN}),e},[d,_.length]),u=Object(c.useCallback)(e=>{var t;const{value:a}=null!==(t=null==e?void 0:e.target)&&void 0!==t?t:{};switch(l("vpnSetup",a),a){case ge.SIMPLE:case ge.NONE:l("purpose",s.NetworkPurpose.CORPORATE)}},[l]);let S=null;switch(a){case ge.SIMPLE:S=i.a.createElement(Ja,null);break;case ge.ADVANCED:S=i.a.createElement(H.a,{disabled:r||!!e},i.a.createElement(ye.a,{alignWith:"dropdown",htmlFor:"purpose",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_VPN_CONNECTION"}),description:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_VPN_CONNECTION_DESCRIPTION"})}),i.a.createElement(K.a,{unlimitedWidth:!0},i.a.createElement(Ue.g,{justifyContent:"space-between",width:"100%",alignItems:"flex-start",flexDirection:"column"},m.map(e=>{const a="SETTINGS_NETWORKS_FORM_FIELD_VPN_TYPE_"+e.optionTranslationString,n=`SETTINGS_NETWORKS_FORM_FIELD_VPN_TYPE_${e.optionTranslationString}_DESCRIPTION`;return i.a.createElement(ea,{id:"vpn-type-"+e.value,isSelected:t===e.value,key:e.value,field:"purpose",icon:e.icon,setFieldValue:l,value:e.value,title:a,description:n})}))))}return i.a.createElement(i.a.Fragment,null,i.a.createElement(x.a,{padding:"none"},i.a.createElement(H.a,{disabled:r},i.a.createElement(ye.a,{alignWith:"dropdown",htmlFor:"vpnSetup",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_VPN_SETUP"})}),i.a.createElement(K.a,null,i.a.createElement($.Field,{multiline:!0,name:"vpnSetup",toggleboxType:"radio",type:"togglebox",value:ge.NONE,disabled:n.purpose!==s.NetworkPurpose.CORPORATE&&n._id,onChange:u},i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_VPN_SETUP_NONE"})),i.a.createElement($.Field,{multiline:!0,name:"vpnSetup",toggleboxType:"radio",type:"togglebox",value:ge.SIMPLE,disabled:n.purpose!==s.NetworkPurpose.CORPORATE||o,onChange:u},i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_VPN_SETUP_SIMPLE"})),i.a.createElement($.Field,{multiline:!0,name:"vpnSetup",toggleboxType:"radio",type:"togglebox",value:ge.ADVANCED,onChange:u},i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_VPN_SETUP_ADVANCED"})))),S,i.a.createElement(ke.a,{in:a===ge.ADVANCED,wrap:!0,flexDirection:"column"},i.a.createElement(p,null))))};var tn=({hiddenId:e,modalType:t,handleCloseModal:a,userId:n})=>{const l=Object(c.useRef)(null),r=Object(E.useDispatch)(),_=Object(E.useSelector)(h.selectIsUbiOS),{errors:d,values:{gateway_type:p,purpose:S,vpn_type:O,vpnSetup:N,networkRADIUSUsers:b=[]},setFieldValue:I}=Object(y.e)(),R=Object(c.useMemo)(()=>[s.NetworkPurpose.REMOTE_USER_VPN,s.NetworkPurpose.SITE_VPN,s.NetworkPurpose.VPN_CLIENT].includes(S),[S]),A=R&&!!O,g=R&&!!O,D=S===s.NetworkPurpose.GUEST||p===s.NetworkGatewayType.switch,P=Object(c.useMemo)(()=>[{id:"vpn-settings",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_VPN_SETTINGS_LABEL"}),renderContent:()=>i.a.createElement(en,null),disabled:D},_&&{id:"content-filtering",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_CONTENT_FILTERING_LABEL"}),description:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_CONTENT_FILTERING_DESCRIPTION"}),renderContent:()=>i.a.createElement(ta,null),disabled:g},{id:"advanced",label:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_ADVANCED_LABEL"}),renderContent:()=>i.a.createElement($t,{hiddenId:e}),disabled:A}].filter(e=>!!e),[e,A,g,D,_]);let F=0;O===s.ServerVpnType.PPTP_SERVER?F=o.TUNNEL_TYPES.PTPP:O!==s.ServerVpnType.L2TP_SERVER&&N!==ge.SIMPLE||(F=o.TUNNEL_TYPES.L2TP),Object(m.g)(l,d),Object(c.useEffect)(()=>{r(Object(h.fetchDevices)(void 0,{crudCacheStrategy:{type:u.a.CACHE}})),r(Object(j.fetchDhcpOptions)({crudCacheStrategy:{type:u.a.CACHE}})),r(Object(fe.b)(void 0,{crudCacheStrategy:{type:u.a.CACHE}}))},[]);const v=Object(c.useMemo)(()=>{if(n)return b.find(({_id:e})=>e===n)},[n]),L=Object(c.useCallback)(e=>{const t={...e};t._id||(t._id=Le()(),t.isNew=!0);const a=b.filter(({_id:t})=>t!==e._id).concat(t);I("networkRADIUSUsers",a)},[b,I]),f=Object(c.useCallback)(e=>{I("networkRADIUSUsers",b.filter(({_id:t})=>e!==t))},[b,I]);return i.a.createElement("div",{ref:l},t===Gt.CREATE_RADIUS_USER&&i.a.createElement(Ce.a,{simpleForm:!0,onClose:a,tunnel_type:F,handleOnSubmit:N===ge.SIMPLE?L:void 0,handleOnRemove:N===ge.SIMPLE?f:void 0,initialUser:v}),i.a.createElement(zt,null),i.a.createElement(x.a,{padding:"none"},i.a.createElement(Me.SearchableAccordion,{items:P,variant:"primary",multiOpen:!0,closeDisabled:!0})))},an=a(2930),nn=a(2212);const ln=Object(S.c)(an.a)`
  margin: -32px -64px 0;
  width: calc(100% + 128px);
`;var rn=()=>{const e=Object(_.k)(),{networkId:t}=Object(_.m)(),a=Object(m.i)(`networks/form/${t||0}/${Gt.VPN_SETUP}`),{initialValues:{vpn_type:n},values:{purpose:l,vpnSetup:r,networkRADIUSUsers:E=[],vpn_combined_enabled:o}}=Object(y.e)(),d=Boolean(r===ge.SIMPLE&&E.length&&o),p=Object(c.useCallback)(t=>{t.preventDefault(),e.push(a)},[e,a]);return(l!==s.NetworkPurpose.CORPORATE&&n===s.ServerVpnType.L2TP_SERVER||d)&&i.a.createElement(ln,null,i.a.createElement(nn.a,null),i.a.createElement(je.a,null,i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_VPN_SETUP_BANNER"})),i.a.createElement(N.a,{variant:"inline",onClick:p},i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_VPN_SETUP_BANNER_BUTTON"})))},cn=a(1741);const _n=Object(S.c)(cn.a)`
  width: 512px;
`,En=Object(S.c)(je.a)`
  margin: 21px 0 35px;
`,on=Object(S.c)(Sa.a)`
  margin-bottom: 44px;
`,sn=Object(S.c)(Ea.a)`
  margin-bottom: 25px;
`,dn=Object(S.c)(Sa.a)`
  margin-bottom: 25px;
`,pn=Object(S.c)(je.a)`
  margin-bottom: 25px;
`,mn=Object(S.c)(Ge.W)`
  margin-right: 7px;
`,un=Object(S.c)(Ue.g)`
  margin: 16px 0 25px;
`,Sn=Object(S.c)(Ge.d)`
  color: ${({theme:e})=>e.motifPalette.orange06};
  margin-right: 10px;
`,Tn=Object(S.c)("input")`
  background: none;
  border: none;
  color: ${({theme:e})=>e.motifPalette.uBlue06};
  padding: 1px 3px;
  cursor: pointer;
`;var On=Object(T.f)(({onClose:e,intl:t})=>{var a;const{values:{networkRADIUSUsers:n=[],vpn_type:l,vpnSetup:r,radiusprofile_id:d,l2tp_local_wan_ip:p,l2tp_interface:u,x_ipsec_pre_shared_key:S,vpn_combined_enabled:O,_id:N}}=Object(y.e)(),b=Object(E.useSelector)(A.selectRadiusProfiles),I=Object(E.useSelector)(o.selectAccounts).filter(({tunnel_type:e,networkconf_id:t})=>r===ge.SIMPLE?t&&t===N:l===s.ServerVpnType.PPTP_SERVER?e===o.TUNNEL_TYPES.PTPP:l===s.ServerVpnType.L2TP_SERVER&&e===o.TUNNEL_TYPES.L2TP),h=Object(_.k)(),R=r===ge.SIMPLE&&O?n:I,[g,D]=Object(c.useState)((null==R?void 0:R[0])||void 0),P=Object(E.useSelector)(ia(t)),F=Object(c.useMemo)(()=>b.find(e=>e._id===d),[b,d]),v=Object(c.useMemo)(()=>I.map(e=>({label:e.name,value:e._id})),[I]),L=Object(c.useCallback)(e=>{const t=I.find(t=>t._id===e);D(t)},[I]),f=Object(m.i)("advanced/radius/form"),C=Object(c.useCallback)(()=>{h.push(f)},[h,f]),M=Object(c.useMemo)(()=>{const e=P.find(e=>e.value===`${p}/${u}`);return(null==e?void 0:e.label.split("(")[0])||p},[u,p,P]);return i.a.createElement(_n,{isOpen:!0,title:t.formatMessage({id:"SETTINGS_NETWORKS_VPN_SETUP_MODAL_TITLE"}),onRequestClose:e,actions:[{style:{minWidth:142},text:t.formatMessage({id:"COMMON_ACTION_DONE"}),type:"button",variant:"primary",onClick:()=>e()}]},i.a.createElement(En,{color:"header"},t.formatMessage({id:"SETTINGS_NETWORKS_VPN_SETUP_MODAL_DESCRIPTION"})),i.a.createElement(on,{label:t.formatMessage({id:"SETTINGS_NETWORKS_FORM_FIELD_VPN_PROTOCOL"}),helperMessage:t.formatMessage({id:"SETTINGS_NETWORKS_VPN_SETUP_MODAL_IP_ADDRESS_DESCRIPTION"}),value:r===ge.SIMPLE?"L2TP":null===(a=null==l?void 0:l.split)||void 0===a?void 0:a.call(l,"-")[0].toUpperCase(),readOnly:!0,width:"100%"}),i.a.createElement(on,{label:t.formatMessage({id:"SETTINGS_NETWORKS_VPN_SETUP_MODAL_IP_ADDRESS_LABEL"},{wan:u.toUpperCase()}),helperMessage:t.formatMessage({id:"SETTINGS_NETWORKS_VPN_SETUP_MODAL_IP_ADDRESS_DESCRIPTION"}),value:M,readOnly:!0,width:"100%"}),i.a.createElement(on,{passwordToggle:!0,type:"password",label:t.formatMessage({id:"SETTINGS_NETWORKS_FORM_FIELD_PRE_SHARED_KEY"}),helperMessage:t.formatMessage({id:"SETTINGS_NETWORKS_VPN_SETUP_MODAL_SHARE_SECRET_DESCRIPTION"}),value:S,readOnly:!0,width:"100%"}),i.a.createElement(pn,{color:"header"},t.formatMessage({id:"SETTINGS_NETWORKS_VPN_SETUP_MODAL_USER_AUTHENTICATION_TITLE"})),(null==F?void 0:F.attr_no_delete)&&(v.length?i.a.createElement(i.a.Fragment,null,i.a.createElement(sn,{label:t.formatMessage({id:"COMMON_LABEL_USERNAME"}),width:"100%",options:v,onChange:(e,t)=>L(t),value:null==g?void 0:g._id}),i.a.createElement(dn,{passwordToggle:!0,type:"password",label:t.formatMessage({id:"SETTINGS_NETWORKS_VPN_SETUP_MODAL_USER_PASSWORD_LABEL"}),value:null==g?void 0:g.x_password,readOnly:!0,width:"100%"})):i.a.createElement(i.a.Fragment,null,i.a.createElement(Sa.a,{label:t.formatMessage({id:"SETTINGS_NETWORKS_VPN_SETUP_MODAL_USER_PROFILE_LABEL"}),value:null==F?void 0:F.name,readOnly:!0,width:"100%"}),i.a.createElement(un,{alignItems:"flex-start"},i.a.createElement(i.a.Fragment,null,i.a.createElement(Sn,{width:19,height:19}),i.a.createElement(je.a,{color:"header"},t.formatMessage({id:"SETTINGS_NETWORKS_VPN_SETUP_MODAL_NO_RADIUS_USERS_MESSAGE_PART_1"}),i.a.createElement(Tn,{type:"button",value:t.formatMessage({id:"SETTINGS_NETWORKS_VPN_SETUP_MODAL_NO_RADIUS_USERS_MESSAGE_PART_2"}),onClick:C})))))),!(null==F?void 0:F.attr_no_delete)&&i.a.createElement(i.a.Fragment,null,i.a.createElement(Sa.a,{label:t.formatMessage({id:"SETTINGS_NETWORKS_VPN_SETUP_MODAL_USER_PROFILE_LABEL"}),value:null==F?void 0:F.name,readOnly:!0,width:"100%"}),i.a.createElement(un,{alignItems:"flex-start"},i.a.createElement(i.a.Fragment,null,i.a.createElement(mn,{isActive:!0}),i.a.createElement(je.a,{color:"header"},i.a.createElement(T.b,{id:"SETTINGS_NETWORKS_VPN_SETUP_MODAL_EXTERNAL_RADIUS_SERVER_MESSAGE"}))))),i.a.createElement(Ue.g,{alignItems:"flex-start"},i.a.createElement(mn,{isActive:!0}),i.a.createElement(je.a,{color:"header"},i.a.createElement(T.b,{id:"SETTINGS_NETWORKS_VPN_SETUP_MODAL_LEARN_MORE",values:{link:"https://www.ui.com"}}))))});const Nn=Object(S.c)(v.b)`
  width: 100%;
`;var bn=Object(T.f)(e=>{const{initialValues:t,hiddenId:a,intl:n,onBack:l}=e,r=Object(E.useSelector)(d.x),u=Object(E.useSelector)(F.m),S=Object(E.useSelector)(h.selectIsUbiOS),v=Object(c.useMemo)(()=>Object(s.selectNetworksInGroupWithoutVlan)(t.networkgroup||s.NetworkHiddenId.LAN),[t.networkgroup]),y=Object(E.useSelector)(v),j=Object(E.useSelector)(s.selectVlansInUse),W=Object(E.useSelector)(g.selectIpsSettings),V=Object(E.useSelector)(R.d),x=Object(E.useSelector)(g.selectHotspotSettings),U=Object(E.useSelector)(h.selectWanInterfaceOptions),{networkId:k,modalType:K,userId:H}=Object(_.m)(),B=Object(O.a)(W,"dns_filters",[]),$=B.find(({network_id:e})=>e===t._id)||{allowed_sites:[],blocked_sites:[],blocked_tld:[],description:"",filter:g.DnsFilterType.NONE,version:"v4"},Y=Object(_.k)(),z=`${Object(m.i)("networks/form")}${k&&"0"!==k?"/"+k:""}`,X=Object(c.useCallback)(()=>Y.push(z),[Y,z]),q=Object(E.useSelector)(g.selectRadiusSettings),Z=Object(E.useSelector)(A.selectDefaultRadiusId),Q=Object(E.useSelector)(P.selectSites),J=Object(E.useSelector)(s.selectNetworksData),ee=Object(E.useSelector)(Object(o.selectNetworkAccounts)(t._id)),te=ee.map(({_id:e})=>e),ae=J.some(({_id:e,purpose:a,vpn_combined_enabled:n,vpn_type:l})=>t._id!==e&&(a===s.NetworkPurpose.REMOTE_USER_VPN||n)&&l===s.ServerVpnType.L2TP_SERVER),ne=J.reduce((e,a)=>(a.ip_subnet&&a.ip_subnet!==t.ip_subnet&&a.attr_hidden_id!==s.NetworkHiddenId.WAN_LTE_FAILOVER&&e.push(a.ip_subnet),a.vpn_combined_ip_subnet&&a.vpn_combined_ip_subnet!==t.vpn_combined_ip_subnet&&e.push(a.vpn_combined_ip_subnet),e),[]),le=Object(E.useSelector)(p.selectSubnetSuggestions).find(({mask:e})=>24===e)||{mask:24,gateways:[""]},re=`${le.gateways[0]}/${le.mask}`,{start:ce,stop:ie}=Object(Pe.c)(t.ip_subnet||re),_e=!!y.length&&!y.find(({_id:e})=>e===t._id),Ee=u?I.a.MAX_VLAN_UDM:I.a.MAX_VLAN,oe=_e?[...Array(Ee-I.a.MIN_VLAN)].map((e,t)=>t+I.a.MIN_VLAN).find(e=>!j.includes(e)):void 0,se=Object(E.useDispatch)(),de=Object(m.n)({component:i.a.createElement(T.c,{id:"SETTINGS_NETWORKS_FORM_TITLE_CREATE"}),message:"networks-create"},"networks-edit-view",t?t.name:void 0),pe=Object(c.useMemo)(()=>{var e,a,n,l,r,c,i,_,E;let o=s.DhcpRelayMode.NONE;t.dhcpd_enabled&&(o=s.DhcpRelayMode.ENABLED),t.dhcp_relay_enabled&&(o=s.DhcpRelayMode.RELAY);const d=t._id?Object(s.networkInitialValues)(t.purpose):{};t._id&&(d.auto_scale_enabled=null!==(e=t.auto_scale_enabled)&&void 0!==e&&e);const p=J.filter(({wan_networkgroup:e,wan_type:t})=>U.some(({label:a})=>a===e&&[s.IpV4ConnectionType.STATIC,s.IpV4ConnectionType.PPPOE].includes(t)));let m;m=t.nat_outbound_ip_addresses?t.nat_outbound_ip_addresses.map(e=>{var t;return{...e,ip_adress:e.ip_address?e.ip_address:null===(t=p.find(t=>t.wan_networkgroup===e.wan_network_group))||void 0===t?void 0:t.wan_ip}}):p.map(({wan_networkgroup:e,wan_ip:t})=>({wan_network_group:e,ip_address:t})),m=m.filter(e=>e.ip_address);const u=new Uint8Array(24);null===(n=null===(a=window.crypto)||void 0===a?void 0:a.getRandomValues)||void 0===n||n.call(a,u);const S=null!==(r=null===(l=null===window||void 0===window?void 0:window.btoa)||void 0===l?void 0:l.call(window,String.fromCharCode(...u)))&&void 0!==r?r:"",T=new Uint8Array(24);null===(i=null===(c=window.crypto)||void 0===c?void 0:c.getRandomValues)||void 0===i||i.call(c,T);const O=null!==(E=null===(_=null===window||void 0===window?void 0:window.btoa)||void 0===_?void 0:_.call(window,String.fromCharCode(...T)))&&void 0!==E?E:"";return{...s.vpnDefaultValues,...d,radiusprofile_id:Z,x_ipsec_pre_shared_key:S,gateway_device:"",...t,contentFilter:$.filter,ipv6_interface_type:t.ipv6_interface_type||s.IPV6_INTERFACE_TYPES.NONE,ip_subnet:t.ip_subnet||re,dhcpd_start:t.dhcpd_start||ce,dhcpd_stop:t.dhcpd_stop||ie,vlan:t.vlan||oe,dhcp_mode:o,...xt(o),allowedSubnets:Object(M.d)(x,"allowed_subnet_"),restrictedSubnets:Object(M.d)(x,"restricted_subnet_"),nat_outbound_ip_addresses:m,radiusServerSecret:q.x_secret||O,vpnSetup:Object(s.isVpnNetwork)(t)?ge.ADVANCED:t.vpn_combined_enabled?ge.SIMPLE:ge.NONE,networkRADIUSUsers:ee}},[t,J,$.filter,re,ce,ie,oe,x,q.x_secret,U,ae,Z]),me=Object(c.useCallback)(Object(f.c)(e)(async({allowedSubnets:e,restrictedSubnets:a,vpnSetup:n,networkRADIUSUsers:l,...r})=>{var c;const i=n===ge.SIMPLE,_=i?l:[],E=Object(w.a)(r,i);if(E.vpn_combined_enabled=i,E.vpn_type===s.SiteToSiteVpnType.AUTO_IPSEC_VTI){const{_id:e,name:a,remote_site_id:n,enabled:l}=E,r={name:a,site:n};try{return e?(n===t.remote_site_id&&a===t.name||(await se(Object(D.e)(t)),await se(Object(D.b)(r))),l!==t.enabled&&await se(null===(c=l?D.g:D.f)||void 0===c?void 0:c(r))):await se(Object(D.b)(r)),se(Object(L.c)({icon:C.a.success,message:"SETTINGS_NETWORKS_CREATE_FORM_SAVE_SUCCESS",values:{name:a}})),se(Object(s.fetchNetworks)())}catch(N){return se(Object(L.c)({icon:C.a.danger,message:"SETTINGS_NETWORKS_CREATE_FORM_SAVE_ERROR",values:{name:a},errorMessage:b.a[N.apiMsg],errorValues:N})),Promise.reject()}}E.vpn_combined_enabled?(E.purpose=s.NetworkPurpose.CORPORATE,E.vpn_type=s.ServerVpnType.L2TP_SERVER):(delete E.vpn_combined_dhcpd_start,delete E.vpn_combined_dhcpd_stop,delete E.vpn_combined_ip_subnet,E.purpose===s.NetworkPurpose.CORPORATE&&delete E.vpn_type);const d=E._id?s.updateNetwork:s.createNetwork;if(se(Object(p.clearSubnetSuggestions)()),E.vpn_type||i){if(!q.enabled&&E.radiusprofile_id===Z){const{name:e}=E;try{const e={...q,enabled:!0,x_secret:r.radiusServerSecret,key:"radius"};await se(Object(g.saveSettings)(e))}catch(N){return se(Object(L.c)({icon:C.a.danger,message:"SETTINGS_NETWORKS_CREATE_FORM_SAVE_ERROR",values:{name:e},errorMessage:b.a[N.apiMsg],errorValues:N})),Promise.reject()}}if(!i)return se(d(E,{},s.saveToastsWithErr))}if(V&&E.purpose===s.NetworkPurpose.GUEST){const t=Object(M.b)(x,"allowed_subnet_"),n=Object(M.b)(x,"restricted_subnet_"),l=Object(M.a)(e,"allowed_subnet_",t),r=Object(M.a)(a,"restricted_subnet_",n),c={...Object(M.c)(x,"allowed_subnet","restricted_subnet"),...l,...r};await se(Object(g.saveSettings)(c))}const m=await se(d(E,{},s.saveToastsWithErr)),u=Object(O.a)(m,"data[0]._id",Object(O.a)(m,"_id")),T=S?{...W,dns_filtering:!0,dns_filters:B.filter(({network_id:e})=>e!==u).concat({...$,filter:r.contentFilter,network_id:u,name:""})}:W;if(se(Object(g.saveSettings)(T)),te.length||_.length){const[e,t]=_.reduce((e,t)=>{const a={...t,networkconf_id:u},n=t.isNew?0:1;return t.isNew&&(delete a._id,delete a.isNew),e[n].push(a),e},[[],[]]),a=te.filter(e=>!_.some(({_id:t})=>e===t));e.length&&se(Object(o.createAccountsBatch)(e)),t.length&&se(Object(o.updateAccountsBatch)(t)),a.length&&se(Object(o.removeAccountsBatch)(a))}return Promise.resolve({})}),[se,B,$,t,S,te]),ue=Object(c.useMemo)(()=>Object(Fe.b)(_e,j,!r,u,t.vlan,n,ne,S,a),[_e,j,r,u,t.vlan,n,ne,S,a]),Se=Object(c.useCallback)(({_id:e,name:t,vpn_combined_enabled:a})=>{se(Object(s.deleteNetwork)(e,{name:t})),se(Object(g.saveSettings)({...W,dns_filtering:!0,dns_filters:W.dns_filters.filter(({network_id:t})=>t!==e)})),a&&se(Object(o.removeAccountsBatch)(te)),l()},[se,W,l,te]),Te=Object(c.useCallback)(()=>se(Object(G.b)({name:null==t?void 0:t.name,onConfirm:()=>Object(Pe.e)(t)?se(Object(D.e)(t,s.deleteToastsWithErr)).then(()=>l()):Se(t)})),[se,t,l,Se]),Oe=Object(s.isVpnRemovable)(t,Q);return i.a.createElement(Nn,{goBack:l,initialValues:pe,isEdit:!r,isView:r,showBack:!0,title:de,validationSchema:ue,onEscClicked:l,onSubmit:me,enableReinitialize:!0,unsavedChangesModalIgnoredPaths:[/networks\/form(\/([\w-_]+)){2,3}$/],submitText:(null==t?void 0:t._id)?"COMMON_ACTION_APPLY_CHANGES":"SETTINGS_NETWORKS_FORM_ADD",footerActiveOverride:!!(null==t?void 0:t._id)&&Oe,customFooterButtons:e=>(null==t?void 0:t._id)&&Oe&&i.a.createElement(N.a,{disabled:e,type:"button",variant:"default",onClick:Te},i.a.createElement(T.c,{id:"COMMON_ACTION_REMOVE"}))},i.a.createElement(rn,null),i.a.createElement(tn,{hiddenId:a,handleCloseModal:X,modalType:K,userId:H}),K===Gt.CREATE_DHCP_OPTION&&i.a.createElement(De,{onClose:X}),K===Gt.VPN_SETUP&&i.a.createElement(On,{onClose:X}))});t.default=()=>{const{networkId:e}=Object(_.m)(),t=Object(E.useSelector)(d.x),a=Object(E.useSelector)(s.selectNetworksData),n=Object(E.useDispatch)(),l=a.find(t=>t._id===e),r=Object(m.h)();return Object(c.useEffect)(()=>{t||n(Object(p.fetchSubnetSuggestions)())},[t]),Object(m.f)([Object(s.fetchNetworks)(void 0,{crudCacheStrategy:{type:u.a.CACHE}}),Object(o.fetchAccounts)(void 0,{crudCacheStrategy:{type:u.a.CACHE}})],i.a.createElement(bn,{initialValues:l||Object(s.networkInitialValues)(s.NetworkPurpose.CORPORATE),hiddenId:l?l.attr_hidden_id:void 0,onBack:r}))}},1926:function(e,t,a){"use strict";a.d(t,"e",(function(){return s})),a.d(t,"d",(function(){return d})),a.d(t,"c",(function(){return p})),a.d(t,"b",(function(){return O.a})),a.d(t,"a",(function(){return W}));var n=a(0),l=a.n(n),r=a(5),c=a(648),i=a(1136),_=a(208);const E=Object(r.c)(_.a)`
  font-size: ${({theme:e})=>e.fontSizes[0]}px;
  :last-child {
    margin-left: ${({theme:e})=>e.space[2]}px;
  }
  span {
    white-space: nowrap;
  }
`,o=(Object(r.c)(c.Link)`
  font-size: ${({theme:e})=>e.fontSizes[0]}px;
  white-space: nowrap;
  margin-bottom: 1px;

  :last-child {
    margin-left: ${({theme:e})=>e.space[2]}px;
  }

  &:hover {
    color: ${({theme:e})=>e.motifPalette.hoverLink01};
  }
`,Object(r.c)(_.a,{shouldForwardProp:e=>"useMinWidth"!==e})`
  padding: 0 ${({theme:e})=>e.space[3]}px;
  ${({useMinWidth:e})=>e?"min-width: 214px":"width: 214px"}
`),s=Object(r.c)(i.a)`
  flex-direction: column;
  align-items: flex-start;

  > div {
    margin-left: 0px;
  }

  > div:not(:last-child) {
    margin-bottom: 10px;
  }
`,d=e=>l.a.createElement(o,Object.assign({legacy:!1,variant:"secondary",type:"button"},e)),p=e=>l.a.createElement(E,Object.assign({legacy:!1,type:"button",variant:"inline"},e));var m=a(1851),u=a(375);const S=Object(r.c)(m.a)`
  max-width: 445px;
  margin-bottom: ${({theme:e})=>e.space[3]}px;
`,T=e=>r.a`
  padding-top: 0;
  color: ${e.colors.white};
  > th {
    height: 30px !important;
  }
`;Object(u.b)(({theme:e,...t})=>l.a.createElement(S,Object.assign({headerRowClassName:T(e),disableColumnFilters:!0,disableSelection:!0,rowHeight:30},t)));var O=a(1934),N=a(529),b=a(1743),I=a(2),h=a(30),R=a(15),A=a(2846),g=a(44),D=a(71),P=a(62);const F=Object(r.c)("div")`
  flex: ${({inline:e})=>e?"1 1 0":"0 0 100%"};
  margin-right: ${({inline:e,isLast:t,theme:a})=>e&&!t?""+a.spacing["spacing-l"]:0};
  position: relative;
`,v=Object(r.c)(D.c)`
  > * {
    vertical-align: middle;
  }
`,L=Object(r.c)(D.g)`
  margin-bottom: ${({theme:e})=>e.spacing["spacing-l"]};
`,f=Object(r.c)("div")`
  position: absolute;
  right: -65px;
  top: 12px;
`,C=Object(r.c)("div")`
  position: absolute;
  right: 10px;
  top: 14px;
  z-index: 1;
`,M=Object(r.c)(D.g)`
  margin-bottom: ${({theme:e})=>e.spacing["spacing-xs"]};
`,w=Object(r.c)(L,{shouldForwardProp:e=>"isLast"!==e})`
  margin-right: ${({theme:e,isLast:t})=>t?0:e.spacing["spacing-l"]};
`,G=Object(r.c)(D.g)`
  margin-top: ${({theme:e})=>e.spacing["spacing-l"]};
`,y=Object(r.c)(D.c)`
  margin-right: ${({theme:e})=>e.spacing["spacing-xxxxl"]};
`,j=Object(r.c)("div")`
  table {
    td {
      max-width: 170px;

      span {
        overflow: hidden;
        text-overflow: ellipsis;
        height: 12px;
      }
    }
  }
`;var W=function({fieldName:e,newFields:t,fieldLabels:a,onAddItem:r,onRemoveItem:c,validationSchema:i,initialValues:_,onEditSubmit:E,useValuesInSchema:o=!1,max:d,useWindowTable:p=!1,addButtonText:u="COMMON_ACTION_ADD",invalid:S,...T}){const O=Object(n.useContext)(D.l),[W,V]=Object(n.useState)(!0),x=Object(n.useCallback)(t=>!t.disableRemove&&l.a.createElement(s,null,l.a.createElement(v,{name:`remove-${e}-${t.id}`,size:"small",type:"button",variant:"inline",legacy:!1,onClick:async()=>{V(!1),c(t),await Promise.resolve(),V(!0)}},l.a.createElement(I.c,{id:"COMMON_ACTION_REMOVE"}))),[e,V,c]),U=Object(n.useMemo)(()=>p?A.a:m.a,[p]);return l.a.createElement(g.c,{enableReinitialize:!0,onSubmit:t=>{E(t[e])},initialValues:_,validationSchema:()=>o?h.a.lazy(e=>i(e)):i},({values:n,errors:i,setFieldValue:E,handleSubmit:o,handleReset:s,setTouched:p})=>l.a.createElement(l.a.Fragment,null,t.map((a,c)=>l.a.createElement(F,{inline:a.inline,isLast:c===t.length-1,key:a.name},l.a.createElement(L,{flexDirection:"column",width:"100%"},l.a.createElement(P.Field,Object.assign({disabled:n.editActive||n[e].length>=d,full:!0,name:a.name,placeholder:a.placeholder,type:a.type,label:a.label,invalid:n[a.name]?i[a.name]:S,fast:!0},"dropdown"!==a.type?{autoComplete:a.autoComplete}:{options:a.options,translateOptions:a.translateOptions,translatePlaceholder:!0,validated:a.validated}))),!O&&r&&c===t.length-1&&l.a.createElement(f,null,l.a.createElement(v,{name:"add-"+e,size:"small",type:"button",variant:"inline",legacy:!1,onClick:async e=>{e.preventDefault(),V(!1);const a=t.reduce((e,t)=>(e[t.name]=!0,e),{}),l=await p(a,!0);t.find(e=>l[e.name])||r(n),V(!0)},Icon:R.wb,disabled:n.editActive||n[e].length>=d||!n[a.name]},l.a.createElement(I.c,{id:u}))))),n.editActive?l.a.createElement(l.a.Fragment,null,n[e].map((n,r)=>l.a.createElement(M,{key:n.id,width:"100%"},T.columns.map((n,c)=>t[c]?l.a.createElement(w,{key:n.id,isLast:c===T.columns.length-1,flexDirection:"column",flex:"1 1 50%"},l.a.createElement(P.Field,Object.assign({full:!0,label:a[n.id],name:`${e}[${r}][${n.id}]`,type:t[c].type,fast:!0},"dropdown"!==t[c].type?{}:{options:t[c].options,translateLabel:!0,translateOptions:t[c].translateOptions,translatePlaceholder:!0,type:t[c].type,validated:t[c].validated}))):null))),l.a.createElement(G,{justifyContent:"flex-end",width:"100%"},l.a.createElement(y,{name:"edit-cancel-"+e,size:"large",type:"button",variant:"default",legacy:!1,onClick:()=>{s(),E("editActive",!1)}},l.a.createElement(I.c,{id:"COMMON_ACTION_CANCEL"})),l.a.createElement(D.c,{name:"edit-submit-"+e,type:"button",variant:"primary",legacy:!1,onClick:o,disabled:Object(N.a)(Object(b.a)(n,"editActive"),Object(b.a)(_,"editActive"))},l.a.createElement(I.c,{id:"COMMON_ACTION_SAVE_CHANGES"})))):n[e].length>0&&l.a.createElement(F,null,l.a.createElement(C,null,l.a.createElement(v,{name:"edit-"+e,size:"small",type:"button",variant:"inline",legacy:!1,onClick:()=>{s(),E("editActive",!0)},Icon:R.ub},l.a.createElement(I.c,{id:"COMMON_ACTION_EDIT"}))),n[e].length&&W&&l.a.createElement(j,null,l.a.createElement(U,{columns:T.columns,disableColumnFilters:!0,disableSelection:!0,disableTextPointer:!0,items:n[e],renderRowPopoverContent:c?x:void 0})))))}},1929:function(e,t,a){"use strict";var n=a(0),l=a.n(n),r=a(5),c=a(2),i=a(1946),_=a.n(i),E=a(1741),o=a(520),s=a(521);const d=Object(r.c)("span")`
  line-height: 1.5;
  margin-top: ${({theme:e})=>e.spacing["spacing-xxxxl"]};
`;t.a=({when:e,ignoredPaths:t=null,onLeave:a=null,onStay:r=null})=>{const i=Object(n.useMemo)(()=>({overlay:{"--modal-z-index":2e3}}),[]),p=Object(s.a)(t),m=Object(n.useCallback)((e,t)=>t.pathname!==e.pathname,[]),u=Object(n.useCallback)(e=>(e={},t={})=>p(e,t)&&m(e,t),[p,m]);return!!e&&l.a.createElement(_.a,{when:u(t)},({onCancel:e,onConfirm:t})=>l.a.createElement(E.a,{actions:[{type:"button",text:l.a.createElement(c.c,{id:"SETTINGS_MODAL_UNSAVED_CHANGES_STAY"}),onClick:()=>r?r(e):e()},{type:"button",text:l.a.createElement(c.c,{id:"SETTINGS_MODAL_UNSAVED_CHANGES_LEAVE"}),onClick:()=>a?a(t):t(),variant:"primary"}],isOpen:!0,size:"small",style:i,parentSelector:o.b,title:l.a.createElement(c.c,{id:"SETTINGS_MODAL_UNSAVED_CHANGES_TITLE"}),onRequestClose:()=>r?r(e):e()},l.a.createElement(d,null,l.a.createElement(c.c,{id:"SETTINGS_MODAL_UNSAVED_CHANGES_CONTENT"}))))}},1930:function(e,t,a){"use strict";var n=a(0),l=a(36);t.a=()=>{const e=Object(l.l)(),[t]=Object(n.useState)(e.pathname),[a,r]=Object(n.useState)(!1),c=Object(n.useRef)();return Object(n.useEffect)(()=>{r(!1);const a=/^(.*)\/[a-z0-9]*/i.exec(t),n=/^(.*)\/[a-z0-9]*/i.exec(e.pathname);return a[0].length===n[0].length&&a[1]===n[1]&&(c.current=setTimeout(()=>r(!0),500)),()=>clearTimeout(c.current)},[e.pathname,t]),a}},1931:function(e,t,a){"use strict";a.d(t,"a",(function(){return R})),a.d(t,"b",(function(){return g})),a.d(t,"c",(function(){return D}));var n=a(0),l=a.n(n),r=a(5),c=a(643),i=a(32),_=a(1932),E=a(8),o=a(15),s=a(45),d=a(17),p=a(189),m=a(41);const u=Object(r.c)(p.c)`
  margin-left: ${({theme:e})=>e.spacing["spacing-xs"]};
`;var S=({video:e})=>{const t=Object(E.useDispatch)(),a=Object(n.useCallback)(()=>{const a=`SETTINGS_${e.toUpperCase()}_INTRO`;t(Object(d.g)({modalType:m.a[a],modalProps:{closeModal:()=>t(Object(d.e)())}}))},[t,e]);return l.a.createElement(u,{legacy:!1,name:"learn-more-"+e,variant:"inline",onClick:a},l.a.createElement(o.vb,{color:s.a["blue-3"]}))},T=a(1933),O=a(71),N=a(227);const b=Object(r.c)(O.c)`
  flex: none;
  width: 96px;
  height: 54px;
  border-radius: ${({theme:e})=>e.spacing["spacing-xs"]};
  opacity: 0.8;
  transition: opacity 100ms ease;
  margin-right: ${({theme:e})=>e.spacing["spacing-xl"]};

  &:focus,
  &:hover {
    opacity: 1;
  }
`,I=Object(r.c)("img")`
  height: 100%;
  left: 0;
  object-fit: cover;
  position: absolute;
  top: 0;
  width: 100%;
`,h=Object(r.c)(o.vb)`
  left: 50%;
  margin-left: 0 !important;
  position: absolute;
  top: 50%;
  transform: translate(-50%, -50%);

  circle {
    fill: rgba(255, 255, 255, 0.7);
    stroke: rgba(255, 255, 255, 0);
  }
`;var R,A=({video:e})=>{const t=Object(E.useDispatch)(),a=Object(E.useSelector)(N.a),r=Object(n.useCallback)(()=>{const a=`SETTINGS_${e.toUpperCase()}_INTRO`;t(Object(d.g)({modalType:m.a[a],modalProps:{closeModal:()=>t(Object(d.e)())}}))},[t,e]);return l.a.createElement(b,{legacy:!1,name:"learn-more-"+e,variant:"inline",onClick:r},l.a.createElement(I,{alt:e,src:`${a}/settingsIntro/previews/${e}/preview.png`}),l.a.createElement(h,{color:s.a["blue-3"],size:"large"}))};!function(e){e.BASIC="basic",e.CONFIGURED="configured",e.STATUS="status",e.UNCONFIGURED="unconfigured"}(R||(R={}));const g=Object(r.c)(O.g)`
  margin-right: ${({theme:e})=>e.spacing["spacing-xxxxl"]};
`,D=Object(r.c)(O.g)`
  * {
    line-height: 1.4 !important;
  }
`,P=Object(r.c)(c.a)`
  &:not(:last-child) {
    margin-right: ${({theme:e})=>e.spacing["spacing-m"]};
  }
`;t.d=({label:e,type:t,description:a,section:n,status:r,video:c,online:E})=>{let o;switch(t){default:case R.BASIC:o=e;break;case R.CONFIGURED:o=l.a.createElement(D,{alignItems:"center"},e,!!n&&l.a.createElement(_.a,{section:n}),!!c&&E&&l.a.createElement(S,{video:c}));break;case R.STATUS:o=l.a.createElement(D,{alignItems:"center"},l.a.createElement(P,{variant:r}),l.a.createElement(g,{flex:"1",flexDirection:"column"},e,a&&l.a.createElement(i.a,null,a)));break;case R.UNCONFIGURED:o=l.a.createElement(D,{alignItems:"center"},!!n&&l.a.createElement(l.a.Fragment,null,l.a.createElement(T.a,{section:n}),l.a.createElement(O.g,{flex:"0 1 128px",flexDirection:"column"},e,l.a.createElement(i.a,null,a))),!!c&&E&&l.a.createElement(l.a.Fragment,null,l.a.createElement(A,{video:c}),l.a.createElement(O.g,{flex:"0 1 128px",flexDirection:"column"},e,l.a.createElement(i.a,null,a))),!!c&&!E&&l.a.createElement(D,{alignItems:"center"},e))}return o}},1932:function(e,t,a){"use strict";var n=a(0),l=a.n(n),r=a(5),c=a(8),i=a(15),_=a(45),E=a(1936),o=a(189);const s=Object(r.c)(o.c)`
  margin-left: ${({theme:e})=>e.spacing["spacing-xs"]};
`;t.a=({section:e})=>{const t=Object(c.useDispatch)(),a=Object(n.useCallback)(()=>t(Object(E.a)(e)),[t,e]);return l.a.createElement(s,{legacy:!1,name:"learn-more-"+e,variant:"inline",onClick:a},l.a.createElement(i.vb,{color:_.a["blue-3"]}))}},1933:function(e,t,a){"use strict";var n=a(0),l=a.n(n),r=a(5),c=a(8),i=a(15),_=a(45),E=a(1936),o=a(71),s=a(43);const d=Object(r.c)(o.c)`
  flex: none;
  width: 96px;
  height: 54px;
  border-radius: ${({theme:e})=>e.spacing["spacing-xs"]};
  opacity: 0.8;
  transition: opacity 100ms ease;
  margin-right: ${({theme:e})=>e.spacing["spacing-xl"]};

  &:focus,
  &:hover {
    opacity: 1;
  }
`,p=Object(r.c)("img")`
  height: 100%;
  left: 0;
  object-fit: cover;
  position: absolute;
  top: 0;
  width: 100%;
`,m=Object(r.c)(i.vb)`
  left: 50%;
  margin-left: 0 !important;
  position: absolute;
  top: 50%;
  transform: translate(-50%, -50%);

  circle {
    fill: rgba(255, 255, 255, 0.7);
    stroke: rgba(255, 255, 255, 0);
  }
`;t.a=({section:e})=>{const t=Object(c.useDispatch)(),a=Object(c.useSelector)(s.i),r=Object(n.useCallback)(()=>t(Object(E.a)(e)),[t,e]);return l.a.createElement(d,{legacy:!1,name:"learn-more-"+e,variant:"inline",onClick:r},l.a.createElement(p,{alt:e,src:`${a}data/animations/${e}/previews/preview.png`}),l.a.createElement(m,{color:_.a["blue-3"],size:"large"}))}},1934:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));const n={HEADER_HEIGHT:49,ROW_HEIGHT:32,getHeight(e,t,a,n){return Math.min((n||this.ROW_HEIGHT)*e+(null!=a?a:this.HEADER_HEIGHT),(n||this.ROW_HEIGHT)*t+(null!=a?a:this.HEADER_HEIGHT))}}},1935:function(e,t,a){"use strict";a.d(t,"a",(function(){return E})),a.d(t,"b",(function(){return o.d})),a.d(t,"c",(function(){return o.a}));var n=a(0),l=a.n(n),r=a(5),c=a(15),i=a(71);const _=Object(r.c)(i.g)`
  > * {
    color: ${({theme:e})=>e.motifPalette.interactiveText02} !important;
    font-size: ${({theme:e})=>e.fontSize["font-size-m"]} !important;

    &:not(:first-child) {
      margin-left: ${({theme:e})=>e.spacing["spacing-s"]} !important;
    }
  }
`;var E=({children:e,...t})=>l.a.createElement(_,Object.assign({alignItems:"center"},t),e,l.a.createElement(c.g,null)),o=a(1931)},1936:function(e,t,a){"use strict";a.d(t,"a",(function(){return r}));var n=a(17),l=a(41);const r=e=>Object(n.g)({modalType:l.a.ONBOARDING_ANIMATION,modalProps:{name:e}})},1937:function(e,t,a){"use strict";a.d(t,"a",(function(){return n.a})),a.d(t,"b",(function(){return n.b})),a.d(t,"c",(function(){return n.c})),a.d(t,"e",(function(){return Z})),a.d(t,"d",(function(){return Q.a})),a.d(t,"f",(function(){return Q.c})),a.d(t,"h",(function(){return Q.e})),a.d(t,"g",(function(){return Q.d})),a.d(t,"i",(function(){return te}));var n=a(1935);a(1932),a(1933);var l=a(0),r=a.n(l),c=a(5);var i=({children:e="",className:t=null,full:a=!1,offset:n=1,size:l=6,...i})=>{const _=a?12:l,E=a?0:n;return r.a.createElement("div",Object.assign({className:Object(c.b)("col-"+_,"offset-"+E,t)},i),e)};var _,E=({children:e="",offset:t=0,size:a=2})=>r.a.createElement("div",{className:Object(c.b)("col-"+a,"offset-"+t)},e),o=a(2),s=a(666),d=a.n(s),p=a(71),m=a(1964),u=a.n(m),S=a(140),T=a.n(S),O=a(111);!function(e){e.DANGER="danger",e.NEUTRAL="neutral",e.NONE="none",e.PRIMARY="primary",e.SUCCESS="success",e.WARNING="warning"}(_||(_={}));const N=T.a.bind(u.a);var b=({className:e=null,status:t=_.NEUTRAL,...a})=>r.a.createElement(O.a,Object.assign({},a,{className:N("ubntStatusText","ubntStatusText--"+t,e)})),I=a(254),h=a(1944);const R=Object(c.c)(p.g)`
  border: 1px solid ${I.b.colors.yellow};
  border-radius: 4px;
  cursor: initial;
  margin-left: 8px;
  user-select: none;
`,A=Object(c.c)(b)`
  font-size: 8px !important;
  letter-spacing: 0.2px;
  padding: 3px 3px;
  white-space: nowrap;
`;var g=({state:e,className:t=null,...a})=>r.a.createElement(R,Object.assign({alignItems:"center",className:t,height:14,inline:!0,justifyContent:"center"},a),r.a.createElement(A,{message:h.b[e],status:_.WARNING})),D=a(322),P=a(82),F=a(8),v=a(45),L=a(70),f=a(20);const C={BORDER_WIDTH:2},M={LEFT:-17,PADDING_BOTTOM:15,PADDING_TOP:15,PADDING_X:15,TOP:-17},w=({type:e,size:t,width:a,height:n})=>{switch(e){case D.SearchHighlightType.FIELD:default:{const{LEFT:e,PADDING_BOTTOM:a,PADDING_TOP:n,PADDING_X:l,TOP:r}=M;return{top:r,left:e,padding:`${n}px ${l}px ${a}px`,width:100+100*(12-t)/t+"%",height:"100%"}}}};function G({type:e,forId:t,highlightStyle:a,highlightDelay:n,size:r,width:i,height:_}){const E=Object(F.useSelector)(D.selectHighlight),[o,s]=Object(L.c)(0),[d,p]=Object(L.c)(!1),m=Object(l.useRef)(null),u=Object(l.useMemo)(()=>(({color:e,show:t,style:a})=>Object(c.a)({"&::before":{border:`${C.BORDER_WIDTH}px solid ${t?e:"rgba(255, 255, 255, 0)"}`,borderRadius:7.5,boxShadow:t?"0 0 10px 0 "+e:"none",boxSizing:"content-box",content:"''",display:"block",pointerEvents:"none",position:"absolute",transition:"border-color 200ms ease, box-shadow 200ms ease",...a}}))({color:v.a["blue-light-3"],show:d,style:{...w({type:e,size:r,width:i,height:_}),...a}}),[d,e,a,r,i,_]);return Object(l.useEffect)(()=>{if(Number.isFinite(n)&&n>o)s(o+1);else if(m.current&&t===E.id&&E.type===e){window.getComputedStyle(m.current).border,window.getComputedStyle(m.current).boxShadow;let t=m.current.parentElement,n=null;for(;null!==t;){if("auto"===window.getComputedStyle(t).overflow){n=t;break}t=t.parentElement}if(n){const{bottom:t,height:l,top:r}=(({height:e,highlightRef:t,type:a,highlightStyle:n})=>{if(!t||!t.current)return{bottom:0,height:0,top:0};const{height:l,top:r}=t.current.getBoundingClientRect();switch(a){case D.SearchHighlightType.FIELD:default:{const{PADDING_BOTTOM:e,PADDING_TOP:t,TOP:a}=M,c=r+Object(f.a)(n,"top",a),i=c+l+Object(f.a)(n,"paddingBottom",e)+Object(f.a)(n,"paddingTop",t)+2*C.BORDER_WIDTH;return{bottom:i,height:i-c,top:c}}}})({height:_,highlightRef:m,type:e,highlightStyle:a}),{bottom:c,height:i,top:E}=n.getBoundingClientRect(),o=t>c,s=l>i,d=15;r<E||s?n.scrollTo({behavior:"smooth",top:n.scrollTop-E+r-d}):o&&n.scrollTo({behavior:"smooth",top:n.scrollTop+t-c+d})}p(!0)}},[_,o]),Object(l.useEffect)(()=>{d||E.id!==t||s(e=>e+1),d&&E.id!==t&&p(!1)},[E.id,d]),{highlightClassName:u,highlightRef:m}}const y=Object(c.c)(d.a)`
  color: ${P.a} !important;
  cursor: pointer;
  font-size: 12px;
  line-height: 1.6 !important;
  opacity: 0.7;
  transition: opacity 200ms ease;
`,j=Object(c.c)(d.a)`
  color: white;
  cursor: pointer;
  font-size: 13px;
  letter-spacing: 0.2px;
  line-height: 1.6 !important;
  opacity: 0.7;
  transition: opacity 200ms ease;
`,W=c.a`
  cursor: pointer;
  user-select: none;

  &:hover {
    // Made the class plain text instead of \${StyledDescription} because TypeScript compiler breaks the interpolation
    .settingsGridDescription {
      opacity: 1;
    }

    // Same here
    .settingsGridLabel {
      color: white;
      opacity: 1;
    }
  }
`;var V=({text:e,badge:t=null,children:a=null,description:n="",descriptionValues:l={},dontTranslateText:i=!1,highlightDelay:_=null,highlightStyle:E=null,htmlFor:s=null,offset:d=0,size:p=5,useHtml:m=!1})=>{const{highlightClassName:u,highlightRef:S}=G({type:D.SearchHighlightType.FIELD,forId:s,highlightStyle:E,highlightDelay:_,size:p}),T=!(!n&&!a),O={["col-"+p]:!0,["offset-"+d]:d>0},N=m?o.b:o.c;return r.a.createElement("div",{className:Object(c.b)(O,W,u),ref:S},r.a.createElement("div",{className:"mb-1"},r.a.createElement(j,{className:"settingsGridLabel",htmlFor:s,primary:!0},i?e:r.a.createElement(o.c,{id:e})),t&&r.a.createElement(g,{state:t})),T&&r.a.createElement("div",null,r.a.createElement(y,{className:"settingsGridDescription",htmlFor:s,secondary:!0},n?r.a.createElement(N,{id:n,values:l}):a)))};const x=c.a`
  max-width: 960px;
`,U=({children:e="",className:t="",forwardedRef:a,leaveSpaceForValidationMessage:n=!1,marginTop:l=8,noWidthLimit:i=!1})=>{const _=n?4:l;return r.a.createElement("div",{className:Object(c.b)("row","mt-"+_,i?null:x,t),ref:a},e)};var k=r.a.forwardRef((e,t)=>r.a.createElement(U,Object.assign({forwardedRef:t},e)));var K=e=>r.a.createElement("div",{className:"mt-2 mb-6"},r.a.createElement(O.a,Object.assign({color:"white",weight:"400",size:"large"},e)));const H=Object(c.c)("div")`
  flex: 0 1 480px;
`,B=Object(c.c)("h2")`
  font-weight: normal;
  letter-spacing: 2px;
  text-transform: uppercase;
`;var $=({text:e,className:t="",description:a="",highlightDelay:n=null,highlightStyle:l=null,section:i=null})=>{const _=I.b.sectionColors.common;return r.a.createElement(k,{className:t,marginTop:0},r.a.createElement(H,null,r.a.createElement(B,{className:Object(c.b)("mt-8","type-larger"),style:{color:_}},r.a.createElement(o.c,{id:e})),a&&r.a.createElement(O.a,{message:a,className:"mt-3",lineHeight:2,display:"block",size:"small"})))};const Y=Object(c.c)("div")`
  > * {
    border-bottom: ${({noDivider:e})=>e?0:"1px solid var(--ubnt-color-border-primary)"};
  }

  &:last-child > * {
    border-bottom: 0;
  }
`,z=({children:e,className:t="",noBottomMargin:a=!1,noDivider:n=!1})=>r.a.createElement(Y,{className:Object(c.b)("container","px-8",t),noDivider:n},r.a.createElement("div",{className:Object(c.b)({"pb-8":!a})},e));z.Content=i,z.Icon=E,z.Label=V,z.Row=k,z.SectionHeader=K,z.Subheader=$;var X=a(284);const q=Object(c.c)(X.c,{shouldForwardProp:e=>"withStickyButton"!==e&&"noPadding"!==e})`
  padding: ${({noPadding:e=!1,theme:t,withStickyButton:a=!1})=>e?"0":`0 ${2*parseInt(t.spacing["spacing-xxxxl"],10)}px ${a?2*parseInt(t.spacing["spacing-xxxl"],10)+"px":"0"}`};
`;var Z=e=>r.a.createElement(q,Object.assign({},e)),Q=a(1926),J=a(168),ee=a(21);const te=({lastQuery:e=0})=>{const t=Object(F.useSelector)(J.C);return e>0?r.a.createElement(ee.a,{alignItems:"center"},r.a.createElement(o.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_CHECK_QUERY_STATUS_LABEL"}),"",r.a.createElement(o.a,{value:new Date(1e3*e),year:"numeric",month:"long",day:"2-digit",hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!t})):r.a.createElement(o.c,{id:"SETTINGS_SYSTEM_MAINTENANCE_UPDATE_STATUS_QUERY_NONE"})};a(1929)},1938:function(e,t,a){"use strict";a.d(t,"b",(function(){return y})),a.d(t,"a",(function(){return v}));var n=a(0),l=a.n(n),r=a(5),c=a(2),i=a(44),_=a(2847),E=a(2658),o=a(1929),s=a(783),d=a(71),p=a(1940),m=a(15),u=a(32),S=a(42),T=a(1847),O=a(782),N=a(1930);const b=r.a`
  &-appear,
  &-enter {
    opacity: 0;
    transform: translateX(15px);
  }
  &-appear-active,
  &-enter-active,
  &-appear-done,
  &-enter-done {
    opacity: 1;
    transform: translateX(0);
    transition: opacity 150ms cubic-bezier(0.25, 0.1, 0.25, 1) 130ms,
      transform 300ms cubic-bezier(0.25, 0.1, 0.25, 1.4) 130ms;
  }
  &-exit {
    opacity: 1;
    transform: translateX(0);
  }
  &-exit-active,
  &-exit-done {
    opacity: 0;
    transform: translateX(15px);
    transition: opacity 100ms linear, transform 100ms linear;
  }
`;var I=({timeout:e={enter:300,exit:100},in:t,children:a,ignoredPaths:r,...c})=>{const i=Object(N.a)(),_=Object(O.a)(r),E=Object(n.useMemo)(()=>l.a.Children.map(a,a=>null===a?a:l.a.createElement(T.a,Object.assign({appear:t||!_||i,in:t||!_||i,timeout:e,classNames:b,mountOnEnter:!0},c),a)),[a,t,_,i,e,c]);return l.a.createElement(l.a.Fragment,null,E)};const h=r.a`
  &-appear,
  &-enter {
    border-bottom: transparent !important;
  }
  &-appear-active,
  &-enter-active,
  &-appear-done,
  &-enter-done {
    transition: border-bottom 150ms cubic-bezier(0.25, 0.1, 0.25, 1);
  }
  &-exit {
    opacity: 1;
  }
  &-exit-active,
  &-exit-done {
    opacity: 0;
    transition: opacity 100ms linear;
  }
`;var R=({timeout:e={enter:150,exit:100},in:t,children:a,ignoredPaths:r,...c})=>{const i=Object(N.a)(),_=Object(O.a)(r),E=Object(n.useMemo)(()=>l.a.Children.map(a,a=>null===a?a:l.a.createElement(T.a,Object.assign({appear:t||!_||i,in:t||!_||i,timeout:e,classNames:h,mountOnEnter:!0},c),a)),[a,t,_,i,e,c]);return l.a.createElement(l.a.Fragment,null,E)};const A=Object(r.c)(d.g)`
  > * {
    /* Use margin on child rather than padding on self not to occupy space when no button is shown */
    margin-left: ${({theme:e})=>e.spacing["spacing-xxl"]};
    margin-right: ${({theme:e})=>e.spacing["spacing-xxl"]};
  }
`,g=Object(r.c)(d.g)`
  border-bottom: 1px solid ${({theme:e})=>e.motifPalette.ui03};
`,D=Object(r.c)("h1")`
  font-size: 16px;
  font-weight: normal;
`,P=Object(r.c)(d.c)`
  padding: ${({theme:e})=>e.spacing["spacing-s"]};
`,F=Object(r.c)(u.a)`
  color: ${({theme:e})=>e.motifPalette.text01} !important;
  font-size: 16px !important;
`;var v=({title:e,showBack:t,goBack:a,onEscClicked:n,hideClose:r,ignoredPaths:c})=>{const{motif:i}=Object(S.a)();return l.a.createElement(R,{ignoredPaths:c},l.a.createElement(g,{flex:"none",height:"65px"},l.a.createElement(I,{ignoredPaths:c},l.a.createElement(d.g,{alignItems:"center",flex:"1",justifyContent:"space-between"},l.a.createElement(A,{alignItems:"center",flex:"1",height:"100%"},t&&l.a.createElement(P,{legacy:!1,name:"backButton",type:"button",onClick:a,motif:i},l.a.createElement(m.f,{size:"original"}))),l.a.createElement(D,null,l.a.createElement(F,{weight:"bold"},e.component)),l.a.createElement(A,{alignItems:"center",flex:"1",height:"100%",justifyContent:"flex-end"},!r&&l.a.createElement(P,{legacy:!1,name:"closeButton",type:"button",onClick:n},l.a.createElement(m.y,{size:"original"})))))))};const L=Object(r.c)(d.g)`
  width: 100%;
  max-width: ${s.a};
  margin: 0 auto;
  padding: ${({theme:e})=>e.spacing["spacing-xxxxl"]}
    ${({theme:e})=>2*parseInt(e.spacing["spacing-xxxxl"],10)}px;
`,f=Object(r.c)("form")`
  display: flex;
  flex: 1;
  overflow: hidden;
  width: 100%;
  height: 100%;
`,C=Object(r.c)(d.g)`
  @media (max-width: 1010px) {
    flex-direction: column;
  }
`,M=Object(r.c)(_.a)`
  transition: height 100ms ease, transform 100ms ease; /* TODO: Remove with next ui-components update (v25.1.1 +)  */
  > :first-child {
    max-width: ${s.a};
    padding-left: ${({theme:e})=>2*parseInt(e.spacing["spacing-xxxxl"],10)}px !important;
    padding-right: ${({theme:e})=>2*parseInt(e.spacing["spacing-xxxxl"],10)}px !important;
    position: relative;
    margin: 0 auto;
  }
`,w=Object(r.c)(d.h)`
  background: transparent;
  overflow: scroll !important;
  margin-right: -${({theme:e})=>e.scrollBarWidth}px;
`,G=Object(r.c)(d.k)`
  height: 100%;
  width: 100%;
`;var y=({children:e,disableUnsavedChangesModal:t,goBack:a,hideClose:n,isEdit:r,isView:_,showBack:s,title:m,unsavedChangesModalIgnoredPaths:u,onEscClicked:S,submitText:T="COMMON_ACTION_APPLY_CHANGES",footerActiveOverride:O=!1,customFooterButtons:N,hidddenHeader:b,...I})=>l.a.createElement(i.c,Object.assign({enableReinitialize:!0},I),({dirty:r,handleReset:i,handleSubmit:I,isSubmitting:h})=>l.a.createElement(f,{autoComplete:"off",onSubmit:I},l.a.createElement(G,{vertical:!0},!b&&l.a.createElement(v,{goBack:a,hideClose:n,showBack:s,title:m,onEscClicked:S,ignoredPaths:u}),l.a.createElement(p.a,{ignoredPaths:u},l.a.createElement(w,{flex:"1"},l.a.createElement(L,{flex:"none",flexDirection:"column"},e))),!t&&!_&&l.a.createElement(o.a,{ignoredPaths:u,when:r&&!h}),(!_||O)&&l.a.createElement(M,{active:r||O},l.a.createElement(d.g,{justifyContent:N?"space-between":"flex-end",width:"100%",alignItems:"center"},N&&l.a.createElement(C,null,N(h)),!_&&l.a.createElement(d.g,null,l.a.createElement(E.a,{disabled:!r||h,type:"button",variant:"default",onClick:i},l.a.createElement(c.c,{id:"COMMON_ACTION_CANCEL"})),l.a.createElement(E.a,{disabled:!r||h,type:"submit",variant:"primary"},l.a.createElement(c.c,{id:T}))))))))},1940:function(e,t,a){"use strict";var n=a(0),l=a.n(n),r=a(1847),c=a(5),i=a(782),_=a(1930);const E=c.a`
  &-appear,
  &-enter {
    opacity: 0;
    transform: translateX(60px);
  }
  &-appear-active,
  &-enter-active {
    opacity: 1;
    transform: translateX(0);
    transition: opacity 150ms cubic-bezier(0.25, 0.1, 0.25, 1), transform 300ms cubic-bezier(0.25, 0.1, 0.25, 1);
  }
  &-exit {
    opacity: 1;
    transform: translateX(0);
  }
  &-exit-active,
  &-exit-done {
    opacity: 0;
    transform: translateX(60px);
    transition: opacity 100ms cubic-bezier(0.25, 0.1, 0.25, 1), transform 100ms cubic-bezier(0.25, 0.1, 0.25, 1);
  }
`;t.a=({timeout:e={enter:300,exit:100},in:t,ignoredPaths:a,children:c,...o})=>{const s=Object(_.a)(),d=Object(i.a)(a),p=Object(n.useMemo)(()=>l.a.Children.map(c,a=>null===a?a:l.a.createElement(r.a,Object.assign({appear:t||!d||s,in:t||!d||s,timeout:e,classNames:E,mountOnEnter:!0},o),a)),[c,t,d,s,e,o]);return l.a.createElement(l.a.Fragment,null,p)}},1944:function(e,t,a){"use strict";var n;a.d(t,"b",(function(){return l})),function(e){e.alpha="ALPHA",e.beta="UNIFI_LABS",e.comingSoon="COMING_SOON"}(n||(n={}));const l={[n.alpha]:"COMMON_BADGE_ALPHA",[n.beta]:"COMMON_BADGE_UNIFI_LABS",[n.comingSoon]:"COMMON_BADGE_COMING_SOON"};t.a=n},1947:function(e,t,a){"use strict";var n=a(0),l=a.n(n),r=a(1847),c=a(5);const i=(e,t)=>c.a`
  &-appear,
  &-enter {
    opacity: 0;
    display: flex !important;
    transform: translateY(-10px);
  }
  &-appear-active,
  &-enter-active {
    display: flex !important;
    ${e&&`flex-direction: ${e};`}
    ${t&&`padding: ${t};`}
    opacity: 1;
    transform: translateY(0px);
    transition: opacity 150ms ease-in-out, transform 300ms cubic-bezier(0.25, 0.1, 0.25, 1);
  }
  &-appear-done,
  &-enter-done {
    display: flex !important;
    ${e&&`flex-direction: ${e};`}
    ${t&&`padding: ${t};`}
    opacity: 1;
  }
  &-exit {
    display: flex !important;
    opacity: 0;
    height: 0;
    box-sizing: border-box;
    margin: 10px 0 0 !important;
    & > * {
      display: none;
    }
  }
  &-exit-active {
    display: flex !important;
    margin: 0 !important;
    transition: margin 300ms cubic-bezier(0.25, 0.1, 0.25, 1);
  }
  &-exit-done {
    display: none;
  }
`;t.a=l.a.memo(({timeout:e=300,in:t=!1,flexDirection:a,padding:c="0 0 32px",wrap:_=!1,children:E,...o})=>{const s=Object(n.useMemo)(()=>l.a.Children.map(E,(n,c)=>l.a.createElement(r.a,Object.assign({appear:t,in:t,timeout:e,classNames:i(a,void 0),mountOnEnter:!0},o),null===n?l.a.createElement("div",null):n)),[E,a,t,o,e]);return _?l.a.createElement(r.a,Object.assign({appear:t,in:t,timeout:e,classNames:i(a,c),mountOnEnter:!0},o),l.a.createElement("div",null,E)):l.a.createElement(l.a.Fragment,null,s)})},1951:function(e,t,a){"use strict";a.r(t),a.d(t,"fetchDhcpOptions",(function(){return d})),a.d(t,"saveDhcpOption",(function(){return p})),a.d(t,"removeDhcpOption",(function(){return m})),a.d(t,"DHCP_OPTIONS",(function(){return r})),a.d(t,"typeOptions",(function(){return c})),a.d(t,"integerOptions",(function(){return i})),a.d(t,"DHCP_USER_OPTION_PREFIX",(function(){return _})),a.d(t,"DHCP_CODE",(function(){return E})),a.d(t,"MODEL",(function(){return o})),a.d(t,"PATH",(function(){return s})),a.d(t,"selectDhcpOptions",(function(){return S})),a.d(t,"selectDhcpOptionsData",(function(){return T})),a.d(t,"selectDhcpOptionsCodes",(function(){return O})),a.d(t,"DhcpOptionTypes",(function(){return N})),a.d(t,"getDhcpOptionTypeDisplayText",(function(){return b}));var n=a(28),l=a(6);const r={BOOLEAN:"boolean",HEX_ARRAY:"hexarray",INTEGER:"integer",IP_ADDRESS:"ipaddress",MAC_ADDRESS:"macaddress",TEXT:"text"},c=[{value:r.BOOLEAN,label:"SETTINGS_GATEWAY_DHCP_TYPE_OPTION_BOOLEAN"},{value:r.HEX_ARRAY,label:"SETTINGS_GATEWAY_DHCP_TYPE_OPTION_HEX_ARRAY"},{value:r.INTEGER,label:"SETTINGS_GATEWAY_DHCP_TYPE_OPTION_INTEGER"},{value:r.IP_ADDRESS,label:"SETTINGS_GATEWAY_DHCP_TYPE_OPTION_IPADDRESS"},{value:r.MAC_ADDRESS,label:"SETTINGS_GATEWAY_DHCP_TYPE_OPTION_MAC_ADDRESS"},{value:r.TEXT,label:"SETTINGS_GATEWAY_DHCP_TYPE_OPTION_TEXT"}],i=[8,16,32].map(e=>({value:e,label:e})),_="dhcpd_user_option_",E={MIN:7,MAX:254,DISALLOWED_CODES:[15,42,43,44,51,66,67,252],SIGNED_EXTENTS:{8:{min:-128,max:127},16:{min:-32768,max:32767},32:{min:2**32/-2,max:2**32/2-1}},UNSIGNED_EXTENTS:{8:{min:0,max:255},16:{min:0,max:65535},32:{min:0,max:2**32-1}}},o="dhcpOptions",s="/api/s/{site}/rest/dhcpoption",d=(e={})=>Object(l.q)(o,s,void 0,{...e,idField:"_id"}),p=e=>{const{_id:t}=e;return t?Object(l.C)(o,t,`${s}/${t}`,e):Object(l.i)(o,s,e)},m=({_id:e,name:t})=>Object(l.n)(o,e,`${s}/${e}`,{},Object(n.a)("SETTINGS_GATEWAY_DHCP_OPTION_REMOVE_ERROR","SETTINGS_GATEWAY_DHCP_OPTION_REMOVE_SUCCESS",{name:t}));var u=a(4);const S=Object(l.A)(d()),T=Object(u.a)(S,n.c),O=Object(u.a)(T,e=>e.map(({code:e})=>e));var N;!function(e){e.BOOLEAN="boolean",e.HEX_ARRAY="hexarray",e.INTEGER="integer",e.IP_ADDRESS="ipaddress",e.MAC_ADDRESS="macaddress",e.TEXT="text"}(N||(N={}));const b=(e,t,a,n)=>{let l;switch(a){case N.BOOLEAN:l="SETTINGS_GATEWAY_DHCP_TYPE_OPTION_BOOLEAN";break;case N.HEX_ARRAY:l="SETTINGS_GATEWAY_DHCP_TYPE_OPTION_HEX_ARRAY";break;case N.INTEGER:l="SETTINGS_GATEWAY_DHCP_TYPE_OPTION_INT";break;case N.IP_ADDRESS:l="SETTINGS_GATEWAY_DHCP_TYPE_OPTION_IPADDRESS";break;case N.MAC_ADDRESS:l="SETTINGS_GATEWAY_DHCP_TYPE_OPTION_MAC_ADDRESS";break;case N.TEXT:l="SETTINGS_GATEWAY_DHCP_TYPE_OPTION_TEXT";break;default:l="COMMON_UNKNOWN"}const r=e.formatMessage({id:l});return"integer"!==a?r:e.formatMessage({id:t?"SETTINGS_GATEWAY_DHCP_LABEL_INT_SIGNED":"SETTINGS_GATEWAY_DHCP_LABEL_INT_UNSIGNED"},{width:n})}},1953:function(e,t,a){"use strict";var n;a.d(t,"a",(function(){return n})),function(e){e.K="k",e.M="M",e.G="G"}(n||(n={}))},2003:function(e,t,a){"use strict";a.d(t,"b",(function(){return r})),a.d(t,"d",(function(){return c})),a.d(t,"c",(function(){return i})),a.d(t,"e",(function(){return _})),a.d(t,"a",(function(){return E}));var n=function(e){return e.toString().substring(1).split(/\/([^/]*)$/)},l=function(e,t){var a=n(e),l=a[0],r=a[1];return new RegExp(t.call(t,l),r)},r=function(e){return l(e,(function(e){var t="^"===e.substring(0,1),a="$"===e.substring(e.length-1);if(!t&&!a)throw new Error("Unable to modify - regex does not contain modifiers to remove");return e.substring(t?1:0,e.length-(a?1:0))}))},c=function(e){return n(e)[0]},i=function(e){return l(e,(function(e){if("^"===e.substring(0,1)||"$"===e.substring(e.length-1))throw new Error("Unable to modify - regex already contains one or more modifiers");return"^".concat(e,"$")}))},_=function(e,t){if(!Array.isArray(e)||e.length<2)throw new Error("Unable to combine - missing source regexes");var a=e.map((function(e){return"(".concat(n(e)[0],")")})).join("|");return new RegExp(a,t)},E=function(e,t,a,l){return new RegExp((e||"")+n(t)[0]+(a||""),l)}},2004:function(e,t,a){"use strict";a.r(t),a.d(t,"fetchAccounts",(function(){return s})),a.d(t,"saveAccount",(function(){return d})),a.d(t,"updateAccount",(function(){return p})),a.d(t,"removeAccount",(function(){return m})),a.d(t,"createAccountsBatch",(function(){return u})),a.d(t,"updateAccountsBatch",(function(){return S})),a.d(t,"removeAccountsBatch",(function(){return T})),a.d(t,"MODEL",(function(){return l})),a.d(t,"PATH",(function(){return r})),a.d(t,"TUNNEL_TYPES",(function(){return c})),a.d(t,"NONE_VALUE",(function(){return i})),a.d(t,"tunnelTypeOptions",(function(){return _})),a.d(t,"tunnelMediumTypeOptions",(function(){return E})),a.d(t,"selectAccount",(function(){return b})),a.d(t,"selectAccounts",(function(){return I})),a.d(t,"selectNetworkAccounts",(function(){return h})),a.d(t,"selectNonNetworkAccounts",(function(){return R})),a.d(t,"selectAccountById",(function(){return A}));var n=a(6);const l="users",r="/v2/api/site/{site}/radius/"+l;var c;!function(e){e[e.PTPP=1]="PTPP",e[e.L2TP=3]="L2TP"}(c||(c={}));const i=0,_=Array.from({length:14}).map((e,t)=>0===t?{value:i,label:"SETTINGS_RADIUS_HEADERS_TUNNEL_TYPE_NONE"}:{value:t,label:"SETTINGS_RADIUS_HEADERS_TUNNEL_TYPE_"+t,values:{id:t}}),E=Array.from({length:16}).map((e,t)=>0===t?{value:i,label:"SETTINGS_RADIUS_HEADERS_TUNNEL_MEDIUM_TYPE_NONE"}:{value:t,label:"SETTINGS_RADIUS_HEADERS_TUNNEL_MEDIUM_TYPE_"+t,values:{id:t}});var o=a(28);const s=(e,t)=>Object(n.q)(l,r,e,{idField:"_id",...t}),d=e=>Object(n.h)(l,r+"/batch_add",[e],{},Object(o.a)("SETTINGS_GATEWAY_RADIUS_CREATE_USER_FORM_ERROR_MESSAGE","SETTINGS_GATEWAY_RADIUS_CREATE_USER_FORM_SUCCESS_MESSAGE",{name:e.name})),p=e=>Object(n.B)(l,r+"/batch_update",[e],{},{...Object(o.a)("SETTINGS_GATEWAY_RADIUS_CREATE_USER_FORM_ERROR_MESSAGE","SETTINGS_GATEWAY_RADIUS_CREATE_USER_FORM_SUCCESS_MESSAGE",{name:e.name}),method:"post"}),m=(e,t)=>Object(n.m)(l,r+"/batch_delete",[e],{},{...Object(o.a)("SETTINGS_GATEWAY_RADIUS_REMOVE_USER_ERROR_MESSAGE","SETTINGS_GATEWAY_RADIUS_REMOVE_USER_SUCCESS_MESSAGE",{name:t}),method:"post"}),u=e=>Object(n.h)(l,r+"/batch_add",e,{}),S=e=>Object(n.B)(l,r+"/batch_update",e,{},{method:"post"}),T=e=>Object(n.m)(l,r+"/batch_delete",e,{},{method:"post"});var O=a(63),N=a(4);const b=Object(n.A)(s()),I=Object(N.a)(b,o.c),h=e=>Object(N.a)(I,t=>t.filter(({networkconf_id:t})=>t&&t===e)||[]),R=Object(N.a)(I,e=>e.filter(({networkconf_id:e})=>!e)||[]),A=Object(N.a)(I,e=>Object(O.a)(t=>e.find(({_id:e})=>t===e)))},2005:function(e,t,a){"use strict";a.d(t,"a",(function(){return c})),a.d(t,"b",(function(){return i})),a.d(t,"c",(function(){return _}));var n=a(16),l=function(e,t){var a=t.successMessage,n=t.failureMessage;if((a||n)&&!e.createToast)throw new Error("formSubmit util requires createToast action as a prop. Please add it to mapDispatchToProps")},r=function(e){return function(t){return function(a){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(c,i){var _=i.props||t;l(_,r);var E=_.createToast,o="function"==typeof r?r(c):r,s=o.msgValues,d=o.successMessage,p=o.failureMessage;a(c,_,i).then((function(){return d&&E({icon:n.a.success,message:d,values:s}),e(i,t)})).catch((function(e){p&&E({icon:n.a.danger,message:p,values:s,errorMessage:e.msg,errorValues:e}),i.setSubmitting(!1)}))}}}},c=r((function(e){return e.setStatus({isSubmitted:!0})}))(),i=r((function(e){return e.setStatus({isSubmitted:!0})})),_=(r((function(e){return e.props.onClose()}))(),r((function(e,t){return t.onBack()})))},2034:function(e,t,a){"use strict";a.d(t,"a",(function(){return _}));var n=a(63),l=a(174),r=a(2003),c=a(105),i=Object(r.e)([c.j,c.m]),_=Object(n.a)((function(e){if("string"!=typeof e)return!1;if(!e.match(i))return!1;var t=new l.Address4(e);if(t.isValid())return t.correctForm()===t.startAddress().address;var a=new l.Address6(e);if(a.isValid()){var n=a.correctForm();return new l.Address6(n).startAddress().address===a.startAddress().address}return!1}))},2037:function(e,t,a){"use strict";a.d(t,"a",(function(){return i})),a.d(t,"b",(function(){return _}));var n=a(255),l=a(1953);const r=Object.values(l.a),c=e=>{const t=Math.min(r.length-1,Object(n.f)(e,1e3));return{value:Math.abs(e/1e3**t),unit:r[t]}},i=(e,t)=>{switch(t){case l.a.G:return Math.round(1e6*e);case l.a.M:return 1e3*e;case l.a.K:default:return e}},_=({download_kilobits_per_second:e,upload_kilobits_per_second:t})=>({download:c(e),upload:c(t)})},2054:function(e,t,a){"use strict";a.d(t,"b",(function(){return _})),a.d(t,"a",(function(){return d}));var n=a(364),l=a(1743),r=a(34),c=a(1951),i=a(2037);const _=e=>(e||[]).reduce((e,{wan_networkgroup:t=""})=>(t.toUpperCase().startsWith("WAN")&&e.push(t),e),[]),E=e=>{var t,a;const n=["cidr_prefix","gateway_ip"];return e.wan_smartq_enabled||(n.push("wan_smartq_up_rate"),n.push("wan_smartq_down_rate")),null!==(t=e.wan_dns1)&&void 0!==t||n.push("wan_dns1"),null!==(a=e.wan_dns2)&&void 0!==a||n.push("wan_dns2"),e.wan_type!==r.IpV4ConnectionType.PPPOE&&(n.push("wan_username"),n.push("x_wan_password")),e.wan_type!==r.IpV4ConnectionType.STATIC&&(n.push("wan_ip"),n.push("wan_netmask"),n.push("wan_gateway")),e.wan_provider_capabilities&&(e.wan_provider_capabilities.hasAtleastOneDefined?e.wan_provider_capabilities=(e=>Object(l.a)({...e,download_kilobits_per_second:Object(i.a)(e.download_kilobits_per_second,e.download_unit),upload_kilobits_per_second:Object(i.a)(e.upload_kilobits_per_second,e.upload_unit)},"download_unit","upload_unit","hasAtleastOneDefined"))(e.wan_provider_capabilities):delete e.wan_provider_capabilities),Object(l.a)(e,...n)},o=e=>{const t=["cidr_prefix","gateway_ip","dhcp_mode","contentFilter"],a=(e=>Object.entries(e).filter(([e,t])=>!!e.startsWith(c.DHCP_USER_OPTION_PREFIX)&&[void 0,null,""].some(e=>e===t)).map(([e])=>e))(e),{ipv6_interface_type:n,ipv6_pd_prefixid:i,vlan:_}=e;"none"===n&&t.push("ipv6_ra_priority","ipv6_ra_valid_lifetime","ipv6_ra_preferred_lifetime","dhcpdv6_enabled","dhcpdv6_start","dhcpdv6_stop","dhcpdv6_leasetime","dhcpdv6_dns_auto","dhcpdv6_dns_1","dhcpdv6_dns_2","dhcpdv6_dns_3","dhcpdv6_dns_4"),"static"!==n&&t.push("ipv6_subnet"),"pd"!==n&&t.push("ipv6_pd_interface","ipv6_pd_prefixid","ipv6_pd_start","ipv6_pd_stop");const E=e.nat_outbound_ip_addresses.filter(e=>e.ip_address);E.length||t.push("nat_outbound_ip_addresses");const o=Object(l.a)({...e,vlan_enabled:!!_,ipv6_pd_prefixid:null!=i?i:"",nat_outbound_ip_addresses:E},...t,...a),{gateway_device:s,gateway_type:d}=o;return s&&d!==r.NetworkGatewayType.default||(o.gateway_type=r.NetworkGatewayType.default,delete o.gateway_device),o},s=e=>{const t=o(e),a=[...r.vpnSpecificFields.client,...r.vpnSpecificFields.server,...r.vpnSpecificFields.siteToSite[r.SiteToSiteVpnType.AUTO_IPSEC_VTI],...r.vpnSpecificFields.siteToSite[r.SiteToSiteVpnType.MANUAL_IPSEC],...r.vpnSpecificFields.siteToSite[r.SiteToSiteVpnType.OPEN_VPN]].filter(e=>!r.networkAndVpnSharedKeys.includes(e));return Object(l.a)(t,...a)},d=({...e},t=!1)=>{if(t)return(e=>{const t=s(e);return t.l2tp_interface=e.l2tp_interface,t.l2tp_local_wan_ip=e.l2tp_local_wan_ip,t.radiusprofile_id=e.radiusprofile_id,t.vpn_type=r.ServerVpnType.L2TP_SERVER,t.x_ipsec_pre_shared_key=e.x_ipsec_pre_shared_key,t})(e);switch(e.purpose){case r.NetworkPurpose.VLAN_ONLY:return(e=>({vlan_enabled:!0,...Object(n.a)(e,["_id","site_id","purpose","name","vlan","enabled","is_nat","igmp_snooping","dhcpguard_enabled","dhcpd_ip_1","dhcpd_ip_2","dhcpd_ip_3"])}))(e);case r.NetworkPurpose.WAN:return E(e);case r.NetworkPurpose.REMOTE_USER_VPN:return(e=>{const t=o(e),a=Object(n.a)(t,...r.vpnPickKeys.server);return a.vpn_type!==r.ServerVpnType.L2TP_SERVER&&(delete a.l2tp_interface,delete a.l2tp_local_wan_ip,delete a.x_ipsec_pre_shared_key),a})(e);case r.NetworkPurpose.SITE_VPN:return(e=>{const t=o(e);return Object(n.a)({...t,ipsec_dh_group:Number(e.ipsec_dh_group),ipsec_ike_dh_group:Number(e.ipsec_ike_dh_group),ipsec_esp_dh_group:Number(e.ipsec_esp_dh_group),openvpn_mode:"site-to-site"},...r.vpnPickKeys.siteToSite[e.vpn_type])})(e);case r.NetworkPurpose.VPN_CLIENT:return(e=>{const t=o(e);return Object(n.a)(t,...r.vpnPickKeys.client)})(e);default:return s(e)}}},2056:function(e,t,a){"use strict";a.d(t,"d",(function(){return d})),a.d(t,"a",(function(){return p})),a.d(t,"c",(function(){return m})),a.d(t,"b",(function(){return u})),a.d(t,"e",(function(){return S}));var n=a(12),l=a.n(n),r=a(179),c=a.n(r),i=a(108),_=a.n(i),E=a(364);function o(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function s(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?o(Object(a),!0).forEach((function(t){l()(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):o(Object(a)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var d=function(e,t){return Object.entries(e||{}).reduce((function(e,a){var n=_()(a,2),l=n[0],r=n[1];return l.startsWith(t)&&r?[].concat(c()(e),[r]):e}),[])},p=function(e,t){var a=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,n=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",l=a>e.length?Array.from(Array(a),(function(t,a){return a<e.length?e[a]:n})):e;return l.reduce((function(e,a,n){return e[t+(n+1)]=a,e}),{})},m=function(e){for(var t=arguments.length,a=new Array(t>1?t-1:0),n=1;n<t;n++)a[n-1]=arguments[n];return Object.entries(e||{}).reduce((function(e,t){var n=_()(t,2),l=n[0],r=n[1];return a.find((function(e){return l.startsWith(e)}))||(e[l]=r),e}),{})},u=function(e,t){return Object.keys(e).reduce((function(e,a){return a.startsWith(t)?e+1:e}),0)},S=function(e,t){return s(s({},e),Object.entries(Object(E.a)(e,t)).reduce((function(e,t){var a=_()(t,2),n=a[0],r=a[1];return s(s({},e),{},l()({},n,null===r?"":r))}),{}))}},2057:function(e,t,a){"use strict";a.d(t,"a",(function(){return c}));var n=a(0),l=a.n(n),r=a(15);function c(e){var t={height:12,width:12};return e?l.a.createElement(r.u,t):l.a.createElement(r.y,t)}},2092:function(e,t,a){"use strict";a.d(t,"e",(function(){return g})),a.d(t,"b",(function(){return D})),a.d(t,"c",(function(){return P})),a.d(t,"d",(function(){return F})),a.d(t,"a",(function(){return v}));var n=a(0),l=a.n(n),r=a(5),c=a(2),i=a(63),_=a(643),E=a(32),o=a(45),s=a(105),d=a(34),p=a(61),m=a(128),u=a(533),S=a(2057),T=a(581),O=a(54),N=a(2162);const b=Object(r.c)(_.a)`
  margin-right: ${o.a["spacing-s"]};
`;function I(e,t){return((e,t)=>"ipv4"===t?e.filter(e=>s.j.test(e)):"ipv6"===t?e.filter(e=>s.m.test(e)):e)((e=>{switch(e.purpose){case d.NetworkPurpose.SITE_VPN:return"auto"!==e.vpn_type&&e.vpn_type?e.remote_vpn_subnets:e.remote_site_subnets;case d.NetworkPurpose.VPN_CLIENT:return e.remote_vpn_subnets;case d.NetworkPurpose.WAN:return[Object(m.c)(e.wan_ip,e.wan_netmask)];default:{const{ip_subnet:t,ipv6_subnet:a}=e,n=[];if(t){const{ip:e,netmask:a}=Object(m.l)(t);n.push(Object(m.c)(e,a))}if(a){const{networkIp:e,subnet:t}=Object(u.c)(a);n.push(`${e}${t}`)}return n}}})(e)||[],t).join(", ")}function h(e,t){const{wan_type:a}=t;if(Object(d.isWanNetwork)(t)){if(a===d.IpV4ConnectionType.DHCP)return e.formatMessage({id:"SETTINGS_INTERNET_VALUES_IPV4_CONNECTION_TYPE_DHCP"});if(a===d.IpV4ConnectionType.PPPOE)return e.formatMessage({id:"SETTINGS_INTERNET_VALUES_IPV4_CONNECTION_TYPE_PPPOE"})}return I(t,"ipv4")}const R=/^(([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])\.){3}([0-9]|[1-9][0-9]|1[0-9]{2}|2[0-4][0-9]|25[0-5])/,A=e=>(t,a,n,l)=>{const r=I(n,"ipv4").match(R)||[],c=I(l,"ipv4").match(R)||[];if(r[0]&&c[0]){const e=Object(m.d)(r[0]),t=Object(m.d)(c[0]);return Object(O.d)(e,t)}return Object(O.d)(h(e,n),h(e,l))},g=e=>e.vpn_type===d.SiteToSiteVpnType.AUTO_IPSEC_VTI,D=Object(i.a)(e=>[{compare:Object(p.a)(({name:e})=>e),id:"networks-table-name",label:l.a.createElement(c.c,{id:"SETTINGS_NETWORKS_TABLE_HEADER_NAME"}),renderCell:e=>l.a.createElement(l.a.Fragment,null,l.a.createElement(b,{variant:Object(T.c)(e)?"success":"neutral"}),l.a.createElement(E.a,{truncate:!0,color:"tertiary"},e.name)),sortable:!0,minWidth:110},{compare:Object(p.a)(({routerName:e})=>e),label:l.a.createElement(c.c,{id:"SETTINGS_NETWORKS_TABLE_HEADER_ROUTER"}),id:"networks-table-router",renderCell:({routerName:e})=>l.a.createElement(E.a,{truncate:!0,color:"tertiary"},e),sortable:!0,minWidth:110},{compare:A(e),filterable:!1,label:l.a.createElement(c.c,{id:"SETTINGS_NETWORKS_TABLE_HEADER_SUBNET"}),id:"networks-table-subnet",renderCell:t=>l.a.createElement(E.a,{color:"tertiary"},h(e,t)),sortable:!0,minWidth:100},{compare:Object(p.a)(({ipLeasesTotal:e})=>e),filterable:!1,label:l.a.createElement(c.c,{id:"SETTINGS_NETWORKS_TABLE_HEADER_IP_LEASES"}),id:"networks-table-ip-leases",renderCell:({ipLeasesTotal:e,ipLeasesActive:t})=>l.a.createElement(E.a,{color:"tertiary"},t||0===t?t:"-"," (",e||0===e?e:"-",")"),sortable:!0,minWidth:90},{compare:Object(p.a)(({internetName:e})=>e),filterable:!1,label:l.a.createElement(c.c,{id:"SETTINGS_NETWORKS_TABLE_HEADER_INTERNET"}),id:"networks-table-internet",renderCell:({internetName:e})=>l.a.createElement(E.a,{truncate:!0,color:"tertiary"},e),sortable:!0,minWidth:100},{compare:Object(p.a)(({lteBackupName:e})=>e),filterable:!1,label:l.a.createElement(c.c,{id:"SETTINGS_NETWORKS_TABLE_HEADER_WAN_BACKUP"}),id:"networks-table-wan-backup",renderCell:({lteBackupName:e})=>l.a.createElement(E.a,{truncate:!0,color:"tertiary"},e),sortable:!0,minWidth:100},{compare:Object(p.a)(({vpn_type:e})=>e),filterable:!1,label:l.a.createElement(c.c,{id:"SETTINGS_NETWORKS_TABLE_HEADER_VPN_SERVER"}),id:"networks-table-vpn",renderCell:({vpn_type:e})=>e?Object(S.a)(!0):"-",sortable:!0,minWidth:60},{compare:Object(p.a)(({contentFilter:e})=>e),filterable:!1,label:l.a.createElement(c.c,{id:"SETTINGS_NETWORKS_TABLE_HEADER_CONTENT_FILTER"}),id:"networks-table-content-filter",renderCell:({contentFilter:e})=>e?l.a.createElement(E.a,{color:"tertiary"},l.a.createElement(c.c,{id:e})):"-",sortable:!0,minWidth:120}]),P=e=>{const t=Object(m.i)(e,0,d.networkDefaults.MAX_DHCP_LEASES);return{start:t.dhcpStartIp,stop:t.dhcpStopIp}},F=e=>{const t=Object(u.a)(e,0,d.networkDefaults.MAX_DHCPV6_LEASES);return{start:t.dhcpStartIp,stop:t.dhcpStopIp}},v=(e,t,a,n)=>{if(a===N.a.SUBNET_OVERLAP){const a=e.filter(e=>e.ip_subnet&&e.ip_subnet!==n).find(e=>Object(m.g)(e.ip_subnet,t));if(a){const[e]=t.split("/"),{networkAddress:n,broadcastAddress:r}=Object(m.l)(a.ip_subnet);return l.a.createElement(c.c,{id:"SETTINGS_NETWORKS_SUBNET_IP_IN_USE",values:{newIp:e,networkName:a.name,ipRangeStart:n,ipRangeEnd:r}})}return null}return a}},2161:function(e,t,a){"use strict";a.d(t,"a",(function(){return n}));a(1916);var n=function(e){return e[Math.floor(Math.random()*e.length)]}},2162:function(e,t,a){"use strict";a.d(t,"a",(function(){return n})),a.d(t,"b",(function(){return w}));var n,l=a(0),r=a.n(l),c=a(2),i=a(34),_=a(30),E=a(105),o=a(2034),s=a(128),d=a(533),p=a(452);!function(e){e.SUBNET_OVERLAP="subnetOverlap"}(n||(n={}));const m=_.a.string().matches(E.j,({label:e})=>r.a.createElement(c.c,{id:"COMMON_VALIDATION_VALID_CIDR_IP_SUBNET",values:{name:r.a.createElement(c.c,{id:e})}})),u=(e,t,a)=>Object(_.f)(a).clone().notOneOf(t,({value:e})=>r.a.createElement(c.c,{id:"SETTINGS_NETWORKS_VLAN_IN_USE",values:{vlan:e}})).when(["purpose","vpn_type"],{is:(t,a)=>!a&&t!==i.NetworkPurpose.VLAN_ONLY&&e,then:_.a.number().label("SETTINGS_NETWORKS_LABEL_VLAN").required(r.a.createElement(c.c,{id:"SETTINGS_NETWORKS_VALIDATION_VLAN_REQUIRED"}))}),S=_.a.string().matches(E.d,r.a.createElement(c.c,{id:"SETTINGS_NETWORKS_DOMAIN_INVALID"})),T=_.a.string().matches(E.h,r.a.createElement(c.c,{id:"SETTINGS_NETWORKS_DHCP_IP_INVALID"})),O=_.a.string().when("dhcpd_dns_enabled",{is:!0,then:_.a.string().required(r.a.createElement(c.c,{id:"COMMON_VALIDATION_EMPTY",values:{name:r.a.createElement(c.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_VPN_NAME_SERVER_NUMBER",values:{number:1}})}})).matches(E.h,r.a.createElement(c.c,{id:"COMMON_VALIDATION_VALID_IPV4"}))}),N=_.a.string().matches(E.h,r.a.createElement(c.c,{id:"SETTINGS_NETWORKS_DHCP_UNIFI_CONTROLLER_INVALID"})),b=_.a.string().matches(E.h,r.a.createElement(c.c,{id:"SETTINGS_NETWORKS_DHCP_UNIFI_CONTROLLER_INVALID"})),I=_.a.string().matches(E.g,r.a.createElement(c.c,{id:"SETTINGS_NETWORKS_DHCP_WPAD_URL_INVALID"})),h=_.a.string().matches(E.w,r.a.createElement(c.c,{id:"SETTINGS_NETWORKS_DHCP_WPAD_URL_INVALID"})),R=_.a.string().matches(E.k,r.a.createElement(c.c,{id:"SETTINGS_NETWORKS_DHCP_IP_INVALID"})),A=_.a.string().matches(E.m,r.a.createElement(c.c,{id:"SETTINGS_NETWORKS_IPV6_SUBNET_INVALID"})),g=_.a.string().label("SETTINGS_NETWORKS_CREATE_FORM_LABEL_NETWORK_NAME").required();function D(e){const{ip_subnet:t}=this.parent;return t&&e&&Object(s.k)(t,e)}function P(e){const{ipv6_subnet:t}=this.parent;return t&&E.m.test(t)&&e&&Object(d.b)(t,e)}const F=1,v=255,L=e=>({thenConfig:t,type:a=_.a.string()})=>a.when(["purpose","vpn_type"],{is:e,then:t}),f=L((e,t)=>e===i.NetworkPurpose.SITE_VPN&&t===i.SiteToSiteVpnType.MANUAL_IPSEC),C=L((e,t)=>e===i.NetworkPurpose.SITE_VPN&&t===i.SiteToSiteVpnType.OPEN_VPN),M=L((e,t)=>e===i.NetworkPurpose.SITE_VPN&&[i.SiteToSiteVpnType.MANUAL_IPSEC,i.SiteToSiteVpnType.OPEN_VPN].some(e=>e===t)),w=(e,t,a=!1,l,d,L,w,G,y)=>{const j=a?t.filter(e=>e!==d):t,W=!!y;return _.a.object().shape({auto_scale_enabled:_.a.boolean(),dhcpd_enabled:_.a.boolean(),dhcpd_gateway_enabled:_.a.boolean(),dhcpd_gateway:_.a.string().when("dhcpd_gateway_enabled",{is:!0,then:_.a.string().label("SETTINGS_NETWORK_LABEL_DHCP_GATEWAY_INPUT").required().test("is-ip-in-subnet",r.a.createElement(c.c,{id:"SETTINGS_NETWORK_DHCP_GATEWAY_IN_IP_SUBNET_VALIDATION"}),D)}),dhcpd_leasetime:_.a.number().when("dhcpd_enabled",{is:!0,then:_.a.number().label("SETTINGS_NETWORKS_CREATE_FIELD_TITLE_DHCP_LEASETIME").required().max(i.DHCP_LEASE_TIME_MAX).min(i.DHCP_LEASE_TIME_MIN)}),dhcpd_start:_.a.string().when("dhcpd_enabled",{is:!0,then:T.label("SETTINGS_NETWORKS_CREATE_FIELD_LABEL_DHCP_RANGE_START").required().test("is-ip-in-subnet",r.a.createElement(c.c,{id:"SETTINGS_NETWORK_DHCP_RANGE_NOT_IN_IP_SUBNET_VALIDATION",values:{field:L.formatMessage({id:"SETTINGS_NETWORKS_CREATE_FIELD_LABEL_DHCP_RANGE_START"})}}),D)}),dhcpd_stop:_.a.string().when("dhcpd_enabled",{is:!0,then:T.label("SETTINGS_NETWORKS_CREATE_FIELD_LABEL_DHCP_RANGE_STOP").required().test("is-ip-in-subnet",r.a.createElement(c.c,{id:"SETTINGS_NETWORK_DHCP_RANGE_NOT_IN_IP_SUBNET_VALIDATION",values:{field:L.formatMessage({id:"SETTINGS_NETWORKS_CREATE_FIELD_LABEL_DHCP_RANGE_STOP"})}}),D)}),dhcpd_ip_1:T,dhcpd_ip_2:T,dhcpd_ip_3:T,dhcpd_dns_enabled:_.a.boolean(),dhcpd_dns_1:O,dhcpd_dns_2:T,dhcpd_dns_3:T,dhcpd_dns_4:T,dhcpd_unifi_controller:N,dhcpd_ntp_1:b,dhcpd_ntp_2:b,dhcpd_wins_enabled:_.a.boolean(),dhcpd_wins_1:_.a.string().when("dhcpd_wins_enabled",{is:!0,then:_.a.string().required(r.a.createElement(c.c,{id:"COMMON_VALIDATION_EMPTY",values:{name:r.a.createElement(c.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_VPN_WINS_SERVER_NUMBER",values:{number:1}})}})).matches(E.h,r.a.createElement(c.c,{id:"COMMON_VALIDATION_VALID_IPV4"}))}),dhcpd_wins_2:_.a.string().matches(E.h,r.a.createElement(c.c,{id:"COMMON_VALIDATION_VALID_IPV4"})),dhcpd_wpad_url:h,dhcpd_boot_server:I,ipv6_subnet:_.a.string().when("ipv6_interface_type",{is:"static",then:A.label("SETTINGS_NETWORKS_CREATE_FIELD_LABEL_IPV6_GATEWAY_SUBNET").required()}),dhcpdv6_dns_1:_.d,dhcpdv6_dns_2:_.d,dhcpdv6_dns_3:_.d,dhcpdv6_dns_4:_.d,dhcpdv6_enabled:_.a.boolean(),dhcpdv6_leasetime:_.a.number().when("dhcpdv6_enabled",{is:!0,then:_.a.number().label("SETTINGS_NETWORKS_CREATE_FIELD_TITLE_DHCP_V6_LEASETIME").required().max(i.DHCP_LEASE_TIME_MAX).min(i.DHCP_LEASE_TIME_MIN)}),dhcpdv6_start:_.a.string().when("dhcpdv6_enabled",{is:!0,then:R.label("SETTINGS_NETWORKS_CREATE_FIELD_LABEL_DHCP_RANGE_START").required().test("is-ipv6-in-subnet",r.a.createElement(c.c,{id:"SETTINGS_NETWORK_DHCP_RANGE_NOT_IN_IP_SUBNET_VALIDATION",values:{field:L.formatMessage({id:"SETTINGS_NETWORKS_CREATE_FIELD_LABEL_DHCP_RANGE_START"})}}),P)}),dhcpdv6_stop:_.a.string().when("dhcpdv6_enabled",{is:!0,then:R.label("SETTINGS_NETWORKS_CREATE_FIELD_LABEL_DHCP_RANGE_STOP").required().test("is-ipv6-in-subnet",r.a.createElement(c.c,{id:"SETTINGS_NETWORK_DHCP_RANGE_NOT_IN_IP_SUBNET_VALIDATION",values:{field:L.formatMessage({id:"SETTINGS_NETWORKS_CREATE_FIELD_LABEL_DHCP_RANGE_STOP"})}}),P)}),domain_name:S,gateway_device:_.a.string().when("gateway_type",{is:e=>e===i.NetworkGatewayType.switch,then:_.a.string().label("SETTINGS_NETWORKS_FORM_FIELD_ROUTER").required()}),gateway_type:_.a.string(),ipsec_peer_ip:f({thenConfig:_.a.string().label("SETTINGS_NETWORKS_FORM_FIELD_PEER_IP").required().matches(E.h,r.a.createElement(c.c,{id:"COMMON_VALIDATION_VALID_IPV4"}))}),ipsec_dynamic_routing:_.a.bool(),ipsec_local_ip:_.a.string().when(["purpose","vpn_type","ipsec_dynamic_routing"],(e,t,a)=>{if(e===i.NetworkPurpose.SITE_VPN&&[i.SiteToSiteVpnType.MANUAL_IPSEC].some(e=>e===t)){const e=a?/^((?!any).)*$/:/./;return _.a.string().label("SETTINGS_NETWORKS_FORM_FIELD_VPN_PUBLIC_IP").required().matches(e,r.a.createElement(c.c,{id:"SETTINGS_NETWORK_IPSEC_LOCAL_IP_VALIDATION"})).matches(Object(E.A)(E.h,/^any$/),r.a.createElement(c.c,{id:"COMMON_VALIDATION_VALID_IPV4"}))}return _.a.string()}),ipsec_interface:f({thenConfig:_.a.string().label("SETTINGS_NETWORKS_FORM_FIELD_IPSEC_INTERFACE").required()}),l2tp_local_wan_ip:_.a.string().when(["purpose","vpn_type"],(e,t)=>e===i.NetworkPurpose.REMOTE_USER_VPN&&t===i.ServerVpnType.L2TP_SERVER&&G?_.a.string().label("SETTINGS_NETWORKS_FORM_FIELD_VPN_PUBLIC_IP").required().matches(Object(E.A)(E.h,/^any$/),r.a.createElement(c.c,{id:"COMMON_VALIDATION_VALID_IPV4"})):_.a.string()),ipv6_interface_type:g,ipv6_pd_prefixid:_.a.string().when("ipv6_interface_type",{is:i.IPV6_INTERFACE_TYPES.PD,then:_.a.string().matches(E.l,r.a.createElement(c.c,{id:"SETTINGS_NETWORK_IPV6_PD_PREFIX_ID_VALIDATION"}))}),ipv6_pd_start:_.a.string().when("ipv6_interface_type",{is:i.IPV6_INTERFACE_TYPES.PD,then:R.label("SETTINGS_NETWORKS_CREATE_FIELD_LABEL_DHCP_RANGE_START").required()}),ipv6_pd_stop:_.a.string().when("ipv6_interface_type",{is:i.IPV6_INTERFACE_TYPES.PD,then:R.label("SETTINGS_NETWORKS_CREATE_FIELD_LABEL_DHCP_RANGE_STOP").required()}),ip_subnet:_.a.string().when("purpose",{is:e=>e===i.NetworkPurpose.GUEST||e===i.NetworkPurpose.CORPORATE||e===i.NetworkPurpose.REMOTE_USER_VPN,then:m.label("SETTINGS_NETWORKS_FORM_FIELD_VPN_GATEWAY_SUBNET").required().test("unique-subnet",n.SUBNET_OVERLAP,e=>!w.some(t=>!!t&&Object(s.g)(t,e)))}),name:_.e,networkgroup:_.a.string(),openvpn_remote_host:C({thenConfig:_.a.string().label("SETTINGS_NETWORKS_FORM_FIELD_OPENVPN_REMOTE_HOST").required().matches(E.f,r.a.createElement(c.c,{id:"COMMON_VALIDATION_VALID_SUBNET"}))}),openvpn_remote_address:C({thenConfig:_.a.string().label("SETTINGS_NETWORKS_FORM_FIELD_OPENVPN_REMOTE_ADDRESS").required().matches(E.h,r.a.createElement(c.c,{id:"COMMON_VALIDATION_VALID_IPV4"}))}),openvpn_remote_port:C({thenConfig:_.a.string().label("SETTINGS_NETWORKS_FORM_FIELD_OPENVPN_REMOTE_PORT").matches(E.r,r.a.createElement(c.c,{id:"COMMON_VALIDATION_VALID_PORT"}))}),openvpn_local_address:C({thenConfig:_.a.string().label("SETTINGS_NETWORKS_FORM_FIELD_OPENVPN_LOCAL_ADDRESS").required().matches(E.h,r.a.createElement(c.c,{id:"COMMON_VALIDATION_VALID_IPV4"}))}),openvpn_local_port:C({thenConfig:_.a.string().label("SETTINGS_NETWORKS_FORM_FIELD_OPENVPN_LOCAL_PORT").matches(E.r,r.a.createElement(c.c,{id:"COMMON_VALIDATION_VALID_PORT"}))}),pptpc_route_distance:_.a.number(),pptpc_server_ip:_.a.string().when(["purpose","vpn_type"],{is:(e,t)=>e===i.NetworkPurpose.VPN_CLIENT&&t===i.ClientVpnType.PPTP_CLIENT,then:_.a.string().label("SETTINGS_NETWORKS_FORM_FIELD_VPN_PPTC_SERVER").required().matches(E.g,r.a.createElement(c.c,{id:"COMMON_VALIDATION_VALID_IP"}))}),pptpc_username:_.a.string().when(["purpose","vpn_type"],{is:(e,t)=>e===i.NetworkPurpose.VPN_CLIENT&&t===i.ClientVpnType.PPTP_CLIENT,then:_.a.string().label("SETTINGS_NETWORKS_FORM_FIELD_VPN_PPTC_USERNAME").required()}),purpose:_.a.string(),remote_vpn_subnets:M({type:_.a.array(),thenConfig:_.a.array().of(_.a.string().test("networkSubnet",r.a.createElement(c.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_VPN_REMOTE_SUBNETS"}),o.a)).min(1,r.a.createElement(c.c,{id:"COMMON_VALIDATION_MIN",values:{name:r.a.createElement(c.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_VPN_REMOTE_SUBNETS"}),min:1}}))}).when("vpn_client_default_route",{is:!1,then:_.a.array().label(L.formatMessage({id:"SETTINGS_NETWORKS_FORM_FIELD_VPN_REMOTE_SUBNETS"})).of(_.a.string().test("networkSubnet",r.a.createElement(c.c,{id:"COMMON_VALIDATION_VALID_NETWORK_SUBNET"}),o.a)).min(1)}),route_distance:M({type:_.a.number(),thenConfig:_.a.number().label("SETTINGS_NETWORKS_FORM_FIELD_VPN_ROUTE_DISTANCE").required().min(F).max(v)}),vlan:!W&&u(e,j,l),vlan_enabled:_.a.boolean(),vpn_client_default_route:_.a.boolean(),vpn_type:_.a.string(),x_ipsec_pre_shared_key:_.a.string().when(["purpose","vpn_type"],{is:(e,t)=>[i.NetworkPurpose.REMOTE_USER_VPN,i.NetworkPurpose.SITE_VPN].includes(e)&&[i.ServerVpnType.L2TP_SERVER,i.SiteToSiteVpnType.MANUAL_IPSEC].includes(t),then:_.a.string().label("SETTINGS_NETWORKS_FORM_FIELD_PRE_SHARED_KEY").required()}),x_openvpn_shared_secret_key:C({thenConfig:_.a.string().label("SETTINGS_NETWORKS_FORM_FIELD_PRE_SHARED_KEY").required().matches(E.q,r.a.createElement(c.c,{id:"SETTINGS_NETWORKS_FORM_FIELD_OPENVPN_SHARED_SECRET_KEY_VALIDATION"}))}),x_pptpc_password:_.a.string().when(["purpose","vpn_type"],{is:(e,t)=>e===i.NetworkPurpose.VPN_CLIENT&&t===i.ClientVpnType.PPTP_CLIENT,then:_.a.string().label("SETTINGS_NETWORKS_FORM_FIELD_VPN_PPTC_PASSWORD").required()}),nat_outbound_ip_addresses:_.a.array().of(_.a.object().shape({wan_network_group:_.a.string().required().oneOf([p.a.WAN,p.a.WAN2]),ip_address:_.a.string().required().matches(E.h)})),radiusServerSecret:_.a.string().when(["purpose","vpn_type"],{is:(e,t)=>e===i.NetworkPurpose.REMOTE_USER_VPN&&t===i.ServerVpnType.L2TP_SERVER,then:_.a.string().label("SETTINGS_NETWORKS_FORM_FIELD_RADIUS_SECRET").required()})})}},2211:function(e,t,a){"use strict";var n=a(0),l=a.n(n),r=a(2846),c=a(1926),i=a(5);const _=Object(i.c)("div",{shouldForwardProp:e=>!["height","maxWidth","headerHeight"].includes(e)})`
  height: ${({height:e})=>e}px;
  ${({maxWidth:e})=>e?`max-width: ${e}px;`:""}
  ${({headerHeight:e})=>e?`table {\n    th {\n      height: ${e}px !important;\n    }\n  }`:""}
`;t.a=function({maxRows:e=6,headerHeight:t,maxWidth:a,forwardedRef:i,rowHeight:E,items:o,...s}){const d=Object(n.useMemo)(()=>c.b.getHeight(o.length,6,t,E)+1,[t,o.length,E]);return l.a.createElement(_,{height:d,maxWidth:a,headerHeight:t},l.a.createElement(r.a,Object.assign({ref:i,rowHeight:E,items:o},s)))}},2212:function(e,t,a){"use strict";var n=a(0),l=a.n(n),r=a(5);const c=Object(r.c)("div")`
  background: ${({theme:e})=>e.motifPalette.info};
  margin-right: ${({theme:e})=>e.spacing["spacing-s"]};
  border-radius: 50%;
  width: 16px;
  height: 16px;
  color: ${({theme:e})=>e.motifPalette.white};
  text-align: center;
  font-size: ${({theme:e})=>e.fontSize["font-size-xs"]};
  position: relative;

  &::after {
    content: 'i';
    position: absolute;
    display: block;
    left: 50%;
    top: 50%;
    transform: translate(-50%, -50%);
  }
`;t.a=()=>l.a.createElement(c,null)},2522:function(e,t,a){"use strict";var n=a(0),l=a.n(n),r=a(5),c=a(2),i=a(8),_=a(36),E=a(44),o=a(1142),s=a(15),d=a(215),p=a(65),m=a(2004),u=a(83),S=a(70),T=a(663),O=a(71),N=a(62),b=a(105),I=a(100),h=a(30);const R=(e,t)=>e.map(e=>({value:e.value,label:t.formatMessage({id:e.label},{id:e.values?e.values.id:void 0})})),A=e=>{if(e)return{...e,tunnel_type:""!==e.tunnel_type?e.tunnel_type:0,tunnel_medium_type:""!==e.tunnel_medium_type?e.tunnel_medium_type:0}},g=Object(r.c)(p.a,{shouldForwardProp:e=>"showRemove"!==e})`
  > div {
    overflow: visible !important;
  }

  ${({showRemove:e})=>e&&"& > footer > div {\n      width: 100%;\n\n      & > div:first-child {\n        margin-right: auto;\n      }\n    }"}
`,D=Object(r.c)(N.Field,{shouldForwardProp:e=>"hasHelperMessage"!==e})`
  margin-top: 28px;
  ${({hasHelperMessage:e})=>e&&"margin-bottom: 40px;"}
`,P=Object(r.c)("div")`
  margin: 60px 0 30px;
`,F=Object(r.c)(s.ab)`
  margin-right: 8px;
`,v=Object(o.a)(e=>I.a.object().shape({name:I.a.string().label("SETTINGS_RADIUS_USERS_CREATE_USER_FORM_NAME_LABEL").required().matches(b.x,l.a.createElement(c.c,{id:"SETTINGS_RADIUS_USERS_NAME_VALIDATION_MESSAGE"})),x_password:I.a.string().label("SETTINGS_RADIUS_USERS_CREATE_USER_FORM_PASSWORD_LABEL").required().min(4),vlan:Object(h.f)(e),tunnel_type:I.a.number().when("tunnel_medium_type",{is:e=>e!==m.NONE_VALUE,then:I.a.number().label("SETTINGS_RADIUS_USERS_TUNNEL_TYPE_LABEL").min(1).required()}),tunnel_medium_type:I.a.number().when("tunnel_type",{is:e=>e!==m.NONE_VALUE,then:I.a.number().label("SETTINGS_RADIUS_USERS_TUNNEL_MEDIUM_TYPE_LABEL").min(1).required()})},["tunnel_type","tunnel_medium_type"]));t.a=Object(c.f)(({simpleForm:e,onClose:t,intl:a,tunnel_type:r=0,handleOnSubmit:o,handleOnRemove:s,initialUser:p})=>{const{userId:N}=Object(_.m)(),b=Object(i.useDispatch)(),I=Object(i.useSelector)(m.selectAccountById)(N),h=p||I,L=Object(i.useSelector)(u.m),f=Object(S.i)("advanced/radius/form"),C=R(m.tunnelTypeOptions,a),M=R(m.tunnelMediumTypeOptions,a),w=Object(n.useMemo)(()=>({name:"",x_password:"",vlan:"",tunnel_type:r,tunnel_medium_type:e&&r?1:0,...A(h)}),[h,r,e]),G=v(L),y=Object(n.useCallback)((e,{setSubmitting:a})=>{const n={...e,tunnel_type:0!==e.tunnel_type?e.tunnel_type:"",tunnel_medium_type:0!==e.tunnel_medium_type?e.tunnel_medium_type:""};o?(o(n),t()):h?b(Object(m.updateAccount)(n)).then(()=>t()).catch(()=>a(!1)):b(Object(m.saveAccount)(n)).then(()=>t()).catch(()=>a(!1))},[t,b,h,o]),j=Object(n.useCallback)(e=>{e.preventDefault(),t()},[t]),W=Object(n.useCallback)(()=>{s?(s(w._id),t()):b(Object(T.b)({name:w.name,onConfirm:()=>b(Object(m.removeAccount)(w._id,w.name)).then(t())}))},[b,w._id,w.name]),V=!!w._id;return l.a.createElement(E.c,{initialValues:w,onSubmit:y,validationSchema:G},({handleSubmit:n})=>l.a.createElement(g,{size:"small",onRequestClose:t,title:a.formatMessage({id:h?"SETTINGS_ADVANCED_RADIUS_USERS_FROM_TITLE_EDIT":"SETTINGS_ADVANCED_RADIUS_USERS_FROM_TITLE_ADD"}),actions:[V&&{type:"button",text:l.a.createElement(c.c,{id:"COMMON_ACTION_REMOVE"}),onClick:W},{type:"button",text:l.a.createElement(c.c,{id:"COMMON_ACTION_CANCEL"}),onClick:j},{type:"button",text:l.a.createElement(c.c,{id:h?"COMMON_ACTION_APPLY_CHANGES":"SETTINGS_ADVANCED_RADIUS_USERS_FROM_LABEL_BUTTON_CREATE_USER"}),onClick:()=>n(),variant:"primary"}],showRemove:V},l.a.createElement("form",{autoComplete:"off",onSubmit:n},l.a.createElement(D,{label:"SETTINGS_ADVANCED_RADIUS_USERS_FROM_LABEL_NAME",name:"name",type:"input",full:!0}),l.a.createElement(D,{hasHelperMessage:!0,label:"SETTINGS_ADVANCED_RADIUS_USERS_FROM_LABEL_PASSWORD",name:"x_password",type:"password",passwordToggle:!0,full:!0,helperMessage:l.a.createElement(c.c,{id:"SETTINGS_ADVANCED_RADIUS_USERS_FROM_LABEL_PASSWORD_DESCRIPTION"})}),!e&&l.a.createElement(l.a.Fragment,null,l.a.createElement(D,{label:"SETTINGS_ADVANCED_RADIUS_USERS_FROM_LABEL_VLAN",name:"vlan",type:"input",full:!0}),l.a.createElement(D,{label:a.formatMessage({id:"SETTINGS_ADVANCED_RADIUS_USERS_FROM_LABEL_TUNNEL_TYPE"}),type:"dropdown",name:"tunnel_type",options:C,full:!0,validated:!0}),l.a.createElement(D,{label:a.formatMessage({id:"SETTINGS_ADVANCED_RADIUS_USERS_FROM_LABEL_TUNNEL_MEDIUM_TYPE"}),type:"dropdown",name:"tunnel_medium_type",options:M,full:!0,validated:!0})),e&&!o&&l.a.createElement(P,null,l.a.createElement(d.a,{variant:"inline",href:"/network"+f,target:"_blank"},l.a.createElement(O.g,{alignItems:"center"},l.a.createElement(F,null),l.a.createElement(c.c,{id:"SETTINGS_ADVANCED_RADIUS_USERS_FROM_LABEL_LINK_RADIUS_FORM"})))))))})}}]);