(window.webpackJsonpunifiNetworkUi=window.webpackJsonpunifiNetworkUi||[]).push([[11],{1919:function(e,t,n){"use strict";n.r(t);var r=n(12),o=n.n(r),s=n(48),a=n(5),i=n(8),c=n(44),u=n(2022),l=n(132),g=n(50),v=n(83),p=n(264),f=n(27),d=n(376),b=n(2005),m=n(307),h=n(338),y=n(138),O=n.n(y),k=n(94),C=n.n(k),w=n(179),j=n.n(w),R=n(377),E=n.n(R),S=n(805),_=n.n(S),P=n(113),I=n.n(P),x=n(125),D=n.n(x),U=n(116),q=n.n(U),A=n(126),L=n.n(A),N=n(127),M=n.n(N),T=n(81),B=n.n(T),F=n(0),z=n.n(F),V=n(1),G=n.n(V),H=n(140),K=n.n(H),W=n(495),Y=n(2),J=n(32),Q=n(71),X=n(15),Z=n(82);const $=a.a`
  margin-right: 8px;
`;var ee=({message:e,className:t,type:n="alert",values:r={},...o})=>{let s=X.a;return"info"===n&&(s=X.W),z.a.createElement(Q.g,{className:t},z.a.createElement(s,{className:$,color:Z.k.yellow}),z.a.createElement(J.a,Object.assign({},o),z.a.createElement(Y.c,{id:e,values:r})))},te=n(108),ne=n.n(te),re=n(2906),oe=n(2816),se=n(2787),ae=n(2492),ie=n.n(ae),ce=n(20),ue=n(2790),le=n.n(ue);function ge(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ve(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ge(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ge(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function pe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=B()(e);if(t){var o=B()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return M()(this,n)}}var fe=function(e){L()(n,e);var t=pe(n);function n(){return I()(this,n),t.apply(this,arguments)}return D()(n,[{key:"getShaders",value:function(){return ve(ve({},le()(B()(n.prototype),"getShaders",this).call(this)),{},{inject:{"vs:#decl":"\n         uniform float coef;\n        ","vs:#main-end":"\n        if (coef > 0.0) {\n          vec4 pct = vec4(segmentRatio);\n          pct.a = step(coef, segmentRatio);\n          vec4 colorA = instanceSourceColors;\n          vec4 colorB = vec4(instanceTargetColors.r, instanceTargetColors.g, instanceTargetColors.b, 0.0);\n          vec4 color = mix(colorA, colorB, pct) / 255.;\n          vColor = color;\n        }\n                    ","fs:#main-start":"\n        if (vColor.a == 0.0) discard;\n                    "}})}},{key:"draw",value:function(e){var t=this.props.coef,r=ve(ve({},e.uniforms),{},{coef:t});le()(B()(n.prototype),"draw",this).call(this,ve(ve({},e),{},{uniforms:r}))}}]),n}(n(2912).a),de=n(398),be=n(21),me=n(111),he=n(2101),ye=n(2808),Oe=n.n(ye),ke=n(455),Ce=n(189),we=Object(a.a)("padding:9px 31px;"),je=function(e){var t=e.disabled,n=e.onClickAction,r=e.blocked;return z.a.createElement(ke.a,null,z.a.createElement(Ce.c,{className:we,disabled:t,name:r?"geoip-unblock-country":"geoip-block-country",size:"large",type:"button",variant:"primary",onClick:n},z.a.createElement(Y.c,{id:r?"IPS_UNBLOCK_COUNTRY_LABEL":"IPS_BLOCK_COUNTRY_LABEL"})))};function Re(e){var t=e.isUdm,n=e.values,r=e.blocked,o=e.onClickAction,s=t?150:15;return(n.blockedCountries||[]).length===s&&!r?z.a.createElement(Y.c,{id:"IPS_GEOIP_FILTERING_WARNING_MESSAGE",values:{maxCountries:s}},(function(e){return z.a.createElement(Oe.a,{message:e},z.a.createElement(je,{blocked:r,disabled:!0,onClickAction:o}))})):z.a.createElement(je,{blocked:r,onClickAction:o})}je.propTypes={onClickAction:G.a.func.isRequired,blocked:G.a.bool.isRequired,disabled:G.a.bool},je.defaultProps={disabled:!1},Re.propTypes={isUdm:G.a.bool.isRequired,values:G.a.object.isRequired,blocked:G.a.bool.isRequired,onClickAction:G.a.func.isRequired};var Ee=Object(a.a)("cursor:pointer;"),Se=Object(a.a)("margin-right:8px;"),_e=Object(a.a)("font-size:19px;font-weight:normal;font-family:Lato,sans-serif;"),Pe=Object(a.c)("div",{target:"e15sjzd80"})("display:",(function(e){return e.visible?"block":"none"}),";"),Ie=Object(a.c)("div",{target:"e15sjzd81"})("text-align:center;padding:20px 0;");function xe(e){var t=e.isUdm,n=e.values,r=e.closePopup,o=e.countryInfo,s=e.forwardedRef,a=e.visible,i=e.onClickAction,c=o&&o.code,u=!(!o||!o.blocked);return z.a.createElement(Pe,{innerRef:s,visible:a},o&&z.a.createElement(z.a.Fragment,null,z.a.createElement(be.a,{justifyContent:"flex-end"},z.a.createElement(X.y,{onClick:r,className:Ee})),z.a.createElement(be.a,{alignItems:"center",className:"pt-2",justifyContent:"center"},z.a.createElement(he.a,{countryCode:c,className:Se}),z.a.createElement(me.a,{className:_e},o.name)),z.a.createElement(Ie,null,z.a.createElement(Re,{isUdm:t,values:n,blocked:u,onClickAction:i}))))}xe.propTypes={isUdm:G.a.bool.isRequired,values:G.a.object.isRequired,closePopup:G.a.func,countryInfo:G.a.shape({blocked:G.a.bool,code:G.a.string,name:G.a.string}),forwardedRef:G.a.oneOfType([G.a.func,G.a.object]),visible:G.a.bool,onClickAction:G.a.func},xe.defaultProps={closePopup:null,countryInfo:null,forwardedRef:null,visible:!1,onClickAction:null};var De=Object(F.forwardRef)((function(e,t){return z.a.createElement(xe,O()({forwardedRef:t},e))})),Ue=n(626);function qe(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=B()(e);if(t){var o=B()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return M()(this,n)}}var Ae=Object(a.c)("ul",{target:"e1st77eh0"})("list-style-type:none;margin-top:0;padding:0;"),Le=Object(a.c)(be.a,{target:"e1st77eh1"})("padding-bottom:4px;"),Ne=function(e){L()(n,e);var t=qe(n);function n(){var e;I()(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return e=t.call.apply(t,[this].concat(s)),o()(q()(e),"state",{hoveredCountry:null}),e}return D()(n,[{key:"render",value:function(){var e=this,t=this.props,n=t.onUnblock,r=t.blockedCountries,o=this.state.hoveredCountry;return z.a.createElement(Ae,null,r.length>0?r.map((function(t){return z.a.createElement("li",{key:t},z.a.createElement(Le,{justifyContent:"space-between",onMouseEnter:function(){return e.setState({hoveredCountry:t})},onMouseLeave:function(){return e.setState({hoveredCountry:null})}},z.a.createElement(be.a,{alignItems:"center"},z.a.createElement(he.a,{countryCode:t,margin:"0 8px 0 0"}),z.a.createElement(me.a,null,z.a.createElement(Y.c,{id:t?"COUNTRY_".concat(t.toUpperCase()):"IPS_COUNTRY_UNKNOWN"}))),o===t&&z.a.createElement(ke.a,null,z.a.createElement(Ce.c,{name:"geoip-unblock-country",variant:"link",size:"small",onClick:function(){return n(t)}},z.a.createElement(Y.c,{id:"IPS_UNBLOCK_COUNTRY_LABEL"})))))})):z.a.createElement(me.a,null,z.a.createElement(Y.c,{id:"IPS_NO_BLOCKED_COUNTRIES_DESCRIPTION"})))}}]),n}(F.Component);o()(Ne,"propTypes",{onUnblock:G.a.func.isRequired,blockedCountries:G.a.arrayOf(G.a.string)}),o()(Ne,"defaultProps",{blockedCountries:[]});var Me=Object(a.c)("div",{target:"e1w8hyjt0"})("position:absolute;top:30px;left:30px;z-index:1;"),Te=Object(a.c)("div",{target:"e1w8hyjt1"})("background:",(function(e){return"dark"===e.motif?"rgba(0, 0, 0, .75)":"rgba(255, 255, 255, .75)"}),";padding:10px 16px;width:260px;pointer-events:auto;font-family:Lato,sans-serif;border-radius:3px;"),Be=Object(a.c)(J.a,{target:"e1w8hyjt2"})("margin:8px 0 16px 0;");function Fe(e){var t=e.blockedCountries,n=e.forwardedRef,r=e.onUnblock,o=Object(F.useContext)(Ue.a).motif;return z.a.createElement(Me,{innerRef:n},z.a.createElement(Te,{motif:o},z.a.createElement(Be,{weight:"bold"},z.a.createElement(Y.c,{id:"IPS_BLOCKED_COUNTRIES_LABEL"})),z.a.createElement(Ne,{blockedCountries:t,onUnblock:r})))}Fe.propTypes={blockedCountries:G.a.arrayOf(G.a.string).isRequired,onUnblock:G.a.func.isRequired};var ze=z.a.forwardRef((function(e,t){return z.a.createElement(Fe,O()({},e,{forwardedRef:t}))}));function Ve(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function Ge(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?Ve(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):Ve(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function He(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=B()(e);if(t){var o=B()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return M()(this,n)}}var Ke=Object(a.c)("div",{target:"e1liwmuc0"})("transform:",(function(e){return"translateY(".concat(e.mapReady?"0px":"".concat(-de.d,"px"),")")}),";opacity:",(function(e){return e.mapReady?1:0}),";width:100%;display:flex;transition:opacity 250ms cubic-bezier(0.59,-0.05,0.68,0.19);"),We=function(e,t){return{width:e,height:t,latitude:38.482676064496935,longitude:-87.71105342395963,pitch:0,bearing:0,zoom:1}};function Ye(e,t){return{id:e,source:t,sourceLayer:de.g.POLYGON_SOURCE_LAYER}}var Je=function(e,t){return function(n,r,s){r&&e.forEach((function(e){var a=Ye(r,e);n.setFeatureState(a,o()({},t,s))}))}},Qe=Je([de.i.clickFills,de.i.clickOutlines],"clicked"),Xe=Je([de.i.blockFills,de.i.blockOutlines],"blocked"),Ze=function(e){L()(n,e);var t=He(n);function n(e){var r;return I()(this,n),r=t.call(this,e),o()(q()(r),"popup",z.a.createRef()),o()(q()(r),"mapGlRef",z.a.createRef()),o()(q()(r),"deckRef",z.a.createRef()),o()(q()(r),"getMap",(function(){return r.mapGlRef.current.getMap()})),o()(q()(r),"getCursor",(function(){return r.state.hoveredCountryId?"pointer":"grab"})),o()(q()(r),"animate",(function(){var e=.001,t=setInterval((function(){(e+=.005)>=1&&clearInterval(t),r.setState({coef:e})}),5)})),o()(q()(r),"onArcHovered",(function(){})),o()(q()(r),"onMapLoad",(function(){var e=r.getMap(),t=r.props.mapLoaded;r.addCustomLayers(),e.once("idle",(function(){r.renderBlockedCountries(),t(),window.requestIdleCallback?requestIdleCallback(r.animate):r.animate()}))})),o()(q()(r),"addCustomLayers",(function(){if(!r.props.geoIpDisabled){var e=r.getMap(),t=e.getStyle().layers,n=Object(ce.a)(t.filter((function(e){return"symbol"===e.type}))[0],"id",void 0);Object.entries(de.f).forEach((function(t){var n=ne()(t,2),r=n[0],o=n[1];return e.addSource(r,o)})),de.e.forEach((function(t){return e.addLayer(t,n)}))}})),o()(q()(r),"onMouseMove",(function(e){var t=e.x,n=e.y,o=r.state.hoveredCountryId;if(!r.props.geoIpDisabled&&t&&n&&r.map){var s=r.map.queryRenderedFeatures([t,n],{layers:[de.i.clickFills]}),a=ne()(s,1)[0],i=a&&a.id;i&&i!==o?(Qe(r.map,i,!0),Qe(r.map,o,!1),r.setState({hoveredCountryId:i})):!i&&o&&(Qe(r.map,o,!1),r.setState({hoveredCountryId:null}))}})),o()(q()(r),"onChangeCountryState",(function(e,t){return Xe(r.getMap(),e,t)})),o()(q()(r),"onUnblockCountry",(function(e){(0,r.props.onUnblockCountries)(e),r.changeCountriesStateOnMap([e],!1)})),o()(q()(r),"onUnblockAllCountries",(function(){var e=r.props,t=e.onUnblockCountries,n=e.blockedCountries;r.changeCountriesStateOnMap(n,!1),t(n)})),o()(q()(r),"changeCountriesStateOnMap",(function(e,t){r.getMap().queryRenderedFeatures(void 0,{layers:[de.i.blockFills]}).filter((function(t){return e.includes(t.properties.ISO_A2)})).forEach((function(e){return r.onChangeCountryState(e.id,t)}))})),o()(q()(r),"closePopup",(function(){var e=r.state.clickedCountryId;e&&(Qe(r.map,e,!1),r.setState({selectedCountry:null,clickedCountryId:null}),r.mbPopup.remove())})),o()(q()(r),"onViewStateChange",(function(e){var t=e.viewState;r.setState({viewState:t})})),o()(q()(r),"popupAction",(function(){var e=r.props,t=e.onBlockCountry,n=e.onUnblockCountries,o=r.state.selectedCountry,s=o.blocked,a=o.code,i=o.featureId;r.onChangeCountryState(i,!s),s?(n([a]),r.removeClickedCountry(),r.mbPopup.remove()):(t(a),r.closePopup())})),o()(q()(r),"removeClickedCountry",(function(){var e=r.state.clickedCountryId;Qe(r.map,e,!1),r.setState({clickedCountryId:null})})),o()(q()(r),"clickHandler",(function(e){if(!r.props.geoIpDisabled){r.closePopup();var t=r.map.queryRenderedFeatures([e.x,e.y],{layers:[de.i.clickFills]});if(t&&t.length){var n=t[0].id,o=r.state.clickedCountryId;o&&o===n||Qe(r.map,n,!0),o!==n&&Qe(r.map,o,!1),r.setState({clickedCountryId:n})}else r.removeClickedCountry();var s=r.map.queryRenderedFeatures([e.x,e.y],{layers:[de.i.blockFills]});if(s.length>0){var a=s[0].properties.NAME,i=function(e,t){return de.h[t]?de.h[t]:e[0].properties.ISO_A2}(s,a),c=s[0].id;if(de.b.find((function(e){return e.countryCode===i}))){var u=Ye(c,de.i.blockFills),l=r.map.getFeatureState(u),g=l&&l.blocked;r.setState({selectedCountry:{featureId:c,name:a,code:i,blocked:g}}),r.mbPopup=new ie.a.Popup({anchor:"bottom",closeButton:!1}).setLngLat(e.lngLat).setDOMContent(r.popup.current),r.mbPopup.addTo(r.map)}}}})),o()(q()(r),"renderBlockedCountries",(function(){if(!r.props.geoIpDisabled){var e=r.props.blockedCountries;r.changeCountriesStateOnMap(e,!0)}})),r.state={clickedCountryId:null,selectedCountry:null,hoveredCountryId:null,coef:.001,hasInitialViewState:!1},r}return D()(n,[{key:"componentDidUpdate",value:function(){!this.map&&this.mapGlRef.current&&(this.map=this.mapGlRef.current.getMap())}},{key:"componentWillUnmount",value:function(){(0,this.props.mapLoaded)(!1)}},{key:"render",value:function(){var e=this.props,t=e.apiKey,n=e.blockedCountries,r=e.geoIpDisabled,o=e.ipsEventArcData,s=e.values,a=e.mapboxStyleUrl,i=e.width,c=e.height,u=e.isMapLoaded,l=e.isUdm,g=this.state,v=g.selectedCountry,p=g.coef,f=g.viewState,d=o.arcs,b=o.arcCounts,m=Math.max.apply(Math,j()(Object.values(b))),h=new fe({id:"arc-layer",data:d,widthScale:1,getTargetColor:function(e){return e.targetColor},getSourceColor:function(e){return e.sourceColor},autoHighlight:!0,highlightColor:[255,255,255,255],pickable:!0,onHover:this.onArcHovered,coef:p,getTilt:function(e){var t=b[e.arcLabel];return t/m*70*(e.index/t-.5)},getHeight:.5});return z.a.createElement(z.a.Fragment,null,z.a.createElement(Ke,{mapReady:u},!r&&z.a.createElement(z.a.Fragment,null,z.a.createElement(De,{isUdm:l,values:s,countryInfo:v,onClickAction:this.popupAction,ref:this.popup,visible:!!v,closePopup:this.closePopup}),z.a.createElement(ze,{blockedCountries:n,maxHeight:c,onUnblock:this.onUnblockCountry,onUnblockAll:this.onUnblockAllCountries})),z.a.createElement(re.a,{controller:!0,onClick:this.clickHandler,viewState:f||We(i,c),onHover:this.onMouseMove,getCursor:this.getCursor,onViewStateChange:this.onViewStateChange,layers:[h],ref:this.deckRef},z.a.createElement(oe.a,{onLoad:this.onMapLoad,viewState:f||We(i,c),ref:this.mapGlRef,attributionControl:!1,mapboxApiAccessToken:t,mapStyle:a}))))}}],[{key:"getDerivedStateFromProps",value:function(e,t){if(!t.hasInitialViewState&&e.ipsEventArcData.arcs.length){var n,r=e.ipsEventArcData.bounds,o=e.width,s=e.height,a=[r.slice(0,2),r.slice(2,4)];try{n=Object(se.a)({width:o,height:s,bounds:a,padding:25})}catch(i){n=We()}return Ge(Ge({},t),{},{viewState:Ge(Ge({},n),{},{zoom:Math.min(n.zoom,2),pitch:50,bearing:22,mapReady:!1}),hasInitialViewState:!0})}return t}}]),n}(F.Component);function $e(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function et(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?$e(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):$e(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function tt(e){var t=function(){if("undefined"==typeof Reflect||!Reflect.construct)return!1;if(Reflect.construct.sham)return!1;if("function"==typeof Proxy)return!0;try{return Boolean.prototype.valueOf.call(Reflect.construct(Boolean,[],(function(){}))),!0}catch(e){return!1}}();return function(){var n,r=B()(e);if(t){var o=B()(this).constructor;n=Reflect.construct(r,arguments,o)}else n=r.apply(this,arguments);return M()(this,n)}}Ze.defaultProps={apiKey:null},Ze.propTypes={height:G.a.number.isRequired,onBlockCountry:G.a.func.isRequired,onUnblockCountries:G.a.func.isRequired,values:G.a.object.isRequired,mapLoaded:G.a.func.isRequired,isMapLoaded:G.a.bool.isRequired,isUdm:G.a.bool.isRequired,width:G.a.number.isRequired,mapboxStyleUrl:G.a.string.isRequired,ipsEventArcData:G.a.shape({arcs:G.a.array,arcCounts:G.a.object,bounds:G.a.array}).isRequired,apiKey:G.a.string,blockedCountries:G.a.arrayOf(G.a.string),geoIpDisabled:G.a.bool},Ze.defaultProps={blockedCountries:[],geoIpDisabled:!1};var nt=Object(a.c)("div",{target:"e1wuif3m0"})("margin-bottom:24px;position:relative;height:",de.d,"px;display:flex;flex:1;min-height:",de.d,"px;width:100%;"),rt=Object(a.c)(ee,{target:"e1wuif3m1"})("align-items:center;background-color:",(function(e){return e.theme.themeName===W.a.dark?"rgba(0, 0, 0, .75)":"rgba(255, 255, 255, .75)"}),";border-radius:7.5px;left:15px;padding:10px 15px;position:absolute;top:15px;z-index:1;"),ot=Object(a.a)("display:none;"),st=Object(a.a)("margin-bottom:0 !important;"),at=function(e){L()(n,e);var t=tt(n);function n(){var e;I()(this,n);for(var r=arguments.length,s=new Array(r),a=0;a<r;a++)s[a]=arguments[a];return e=t.call.apply(t,[this].concat(s)),o()(q()(e),"state",{dimensions:null}),o()(q()(e),"container",z.a.createRef()),o()(q()(e),"mapRef",z.a.createRef()),o()(q()(e),"onUnblockCountries",function(){var t=_()(E.a.mark((function t(n){var r,o,s,a,i;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.props,o=r.values.blockedCountries,s=r.setFieldValue,a=r.submitForm,i=(o||[]).filter((function(e){return!n.includes(e)})),s("blockedCountries",i),t.next=5,Promise.resolve();case 5:a();case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),o()(q()(e),"onBlockCountry",function(){var t=_()(E.a.mark((function t(n){var r,o,s,a,i;return E.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.props,o=r.values.blockedCountries,s=r.setFieldValue,a=r.submitForm,i=(o||[]).includes(n)?o:[].concat(j()(o||[]),[n]),s("blockedCountries",i),t.next=5,Promise.resolve();case 5:a();case 6:case"end":return t.stop()}}),t)})));return function(e){return t.apply(this,arguments)}}()),o()(q()(e),"updateDimensions",(function(){var t=e.container.current.getBoundingClientRect();e.setState({dimensions:[t.width,t.height]})})),e}return D()(n,[{key:"componentDidMount",value:function(){this.updateDimensions(),window.addEventListener("resize",this.updateDimensions)}},{key:"componentDidUpdate",value:function(e){var t=this.props,n=t.formValues,r=t.resetForm,o=t.status;!e.status.isSubmitted&&o.isSubmitted&&r({values:et({},n)})}},{key:"componentWillUnmount",value:function(){window.removeEventListener("resize",this.updateDimensions)}},{key:"render",value:function(){var e,t=this.state.dimensions,n=this.props,r=n.fetchUIData,s=n.ipsEventArcData,a=n.isHardwareOffloadAvailable,i=n.isIpsDisabled,c=n.isUdm,u=n.mapboxKey,l=n.usgSettings,g=n.values,v=n.visible,p=n.containerClassName,f=C()(n,["fetchUIData","ipsEventArcData","isHardwareOffloadAvailable","isIpsDisabled","isUdm","mapboxKey","usgSettings","values","visible","containerClassName"]);return z.a.createElement(nt,{innerRef:this.container,className:K()((e={},o()(e,ot,!v),o()(e,st,i),e),p)},!c&&!a&&l&&l.geo_ip_filtering_enabled&&z.a.createElement(rt,{message:"IPS_GEOIP_FILTERING_WARNING_HARDWARE_OFFLOAD_DISABLED"}),t&&z.a.createElement(Ze,O()({apiKey:u,geoIpDisabled:!c&&!a,fetchUIData:r,isUdm:c,values:g,ipsEventArcData:s,blockedCountries:g.blockedCountries,onBlockCountry:this.onBlockCountry,onUnblockCountries:this.onUnblockCountries,width:t[0],height:de.d,ref:this.mapRef},f)))}}]),n}(F.PureComponent);function it(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.geo_ip_filtering_countries;return t?t.split(","):[]}function ct(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function ut(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?ct(Object(n),!0).forEach((function(t){o()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):ct(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}o()(at,"propTypes",{fetchUIData:G.a.func.isRequired,formValues:G.a.object.isRequired,handleReset:G.a.func.isRequired,ipsEventArcData:G.a.object.isRequired,isHardwareOffloadAvailable:G.a.bool.isRequired,isIpsDisabled:G.a.bool.isRequired,isUdm:G.a.bool.isRequired,mapboxKey:G.a.string.isRequired,resetForm:G.a.func.isRequired,setFieldValue:G.a.func.isRequired,status:G.a.object.isRequired,submitForm:G.a.func.isRequired,usgSettings:G.a.object.isRequired,values:G.a.object.isRequired,visible:G.a.bool.isRequired,containerClassName:G.a.string}),o()(at,"defaultProps",{containerClassName:void 0});var lt=Object(a.c)("div",{target:"e6wq7xm0"})("height:",de.d,"px;min-height:",de.d,"px;"),gt=Object(c.g)({mapPropsToStatus:function(){return{isSubmitted:!1}},mapPropsToValues:function(e){return ut({},e.formValues)},handleSubmit:Object(b.a)((function(e,t){return(0,t.saveSettings)(ut(ut({},t.usgSettings),{},{geo_ip_filtering_countries:(e.blockedCountries||[]).join(","),geo_ip_filtering_block:e.geo_ip_filtering_block,geo_ip_filtering_enabled:e.geo_ip_filtering_enabled||(e.blockedCountries||[]).length>0,geo_ip_filtering_traffic_direction:e.geo_ip_filtering_traffic_direction}))}),{successMessage:"IPS_GEOIP_FILTERING_SAVE_SUCCESS",failureMessage:"IPS_GEOIP_FILTERING_SAVE_ERROR"})}),vt={createToast:f.c,fetchUIData:p.a,mapLoaded:m.f,saveSettings:g.saveSettings};t.default=Object(s.compose)(Object(i.connect)((function(e){return{mapboxKey:Object(p.c)(e),mapboxStyleUrl:Object(h.h)(e),ipsEventArcData:Object(h.f)(e),isHardwareOffloadAvailable:Object(u.a)(e),isIpsDisabled:Object(g.selectIsIpsDisabled)(e),isMapLoaded:Object(h.g)(e),isUdm:Object(v.m)(e),usgSettings:Object(g.selectUsgSettings)(e)}}),vt,(function(e,t,n){return ut(ut(ut(ut({},e),t),n),{},{formValues:{blockedCountries:it(e.usgSettings),geo_ip_filtering_block:e.usgSettings.geo_ip_filtering_block||de.a.BLOCK,geo_ip_filtering_enabled:e.usgSettings.geo_ip_filtering_enabled||!1,geo_ip_filtering_traffic_direction:e.usgSettings.geo_ip_filtering_traffic_direction||l.trafficDirections.BOTH}})})),Object(d.c)((function(e){return(0,e.fetchUIData)()}),lt),gt)(at)},2005:function(e,t,n){"use strict";n.d(t,"a",(function(){return a})),n.d(t,"b",(function(){return i})),n.d(t,"c",(function(){return c}));var r=n(16),o=function(e,t){var n=t.successMessage,r=t.failureMessage;if((n||r)&&!e.createToast)throw new Error("formSubmit util requires createToast action as a prop. Please add it to mapDispatchToProps")},s=function(e){return function(t){return function(n){var s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return function(a,i){var c=i.props||t;o(c,s);var u=c.createToast,l="function"==typeof s?s(a):s,g=l.msgValues,v=l.successMessage,p=l.failureMessage;n(a,c,i).then((function(){return v&&u({icon:r.a.success,message:v,values:g}),e(i,t)})).catch((function(e){p&&u({icon:r.a.danger,message:p,values:g,errorMessage:e.msg,errorValues:e}),i.setSubmitting(!1)}))}}}},a=s((function(e){return e.setStatus({isSubmitted:!0})}))(),i=s((function(e){return e.setStatus({isSubmitted:!0})})),c=(s((function(e){return e.props.onClose()}))(),s((function(e,t){return t.onBack()})))},2022:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var r=n(34),o=n(50);const s=e=>{const t=Object(o.selectIsIpsDisabled)(e),n=Object(r.selectWanNetworks)(e).every(({wan_smartq_enabled:e})=>!e);return t&&n}},2101:function(e,t,n){"use strict";n.d(t,"a",(function(){return O}));var r=n(138),o=n.n(r),s=n(94),a=n.n(s),i=n(0),c=n.n(i),u=n(5),l=n(1),g=n.n(l),v=n(12),p=n.n(v);function f(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function d(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?f(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):f(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var b,m=(b=n(2131)).keys().reduce((function(e,t){var n=function(e){return e.replace(/[.]svg/gi,"").replace("./","")}(t);return d(d({},e),{},p()({},n,b(t)))}),{}),h=Object(u.c)("img",{target:"ei7waqh0"})("cursor:",(function(e){return e.onClick?"pointer":null}),";vertical-align:middle;margin:",(function(e){return e.margin}),";width:",(function(e){return e.width}),"px;height:",(function(e){return e.height}),"px;box-sizing:content-box;"),y=Object(u.c)("div",{target:"ei7waqh1"})("margin:",(function(e){return e.margin}),";width:",(function(e){return e.width}),"px;height:",(function(e){return e.height}),"px;");function O(e){var t=e.countryCode,n=e.margin,r=e.onClick,s=a()(e,["countryCode","margin","onClick"]);if(!t)return c.a.createElement(y,s);var i=t.toLowerCase();return m[i]?c.a.createElement(h,o()({src:m[i],margin:n,onClick:r},s)):c.a.createElement(y,s)}O.defaultProps={margin:"0",onClick:null,height:16,width:24,style:void 0},O.propTypes={countryCode:g.a.string.isRequired,margin:g.a.string,onClick:g.a.func,height:g.a.number,width:g.a.number,style:g.a.any}},2131:function(e,t,n){var r={"./ad.svg":2213,"./ae.svg":2214,"./af.svg":2215,"./ag.svg":2216,"./ai.svg":2217,"./al.svg":2218,"./am.svg":2219,"./ao.svg":2220,"./aq.svg":2221,"./ar.svg":2222,"./as.svg":2223,"./at.svg":2224,"./au.svg":2225,"./aw.svg":2226,"./ax.svg":2227,"./az.svg":2228,"./ba.svg":2229,"./bb.svg":2230,"./bd.svg":2231,"./be.svg":2232,"./bf.svg":2233,"./bg.svg":2234,"./bh.svg":2235,"./bi.svg":2236,"./bj.svg":2237,"./bl.svg":2238,"./bm.svg":2239,"./bn.svg":2240,"./bo.svg":2241,"./bq.svg":2242,"./br.svg":2243,"./bs.svg":2244,"./bt.svg":2245,"./bv.svg":2246,"./bw.svg":2247,"./by.svg":2248,"./bz.svg":2249,"./ca.svg":2250,"./cc.svg":2251,"./cd.svg":2252,"./cf.svg":2253,"./cg.svg":2254,"./ch.svg":2255,"./ci.svg":2256,"./ck.svg":2257,"./cl.svg":2258,"./cm.svg":2259,"./cn.svg":2260,"./co.svg":2261,"./cr.svg":2262,"./cu.svg":2263,"./cv.svg":2264,"./cw.svg":2265,"./cx.svg":2266,"./cy.svg":2267,"./cz.svg":2268,"./de.svg":2269,"./dj.svg":2270,"./dk.svg":2271,"./dm.svg":2272,"./do.svg":2273,"./dz.svg":2274,"./ec.svg":2275,"./ee.svg":2276,"./eg.svg":2277,"./eh.svg":2278,"./er.svg":2279,"./es-ca.svg":2280,"./es-ga.svg":2281,"./es.svg":2282,"./et.svg":2283,"./eu.svg":2284,"./fi.svg":2285,"./fj.svg":2286,"./fk.svg":2287,"./fm.svg":2288,"./fo.svg":2289,"./fr.svg":2290,"./ga.svg":2291,"./gb-eng.svg":2292,"./gb-nir.svg":2293,"./gb-sct.svg":2294,"./gb-wls.svg":2295,"./gb.svg":2296,"./gd.svg":2297,"./ge.svg":2298,"./gf.svg":2299,"./gg.svg":2300,"./gh.svg":2301,"./gi.svg":2302,"./gl.svg":2303,"./gm.svg":2304,"./gn.svg":2305,"./gp.svg":2306,"./gq.svg":2307,"./gr.svg":2308,"./gs.svg":2309,"./gt.svg":2310,"./gu.svg":2311,"./gw.svg":2312,"./gy.svg":2313,"./hk.svg":2314,"./hm.svg":2315,"./hn.svg":2316,"./hr.svg":2317,"./ht.svg":2318,"./hu.svg":2319,"./id.svg":2320,"./ie.svg":2321,"./il.svg":2322,"./im.svg":2323,"./in.svg":2324,"./io.svg":2325,"./iq.svg":2326,"./ir.svg":2327,"./is.svg":2328,"./it.svg":2329,"./je.svg":2330,"./jm.svg":2331,"./jo.svg":2332,"./jp.svg":2333,"./ke.svg":2334,"./kg.svg":2335,"./kh.svg":2336,"./ki.svg":2337,"./km.svg":2338,"./kn.svg":2339,"./kp.svg":2340,"./kr.svg":2341,"./kw.svg":2342,"./ky.svg":2343,"./kz.svg":2344,"./la.svg":2345,"./lb.svg":2346,"./lc.svg":2347,"./li.svg":2348,"./lk.svg":2349,"./lr.svg":2350,"./ls.svg":2351,"./lt.svg":2352,"./lu.svg":2353,"./lv.svg":2354,"./ly.svg":2355,"./ma.svg":2356,"./mc.svg":2357,"./md.svg":2358,"./me.svg":2359,"./mf.svg":2360,"./mg.svg":2361,"./mh.svg":2362,"./mk.svg":2363,"./ml.svg":2364,"./mm.svg":2365,"./mn.svg":2366,"./mo.svg":2367,"./mp.svg":2368,"./mq.svg":2369,"./mr.svg":2370,"./ms.svg":2371,"./mt.svg":2372,"./mu.svg":2373,"./mv.svg":2374,"./mw.svg":2375,"./mx.svg":2376,"./my.svg":2377,"./mz.svg":2378,"./na.svg":2379,"./nc.svg":2380,"./ne.svg":2381,"./nf.svg":2382,"./ng.svg":2383,"./ni.svg":2384,"./nl.svg":2385,"./no.svg":2386,"./np.svg":2387,"./nr.svg":2388,"./nu.svg":2389,"./nz.svg":2390,"./om.svg":2391,"./pa.svg":2392,"./pe.svg":2393,"./pf.svg":2394,"./pg.svg":2395,"./ph.svg":2396,"./pk.svg":2397,"./pl.svg":2398,"./pm.svg":2399,"./pn.svg":2400,"./pr.svg":2401,"./ps.svg":2402,"./pt.svg":2403,"./pw.svg":2404,"./py.svg":2405,"./qa.svg":2406,"./re.svg":2407,"./ro.svg":2408,"./rs.svg":2409,"./ru.svg":2410,"./rw.svg":2411,"./sa.svg":2412,"./sb.svg":2413,"./sc.svg":2414,"./sd.svg":2415,"./se.svg":2416,"./sg.svg":2417,"./sh.svg":2418,"./si.svg":2419,"./sj.svg":2420,"./sk.svg":2421,"./sl.svg":2422,"./sm.svg":2423,"./sn.svg":2424,"./so.svg":2425,"./sr.svg":2426,"./ss.svg":2427,"./st.svg":2428,"./sv.svg":2429,"./sx.svg":2430,"./sy.svg":2431,"./sz.svg":2432,"./tc.svg":2433,"./td.svg":2434,"./tf.svg":2435,"./tg.svg":2436,"./th.svg":2437,"./tj.svg":2438,"./tk.svg":2439,"./tl.svg":2440,"./tm.svg":2441,"./tn.svg":2442,"./to.svg":2443,"./tr.svg":2444,"./tt.svg":2445,"./tv.svg":2446,"./tw.svg":2447,"./tz.svg":2448,"./ua.svg":2449,"./ug.svg":2450,"./um.svg":2451,"./un.svg":2452,"./us.svg":2453,"./uy.svg":2454,"./uz.svg":2455,"./va.svg":2456,"./vc.svg":2457,"./ve.svg":2458,"./vg.svg":2459,"./vi.svg":2460,"./vn.svg":2461,"./vu.svg":2462,"./wf.svg":2463,"./ws.svg":2464,"./xk.svg":2465,"./ye.svg":2466,"./yt.svg":2467,"./za.svg":2468,"./zm.svg":2469,"./zw.svg":2470};function o(e){var t=s(e);return n(t)}function s(e){if(!n.o(r,e)){var t=new Error("Cannot find module '"+e+"'");throw t.code="MODULE_NOT_FOUND",t}return r[e]}o.keys=function(){return Object.keys(r)},o.resolve=s,e.exports=o,o.id=2131},2794:function(e,t){},2807:function(e,t){}}]);